!(function (e) {
  var t = {};
  function r(n) {
    if (t[n]) return t[n].exports;
    var i = (t[n] = { i: n, l: !1, exports: {} });
    return e[n].call(i.exports, i, i.exports, r), (i.l = !0), i.exports;
  }
  (r.m = e),
    (r.c = t),
    (r.d = function (e, t, n) {
      r.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: n });
    }),
    (r.r = function (e) {
      "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e, "__esModule", { value: !0 });
    }),
    (r.t = function (e, t) {
      if ((1 & t && (e = r(e)), 8 & t)) return e;
      if (4 & t && "object" == typeof e && e && e.__esModule) return e;
      var n = Object.create(null);
      if ((r.r(n), Object.defineProperty(n, "default", { enumerable: !0, value: e }), 2 & t && "string" != typeof e))
        for (var i in e)
          r.d(
            n,
            i,
            function (t) {
              return e[t];
            }.bind(null, i),
          );
      return n;
    }),
    (r.n = function (e) {
      var t =
        e && e.__esModule
          ? function () {
              return e.default;
            }
          : function () {
              return e;
            };
      return r.d(t, "a", t), t;
    }),
    (r.o = function (e, t) {
      return Object.prototype.hasOwnProperty.call(e, t);
    }),
    (r.p = ""),
    r((r.s = 13));
})([
  function (e, t, r) {
    const n = r(2),
      i = r(1),
      o = r(3);
    e.exports = new (class {
      constructor() {
        (this.token = null), (this.token = n.getJWT());
      }
      setServerURL(e) {
        this.url = e;
      }
      data(e, t, r, i, a = !1) {
        e.includes("s3") ||
          (t.headers
            ? (t.headers["Content-Type"] = "application/json")
            : (t.headers = { "Content-Type": "application/json", "Access-Control-Allow-Origin": "*", "Access-Control-Allow-Credentials": !0, "x-api-key": o.getApiKey() }),
          e.includes("v2") && (t.headers.Authorization = "Bearer " + this.token),
          e.includes("fcm") && (t.headers.Authorization = "key=AIzaSyC6exrP2h4be6k1MaQBP1sHFqwS1kV2e4c")),
          fetch("" + (a ? "" + e : `${this.url}/${e}`), t)
            .then((e) => e.text().then((t) => ({ status: e.status, body: t })))
            .then((e) => {
              let t = n.isJsonString(e.body) ? JSON.parse(e.body) : e.body;
              e.status < 400 ? r(t) : i(t);
            })
            .catch((e) => {
              i(e);
            });
      }
      dataCache(e, t, r, n, o = !1, a = !0) {
        e = "" + (o ? "" + e : `${this.url}/${e}`);
        let s = a ? i.getSessionStorage(encodeURIComponent(e)) : i.getLocalStorage(encodeURIComponent(e));
        if (!s)
          return this.data(
            e,
            t,
            (t) => {
              let n = { data: t };
              a ? i.setSessionStorage(encodeURIComponent(e), n, 60) : i.setLocalStorage(encodeURIComponent(e), n, 60), r(t);
            },
            n,
            !0,
          );
        (s = s.data), r(s);
      }
      synchronizeRequest(e, t) {
        return new Promise(async (r, n) => {
          t.headers
            ? (t.headers["Content-Type"] = "application/json")
            : (t.headers = { "Content-Type": "application/json", "Access-Control-Allow-Origin": "*", "Access-Control-Allow-Credentials": !0, "x-api-key": o.getApiKey() }),
            await fetch(e, t)
              .then((e) => e.json())
              .then((e) => r(e))
              .catch((e) => {
                n(e);
              });
        });
      }
    })();
  },
  function (e, t) {
    e.exports = new (class {
      setSessionStorage(e, t, r = null) {
        let n = { expireTime: r ? r + this.getTimestamp() : null, value: t };
        return sessionStorage.setItem(e, JSON.stringify(n));
      }
      getSessionStorage(e) {
        let t = JSON.parse(sessionStorage.getItem(e));
        return t && t.expireTime ? (this.isExpired(t.expireTime) ? this.removeItem(e, !0) : t.value) : t ? t.value : null;
      }
      setLocalStorage(e, t, r) {
        let n = { expireTime: r ? r + this.getTimestamp() : null, value: t };
        return localStorage.setItem(e, JSON.stringify(n));
      }
      getLocalStorage(e) {
        let t = JSON.parse(localStorage.getItem(e));
        return t && t.expireTime ? (this.isExpired(t.expireTime) ? this.removeItem(e, !1) : t.value) : t ? t.value : null;
      }
      getTimestamp() {
        return Math.floor(new Date().getTime() / 1e3);
      }
      isExpired(e) {
        if (!e) return !1;
        return e - this.getTimestamp() <= 0;
      }
      removeItem(e, t = !1) {
        return t ? sessionStorage.removeItem(e) : localStorage.removeItem(e);
      }
      setCookie(e, t, r) {
        var n = new Date();
        n.setTime(n.getTime() + 24 * r * 60 * 60 * 1e3);
        let i = "";
        r && r > 0 && (i = "expires=" + n.toUTCString()), (document.cookie = e + "=" + t + ";" + i + ";path=/");
      }
      getCookie(e) {
        for (var t = e + "=", r = decodeURIComponent(document.cookie).split(";"), n = 0; n < r.length; n++) {
          for (var i = r[n]; " " == i.charAt(0); ) i = i.substring(1);
          if (0 == i.indexOf(t)) return i.substring(t.length, i.length);
        }
        return "";
      }
    })();
  },
  function (e, t, r) {
    const n = r(8),
      i = r(9);
    e.exports = new (class {
      generateUUID() {
        var e = new Date().getTime();
        return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (t) => {
          var r = (e + 16 * Math.random()) % 16 | 0;
          return (e = Math.floor(e / 16)), ("x" == t ? r : (3 & r) | 8).toString(16);
        });
      }
      getJWT() {
        let e = i.get("token");
        try {
          return JSON.parse(e).jwt;
        } catch (t) {
          return e;
        }
      }
      getJWTDecoded() {
        let e = this.getJWT();
        if (e) return n.default(e, { header: !1 });
      }
      getRegion() {
        return this.getJWTDecoded().env;
      }
      isJsonString(e) {
        try {
          JSON.parse(e);
        } catch (e) {
          return !1;
        }
        return !0;
      }
    })();
  },
  function (e, t) {
    e.exports = new (class {
      setApiKey(e) {
        this.apiKey = e;
      }
      setAppId(e) {
        this.appId = e;
      }
      getApiKey() {
        return this.apiKey ? this.apiKey : null;
      }
    })();
  },
  function (e, t, r) {
    const n = r(5),
      i = r(1),
      o = r(2),
      a = r(0),
      s = r(10),
      l = r(3),
      u = r(11),
      c = r(12);
    e.exports = { client: n, storage: i, utils: o, rest: a, dom: s, api: l, s3: u, URL: c };
  },
  function (e, t, r) {
    const n = r(6);
    e.exports = new (class {
      constructor() {
        this.init(),
          (this.dataBrowser = [
            { string: navigator.userAgent, subString: "Edg", identity: "Edge", versionSearch: "Edg" },
            { string: navigator.userAgent, subString: "UCBrowser", identity: "UCBrowser" },
            { string: navigator.userAgent, subString: "XiaoMi/MiuiBrowser", identity: "MiuiBrowser" },
            { string: navigator.userAgent, subString: "OPR", identity: "Opermini", versionSearch: "OPR" },
            { string: navigator.userAgent, subString: "Chrome", identity: "Chrome" },
            { string: navigator.userAgent, subString: "OmniWeb", versionSearch: "OmniWeb/", identity: "OmniWeb" },
            { string: navigator.vendor, subString: "Apple", identity: "Safari", versionSearch: "Version" },
            { prop: window.opera, identity: "Opera" },
            { string: navigator.vendor, subString: "iCab", identity: "iCab" },
            { string: navigator.vendor, subString: "KDE", identity: "Konqueror" },
            { string: navigator.userAgent, subString: "Firefox", identity: "Firefox" },
            { string: navigator.vendor, subString: "Camino", identity: "Camino" },
            { string: navigator.userAgent, subString: "Netscape", identity: "Netscape" },
            { string: navigator.userAgent, match: /Trident.*rv[ :]*11\./, identity: "Explorer" },
            { string: navigator.userAgent, subString: "MSIE", identity: "Explorer" },
            { string: navigator.userAgent, match: /Mobile Safari\/([\d.]+)/, identity: "Mobile Safari", versionSearch: "/AppleWebKit/([d.]+)/" },
            { string: navigator.userAgent, subString: "Gecko", identity: "Mozilla", versionSearch: "rv" },
            { string: navigator.userAgent, subString: "Mozilla", identity: "Netscape", versionSearch: "Mozilla" },
          ]);
      }
      init() {
        this.generateVisitorID(
          ((e) => {
            this.visitorID = e;
          }).bind(this),
        ),
          (this.dataOS = [
            { string: navigator.platform, subString: "Win", identity: "Windows" },
            { string: navigator.platform, subString: "Mac", identity: "Mac" },
            { string: navigator.userAgent, match: /Android\s([0-9\.]*)/, subString: "Android", identity: "Android" },
            { string: navigator.userAgent, subString: "iPhone", identity: "iPhone/iPod" },
            { string: navigator.platform, subString: "Linux", identity: "Linux" },
          ]);
      }
      getVisitorInfo() {
        var e = {};
        return (
          (e.browser = this.searchString(this.dataBrowser) || "An unknown browser"),
          (e.version = this.searchVersion(navigator.userAgent) || this.searchVersion(navigator.appVersion) || this.searchMobileVersion(navigator.userAgent) || "An unknown version"),
          (e.nVersion = navigator.appVersion),
          (e.nAgent = navigator.userAgent),
          (e.majorVersion = e.version),
          (e.OS = this.searchString(this.dataOS) || "An unknown OS"),
          (e.deviceType = this.getPlatformType()),
          (e.deviceWidth = screen.width),
          (e.deviceHeight = screen.height),
          e
        );
      }
      searchVersion(e) {
        var t = e.indexOf(this.versionSearchString);
        if (-1 != t) return parseFloat(e.substring(t + this.versionSearchString.length + 1));
      }
      searchString(e) {
        for (var t = 0; t < e.length; t++) {
          var r = e[t].string,
            n = e[t].prop,
            i = e[t].match;
          if (((this.versionSearchString = e[t].versionSearch || e[t].identity), i && r.match(i))) return e[t].identity;
          if (r) {
            if (-1 != r.indexOf(e[t].subString)) return e[t].identity;
          } else if (n) return e[t].identity;
        }
      }
      searchMobileVersion(e) {
        try {
          if (((match = e.match(/Mobile Safari\/([\d.]+)/)), match)) return parseFloat(match[1]);
        } catch (e) {
          console.log("Version Error", e);
        }
      }
      getPlatformType() {
        return navigator.userAgent.match(/mobile/i) ? "Mobile" : navigator.userAgent.match(/iPad|Android|Touch/i) ? "Tablet" : "Desktop";
      }
      generateVisitorID(e) {
        window.requestIdleCallback
          ? requestIdleCallback(() => {
              n.get((t) => {
                e(n.x64hash128(t.map((e) => e.value).join(""), 31));
              });
            })
          : setTimeout(() => {
              n.get((t) => {
                e(n.x64hash128(t.map((e) => e.value).join(""), 31));
              });
            }, 500);
      }
      getVisitorID(e) {
        this.visitorID
          ? e(this.visitorID)
          : this.generateVisitorID(
              ((t) => {
                (this.visitorID = t), e(t);
              }).bind(this),
            );
      }
    })();
  },
  function (e, t, r) {
    var n, i;
    !(function (o, a, s) {
      "use strict";
      "undefined" != typeof window && r(7)
        ? void 0 === (i = "function" == typeof (n = s) ? n.call(t, r, t, e) : n) || (e.exports = i)
        : e.exports
        ? (e.exports = s())
        : a.exports
        ? (a.exports = s())
        : (a.Fingerprint2 = s());
    })(0, this, function () {
      "use strict";
      void 0 === Array.isArray &&
        (Array.isArray = function (e) {
          return "[object Array]" === Object.prototype.toString.call(e);
        });
      var e = function (e, t) {
          (e = [e[0] >>> 16, 65535 & e[0], e[1] >>> 16, 65535 & e[1]]), (t = [t[0] >>> 16, 65535 & t[0], t[1] >>> 16, 65535 & t[1]]);
          var r = [0, 0, 0, 0];
          return (
            (r[3] += e[3] + t[3]),
            (r[2] += r[3] >>> 16),
            (r[3] &= 65535),
            (r[2] += e[2] + t[2]),
            (r[1] += r[2] >>> 16),
            (r[2] &= 65535),
            (r[1] += e[1] + t[1]),
            (r[0] += r[1] >>> 16),
            (r[1] &= 65535),
            (r[0] += e[0] + t[0]),
            (r[0] &= 65535),
            [(r[0] << 16) | r[1], (r[2] << 16) | r[3]]
          );
        },
        t = function (e, t) {
          (e = [e[0] >>> 16, 65535 & e[0], e[1] >>> 16, 65535 & e[1]]), (t = [t[0] >>> 16, 65535 & t[0], t[1] >>> 16, 65535 & t[1]]);
          var r = [0, 0, 0, 0];
          return (
            (r[3] += e[3] * t[3]),
            (r[2] += r[3] >>> 16),
            (r[3] &= 65535),
            (r[2] += e[2] * t[3]),
            (r[1] += r[2] >>> 16),
            (r[2] &= 65535),
            (r[2] += e[3] * t[2]),
            (r[1] += r[2] >>> 16),
            (r[2] &= 65535),
            (r[1] += e[1] * t[3]),
            (r[0] += r[1] >>> 16),
            (r[1] &= 65535),
            (r[1] += e[2] * t[2]),
            (r[0] += r[1] >>> 16),
            (r[1] &= 65535),
            (r[1] += e[3] * t[1]),
            (r[0] += r[1] >>> 16),
            (r[1] &= 65535),
            (r[0] += e[0] * t[3] + e[1] * t[2] + e[2] * t[1] + e[3] * t[0]),
            (r[0] &= 65535),
            [(r[0] << 16) | r[1], (r[2] << 16) | r[3]]
          );
        },
        r = function (e, t) {
          return 32 === (t %= 64)
            ? [e[1], e[0]]
            : t < 32
            ? [(e[0] << t) | (e[1] >>> (32 - t)), (e[1] << t) | (e[0] >>> (32 - t))]
            : ((t -= 32), [(e[1] << t) | (e[0] >>> (32 - t)), (e[0] << t) | (e[1] >>> (32 - t))]);
        },
        n = function (e, t) {
          return 0 === (t %= 64) ? e : t < 32 ? [(e[0] << t) | (e[1] >>> (32 - t)), e[1] << t] : [e[1] << (t - 32), 0];
        },
        i = function (e, t) {
          return [e[0] ^ t[0], e[1] ^ t[1]];
        },
        o = function (e) {
          return (e = i(e, [0, e[0] >>> 1])), (e = t(e, [4283543511, 3981806797])), (e = i(e, [0, e[0] >>> 1])), (e = t(e, [3301882366, 444984403])), (e = i(e, [0, e[0] >>> 1]));
        },
        a = function (a, s) {
          s = s || 0;
          for (var l = (a = a || "").length % 16, u = a.length - l, c = [0, s], d = [0, s], f = [0, 0], p = [0, 0], h = [2277735313, 289559509], m = [1291169091, 658871167], v = 0; v < u; v += 16)
            (f = [
              (255 & a.charCodeAt(v + 4)) | ((255 & a.charCodeAt(v + 5)) << 8) | ((255 & a.charCodeAt(v + 6)) << 16) | ((255 & a.charCodeAt(v + 7)) << 24),
              (255 & a.charCodeAt(v)) | ((255 & a.charCodeAt(v + 1)) << 8) | ((255 & a.charCodeAt(v + 2)) << 16) | ((255 & a.charCodeAt(v + 3)) << 24),
            ]),
              (p = [
                (255 & a.charCodeAt(v + 12)) | ((255 & a.charCodeAt(v + 13)) << 8) | ((255 & a.charCodeAt(v + 14)) << 16) | ((255 & a.charCodeAt(v + 15)) << 24),
                (255 & a.charCodeAt(v + 8)) | ((255 & a.charCodeAt(v + 9)) << 8) | ((255 & a.charCodeAt(v + 10)) << 16) | ((255 & a.charCodeAt(v + 11)) << 24),
              ]),
              (f = t(f, h)),
              (f = r(f, 31)),
              (f = t(f, m)),
              (c = i(c, f)),
              (c = r(c, 27)),
              (c = e(c, d)),
              (c = e(t(c, [0, 5]), [0, 1390208809])),
              (p = t(p, m)),
              (p = r(p, 33)),
              (p = t(p, h)),
              (d = i(d, p)),
              (d = r(d, 31)),
              (d = e(d, c)),
              (d = e(t(d, [0, 5]), [0, 944331445]));
          switch (((f = [0, 0]), (p = [0, 0]), l)) {
            case 15:
              p = i(p, n([0, a.charCodeAt(v + 14)], 48));
            case 14:
              p = i(p, n([0, a.charCodeAt(v + 13)], 40));
            case 13:
              p = i(p, n([0, a.charCodeAt(v + 12)], 32));
            case 12:
              p = i(p, n([0, a.charCodeAt(v + 11)], 24));
            case 11:
              p = i(p, n([0, a.charCodeAt(v + 10)], 16));
            case 10:
              p = i(p, n([0, a.charCodeAt(v + 9)], 8));
            case 9:
              (p = i(p, [0, a.charCodeAt(v + 8)])), (p = t(p, m)), (p = r(p, 33)), (p = t(p, h)), (d = i(d, p));
            case 8:
              f = i(f, n([0, a.charCodeAt(v + 7)], 56));
            case 7:
              f = i(f, n([0, a.charCodeAt(v + 6)], 48));
            case 6:
              f = i(f, n([0, a.charCodeAt(v + 5)], 40));
            case 5:
              f = i(f, n([0, a.charCodeAt(v + 4)], 32));
            case 4:
              f = i(f, n([0, a.charCodeAt(v + 3)], 24));
            case 3:
              f = i(f, n([0, a.charCodeAt(v + 2)], 16));
            case 2:
              f = i(f, n([0, a.charCodeAt(v + 1)], 8));
            case 1:
              (f = i(f, [0, a.charCodeAt(v)])), (f = t(f, h)), (f = r(f, 31)), (f = t(f, m)), (c = i(c, f));
          }
          return (
            (c = i(c, [0, a.length])),
            (d = i(d, [0, a.length])),
            (c = e(c, d)),
            (d = e(d, c)),
            (c = o(c)),
            (d = o(d)),
            (c = e(c, d)),
            (d = e(d, c)),
            ("00000000" + (c[0] >>> 0).toString(16)).slice(-8) +
              ("00000000" + (c[1] >>> 0).toString(16)).slice(-8) +
              ("00000000" + (d[0] >>> 0).toString(16)).slice(-8) +
              ("00000000" + (d[1] >>> 0).toString(16)).slice(-8)
          );
        },
        s = {
          preprocessor: null,
          audio: { timeout: 1e3, excludeIOS11: !0 },
          fonts: { swfContainerId: "fingerprintjs2", swfPath: "flash/compiled/FontList.swf", userDefinedFonts: [], extendedJsFonts: !1 },
          screen: { detectScreenOrientation: !0 },
          plugins: { sortPluginsFor: [/palemoon/i], excludeIE: !1 },
          extraComponents: [],
          excludes: { enumerateDevices: !0, pixelRatio: !0, doNotTrack: !0, fontsFlash: !0, adBlock: !0 },
          NOT_AVAILABLE: "not available",
          ERROR: "error",
          EXCLUDED: "excluded",
        },
        l = function (e, t) {
          if (Array.prototype.forEach && e.forEach === Array.prototype.forEach) e.forEach(t);
          else if (e.length === +e.length) for (var r = 0, n = e.length; r < n; r++) t(e[r], r, e);
          else for (var i in e) e.hasOwnProperty(i) && t(e[i], i, e);
        },
        u = function (e, t) {
          var r = [];
          return null == e
            ? r
            : Array.prototype.map && e.map === Array.prototype.map
            ? e.map(t)
            : (l(e, function (e, n, i) {
                r.push(t(e, n, i));
              }),
              r);
        },
        c = function () {
          return navigator.mediaDevices && navigator.mediaDevices.enumerateDevices;
        },
        d = function (e) {
          var t = [window.screen.width, window.screen.height];
          return e.screen.detectScreenOrientation && t.sort().reverse(), t;
        },
        f = function (e) {
          if (window.screen.availWidth && window.screen.availHeight) {
            var t = [window.screen.availHeight, window.screen.availWidth];
            return e.screen.detectScreenOrientation && t.sort().reverse(), t;
          }
          return e.NOT_AVAILABLE;
        },
        p = function (e) {
          if (null == navigator.plugins) return e.NOT_AVAILABLE;
          for (var t = [], r = 0, n = navigator.plugins.length; r < n; r++) navigator.plugins[r] && t.push(navigator.plugins[r]);
          return (
            m(e) &&
              (t = t.sort(function (e, t) {
                return e.name > t.name ? 1 : e.name < t.name ? -1 : 0;
              })),
            u(t, function (e) {
              var t = u(e, function (e) {
                return [e.type, e.suffixes];
              });
              return [e.name, e.description, t];
            })
          );
        },
        h = function (e) {
          var t = [];
          if ((Object.getOwnPropertyDescriptor && Object.getOwnPropertyDescriptor(window, "ActiveXObject")) || "ActiveXObject" in window) {
            t = u(
              [
                "AcroPDF.PDF",
                "Adodb.Stream",
                "AgControl.AgControl",
                "DevalVRXCtrl.DevalVRXCtrl.1",
                "MacromediaFlashPaper.MacromediaFlashPaper",
                "Msxml2.DOMDocument",
                "Msxml2.XMLHTTP",
                "PDF.PdfCtrl",
                "QuickTime.QuickTime",
                "QuickTimeCheckObject.QuickTimeCheck.1",
                "RealPlayer",
                "RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)",
                "RealVideo.RealVideo(tm) ActiveX Control (32-bit)",
                "Scripting.Dictionary",
                "SWCtl.SWCtl",
                "Shell.UIHelper",
                "ShockwaveFlash.ShockwaveFlash",
                "Skype.Detection",
                "TDCCtl.TDCCtl",
                "WMPlayer.OCX",
                "rmocx.RealPlayer G2 Control",
                "rmocx.RealPlayer G2 Control.1",
              ],
              function (t) {
                try {
                  return new window.ActiveXObject(t), t;
                } catch (t) {
                  return e.ERROR;
                }
              },
            );
          } else t.push(e.NOT_AVAILABLE);
          return navigator.plugins && (t = t.concat(p(e))), t;
        },
        m = function (e) {
          for (var t = !1, r = 0, n = e.plugins.sortPluginsFor.length; r < n; r++) {
            var i = e.plugins.sortPluginsFor[r];
            if (navigator.userAgent.match(i)) {
              t = !0;
              break;
            }
          }
          return t;
        },
        v = function (e) {
          try {
            return !!window.sessionStorage;
          } catch (t) {
            return e.ERROR;
          }
        },
        g = function (e) {
          try {
            return !!window.localStorage;
          } catch (t) {
            return e.ERROR;
          }
        },
        y = function (e) {
          if (R()) return e.EXCLUDED;
          try {
            return !!window.indexedDB;
          } catch (t) {
            return e.ERROR;
          }
        },
        S = function (e) {
          return navigator.hardwareConcurrency ? navigator.hardwareConcurrency : e.NOT_AVAILABLE;
        },
        b = function (e) {
          return navigator.cpuClass || e.NOT_AVAILABLE;
        },
        w = function (e) {
          return navigator.platform ? navigator.platform : e.NOT_AVAILABLE;
        },
        x = function (e) {
          return navigator.doNotTrack ? navigator.doNotTrack : navigator.msDoNotTrack ? navigator.msDoNotTrack : window.doNotTrack ? window.doNotTrack : e.NOT_AVAILABLE;
        },
        T = function () {
          var e,
            t = 0;
          void 0 !== navigator.maxTouchPoints ? (t = navigator.maxTouchPoints) : void 0 !== navigator.msMaxTouchPoints && (t = navigator.msMaxTouchPoints);
          try {
            document.createEvent("TouchEvent"), (e = !0);
          } catch (t) {
            e = !1;
          }
          return [t, e, "ontouchstart" in window];
        },
        C = function (e) {
          var t = [],
            r = document.createElement("canvas");
          (r.width = 2e3), (r.height = 200), (r.style.display = "inline");
          var n = r.getContext("2d");
          return (
            n.rect(0, 0, 10, 10),
            n.rect(2, 2, 6, 6),
            t.push("canvas winding:" + (!1 === n.isPointInPath(5, 5, "evenodd") ? "yes" : "no")),
            (n.textBaseline = "alphabetic"),
            (n.fillStyle = "#f60"),
            n.fillRect(125, 1, 62, 20),
            (n.fillStyle = "#069"),
            e.dontUseFakeFontInCanvas ? (n.font = "11pt Arial") : (n.font = "11pt no-real-font-123"),
            n.fillText("Cwm fjordbank glyphs vext quiz, 😃", 2, 15),
            (n.fillStyle = "rgba(102, 204, 0, 0.2)"),
            (n.font = "18pt Arial"),
            n.fillText("Cwm fjordbank glyphs vext quiz, 😃", 4, 45),
            (n.globalCompositeOperation = "multiply"),
            (n.fillStyle = "rgb(255,0,255)"),
            n.beginPath(),
            n.arc(50, 50, 50, 0, 2 * Math.PI, !0),
            n.closePath(),
            n.fill(),
            (n.fillStyle = "rgb(0,255,255)"),
            n.beginPath(),
            n.arc(100, 50, 50, 0, 2 * Math.PI, !0),
            n.closePath(),
            n.fill(),
            (n.fillStyle = "rgb(255,255,0)"),
            n.beginPath(),
            n.arc(75, 100, 50, 0, 2 * Math.PI, !0),
            n.closePath(),
            n.fill(),
            (n.fillStyle = "rgb(255,0,255)"),
            n.arc(75, 75, 75, 0, 2 * Math.PI, !0),
            n.arc(75, 75, 25, 0, 2 * Math.PI, !0),
            n.fill("evenodd"),
            r.toDataURL && t.push("canvas fp:" + r.toDataURL()),
            t
          );
        },
        E = function () {
          var e,
            t = function (t) {
              return e.clearColor(0, 0, 0, 1), e.enable(e.DEPTH_TEST), e.depthFunc(e.LEQUAL), e.clear(e.COLOR_BUFFER_BIT | e.DEPTH_BUFFER_BIT), "[" + t[0] + ", " + t[1] + "]";
            };
          if (!(e = U())) return null;
          var r = [],
            n = e.createBuffer();
          e.bindBuffer(e.ARRAY_BUFFER, n);
          var i = new Float32Array([-0.2, -0.9, 0, 0.4, -0.26, 0, 0, 0.732134444, 0]);
          e.bufferData(e.ARRAY_BUFFER, i, e.STATIC_DRAW), (n.itemSize = 3), (n.numItems = 3);
          var o = e.createProgram(),
            a = e.createShader(e.VERTEX_SHADER);
          e.shaderSource(
            a,
            "attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}",
          ),
            e.compileShader(a);
          var s = e.createShader(e.FRAGMENT_SHADER);
          e.shaderSource(s, "precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}"),
            e.compileShader(s),
            e.attachShader(o, a),
            e.attachShader(o, s),
            e.linkProgram(o),
            e.useProgram(o),
            (o.vertexPosAttrib = e.getAttribLocation(o, "attrVertex")),
            (o.offsetUniform = e.getUniformLocation(o, "uniformOffset")),
            e.enableVertexAttribArray(o.vertexPosArray),
            e.vertexAttribPointer(o.vertexPosAttrib, n.itemSize, e.FLOAT, !1, 0, 0),
            e.uniform2f(o.offsetUniform, 1, 1),
            e.drawArrays(e.TRIANGLE_STRIP, 0, n.numItems);
          try {
            r.push(e.canvas.toDataURL());
          } catch (e) {}
          r.push("extensions:" + (e.getSupportedExtensions() || []).join(";")),
            r.push("webgl aliased line width range:" + t(e.getParameter(e.ALIASED_LINE_WIDTH_RANGE))),
            r.push("webgl aliased point size range:" + t(e.getParameter(e.ALIASED_POINT_SIZE_RANGE))),
            r.push("webgl alpha bits:" + e.getParameter(e.ALPHA_BITS)),
            r.push("webgl antialiasing:" + (e.getContextAttributes().antialias ? "yes" : "no")),
            r.push("webgl blue bits:" + e.getParameter(e.BLUE_BITS)),
            r.push("webgl depth bits:" + e.getParameter(e.DEPTH_BITS)),
            r.push("webgl green bits:" + e.getParameter(e.GREEN_BITS)),
            r.push(
              "webgl max anisotropy:" +
                (function (e) {
                  var t = e.getExtension("EXT_texture_filter_anisotropic") || e.getExtension("WEBKIT_EXT_texture_filter_anisotropic") || e.getExtension("MOZ_EXT_texture_filter_anisotropic");
                  if (t) {
                    var r = e.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT);
                    return 0 === r && (r = 2), r;
                  }
                  return null;
                })(e),
            ),
            r.push("webgl max combined texture image units:" + e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS)),
            r.push("webgl max cube map texture size:" + e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE)),
            r.push("webgl max fragment uniform vectors:" + e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS)),
            r.push("webgl max render buffer size:" + e.getParameter(e.MAX_RENDERBUFFER_SIZE)),
            r.push("webgl max texture image units:" + e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)),
            r.push("webgl max texture size:" + e.getParameter(e.MAX_TEXTURE_SIZE)),
            r.push("webgl max varying vectors:" + e.getParameter(e.MAX_VARYING_VECTORS)),
            r.push("webgl max vertex attribs:" + e.getParameter(e.MAX_VERTEX_ATTRIBS)),
            r.push("webgl max vertex texture image units:" + e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)),
            r.push("webgl max vertex uniform vectors:" + e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS)),
            r.push("webgl max viewport dims:" + t(e.getParameter(e.MAX_VIEWPORT_DIMS))),
            r.push("webgl red bits:" + e.getParameter(e.RED_BITS)),
            r.push("webgl renderer:" + e.getParameter(e.RENDERER)),
            r.push("webgl shading language version:" + e.getParameter(e.SHADING_LANGUAGE_VERSION)),
            r.push("webgl stencil bits:" + e.getParameter(e.STENCIL_BITS)),
            r.push("webgl vendor:" + e.getParameter(e.VENDOR)),
            r.push("webgl version:" + e.getParameter(e.VERSION));
          try {
            var u = e.getExtension("WEBGL_debug_renderer_info");
            u && (r.push("webgl unmasked vendor:" + e.getParameter(u.UNMASKED_VENDOR_WEBGL)), r.push("webgl unmasked renderer:" + e.getParameter(u.UNMASKED_RENDERER_WEBGL)));
          } catch (e) {}
          return e.getShaderPrecisionFormat
            ? (l(["FLOAT", "INT"], function (t) {
                l(["VERTEX", "FRAGMENT"], function (n) {
                  l(["HIGH", "MEDIUM", "LOW"], function (i) {
                    l(["precision", "rangeMin", "rangeMax"], function (o) {
                      var a = e.getShaderPrecisionFormat(e[n + "_SHADER"], e[i + "_" + t])[o];
                      "precision" !== o && (o = "precision " + o);
                      var s = ["webgl ", n.toLowerCase(), " shader ", i.toLowerCase(), " ", t.toLowerCase(), " ", o, ":", a].join("");
                      r.push(s);
                    });
                  });
                });
              }),
              W(e),
              r)
            : (W(e), r);
        },
        I = function () {
          try {
            var e = U(),
              t = e.getExtension("WEBGL_debug_renderer_info"),
              r = e.getParameter(t.UNMASKED_VENDOR_WEBGL) + "~" + e.getParameter(t.UNMASKED_RENDERER_WEBGL);
            return W(e), r;
          } catch (e) {
            return null;
          }
        },
        k = function () {
          var e = document.createElement("div");
          (e.innerHTML = "&nbsp;"), (e.className = "adsbox");
          var t = !1;
          try {
            document.body.appendChild(e), (t = 0 === document.getElementsByClassName("adsbox")[0].offsetHeight), document.body.removeChild(e);
          } catch (e) {
            t = !1;
          }
          return t;
        },
        M = function () {
          if (void 0 !== navigator.languages)
            try {
              if (navigator.languages[0].substr(0, 2) !== navigator.language.substr(0, 2)) return !0;
            } catch (e) {
              return !0;
            }
          return !1;
        },
        A = function () {
          return window.screen.width < window.screen.availWidth || window.screen.height < window.screen.availHeight;
        },
        O = function () {
          var e,
            t = navigator.userAgent.toLowerCase(),
            r = navigator.oscpu,
            n = navigator.platform.toLowerCase();
          if (
            ((e =
              t.indexOf("windows phone") >= 0
                ? "Windows Phone"
                : t.indexOf("windows") >= 0 ||
                  t.indexOf("win16") >= 0 ||
                  t.indexOf("win32") >= 0 ||
                  t.indexOf("win64") >= 0 ||
                  t.indexOf("win95") >= 0 ||
                  t.indexOf("win98") >= 0 ||
                  t.indexOf("winnt") >= 0 ||
                  t.indexOf("wow64") >= 0
                ? "Windows"
                : t.indexOf("android") >= 0
                ? "Android"
                : t.indexOf("linux") >= 0 || t.indexOf("cros") >= 0 || t.indexOf("x11") >= 0
                ? "Linux"
                : t.indexOf("iphone") >= 0 || t.indexOf("ipad") >= 0 || t.indexOf("ipod") >= 0 || t.indexOf("crios") >= 0 || t.indexOf("fxios") >= 0
                ? "iOS"
                : t.indexOf("macintosh") >= 0 || t.indexOf("mac_powerpc)") >= 0
                ? "Mac"
                : "Other"),
            ("ontouchstart" in window || navigator.maxTouchPoints > 0 || navigator.msMaxTouchPoints > 0) &&
              "Windows" !== e &&
              "Windows Phone" !== e &&
              "Android" !== e &&
              "iOS" !== e &&
              "Other" !== e &&
              -1 === t.indexOf("cros"))
          )
            return !0;
          if (void 0 !== r) {
            if ((r = r.toLowerCase()).indexOf("win") >= 0 && "Windows" !== e && "Windows Phone" !== e) return !0;
            if (r.indexOf("linux") >= 0 && "Linux" !== e && "Android" !== e) return !0;
            if (r.indexOf("mac") >= 0 && "Mac" !== e && "iOS" !== e) return !0;
            if ((-1 === r.indexOf("win") && -1 === r.indexOf("linux") && -1 === r.indexOf("mac")) != ("Other" === e)) return !0;
          }
          return (
            (n.indexOf("win") >= 0 && "Windows" !== e && "Windows Phone" !== e) ||
            ((n.indexOf("linux") >= 0 || n.indexOf("android") >= 0 || n.indexOf("pike") >= 0) && "Linux" !== e && "Android" !== e) ||
            ((n.indexOf("mac") >= 0 || n.indexOf("ipad") >= 0 || n.indexOf("ipod") >= 0 || n.indexOf("iphone") >= 0) && "Mac" !== e && "iOS" !== e) ||
            (!(n.indexOf("arm") >= 0 && "Windows Phone" === e) &&
              !(n.indexOf("pike") >= 0 && t.indexOf("opera mini") >= 0) &&
              ((n.indexOf("win") < 0 && n.indexOf("linux") < 0 && n.indexOf("mac") < 0 && n.indexOf("iphone") < 0 && n.indexOf("ipad") < 0 && n.indexOf("ipod") < 0) !== ("Other" === e) ||
                (void 0 === navigator.plugins && "Windows" !== e && "Windows Phone" !== e)))
          );
        },
        _ = function () {
          var e,
            t = navigator.userAgent.toLowerCase(),
            r = navigator.productSub;
          if (t.indexOf("edge/") >= 0 || t.indexOf("iemobile/") >= 0) return !1;
          if (t.indexOf("opera mini") >= 0) return !1;
          if (
            ("Chrome" ===
              (e =
                t.indexOf("firefox/") >= 0
                  ? "Firefox"
                  : t.indexOf("opera/") >= 0 || t.indexOf(" opr/") >= 0
                  ? "Opera"
                  : t.indexOf("chrome/") >= 0
                  ? "Chrome"
                  : t.indexOf("safari/") >= 0
                  ? t.indexOf("android 1.") >= 0 || t.indexOf("android 2.") >= 0 || t.indexOf("android 3.") >= 0 || t.indexOf("android 4.") >= 0
                    ? "AOSP"
                    : "Safari"
                  : t.indexOf("trident/") >= 0
                  ? "Internet Explorer"
                  : "Other") ||
              "Safari" === e ||
              "Opera" === e) &&
            "20030107" !== r
          )
            return !0;
          var n,
            i = eval.toString().length;
          if (37 === i && "Safari" !== e && "Firefox" !== e && "Other" !== e) return !0;
          if (39 === i && "Internet Explorer" !== e && "Other" !== e) return !0;
          if (33 === i && "Chrome" !== e && "AOSP" !== e && "Opera" !== e && "Other" !== e) return !0;
          try {
            throw "a";
          } catch (e) {
            try {
              e.toSource(), (n = !0);
            } catch (e) {
              n = !1;
            }
          }
          return n && "Firefox" !== e && "Other" !== e;
        },
        N = function () {
          var e = document.createElement("canvas");
          return !(!e.getContext || !e.getContext("2d"));
        },
        D = function () {
          if (!N()) return !1;
          var e = U(),
            t = !!window.WebGLRenderingContext && !!e;
          return W(e), t;
        },
        L = function () {
          return "Microsoft Internet Explorer" === navigator.appName || !("Netscape" !== navigator.appName || !/Trident/.test(navigator.userAgent));
        },
        R = function () {
          return ("msWriteProfilerMark" in window) + ("msLaunchUri" in navigator) + ("msSaveBlob" in navigator) >= 2;
        },
        P = function () {
          return void 0 !== window.swfobject;
        },
        B = function () {
          return window.swfobject.hasFlashPlayerVersion("9.0.0");
        },
        F = function (e, t) {
          window.___fp_swf_loaded = function (t) {
            e(t);
          };
          var r = t.fonts.swfContainerId;
          !(function (e) {
            var t = document.createElement("div");
            t.setAttribute("id", e.fonts.swfContainerId), document.body.appendChild(t);
          })();
          var n = { onReady: "___fp_swf_loaded" };
          window.swfobject.embedSWF(t.fonts.swfPath, r, "1", "1", "9.0.0", !1, n, { allowScriptAccess: "always", menu: "false" }, {});
        },
        U = function () {
          var e = document.createElement("canvas"),
            t = null;
          try {
            t = e.getContext("webgl") || e.getContext("experimental-webgl");
          } catch (e) {}
          return t || (t = null), t;
        },
        W = function (e) {
          var t = e.getExtension("WEBGL_lose_context");
          null != t && t.loseContext();
        },
        V = [
          {
            key: "userAgent",
            getData: function (e) {
              e(navigator.userAgent);
            },
          },
          {
            key: "webdriver",
            getData: function (e, t) {
              e(null == navigator.webdriver ? t.NOT_AVAILABLE : navigator.webdriver);
            },
          },
          {
            key: "language",
            getData: function (e, t) {
              e(navigator.language || navigator.userLanguage || navigator.browserLanguage || navigator.systemLanguage || t.NOT_AVAILABLE);
            },
          },
          {
            key: "colorDepth",
            getData: function (e, t) {
              e(window.screen.colorDepth || t.NOT_AVAILABLE);
            },
          },
          {
            key: "deviceMemory",
            getData: function (e, t) {
              e(navigator.deviceMemory || t.NOT_AVAILABLE);
            },
          },
          {
            key: "pixelRatio",
            getData: function (e, t) {
              e(window.devicePixelRatio || t.NOT_AVAILABLE);
            },
          },
          {
            key: "hardwareConcurrency",
            getData: function (e, t) {
              e(S(t));
            },
          },
          {
            key: "screenResolution",
            getData: function (e, t) {
              e(d(t));
            },
          },
          {
            key: "availableScreenResolution",
            getData: function (e, t) {
              e(f(t));
            },
          },
          {
            key: "timezoneOffset",
            getData: function (e) {
              e(new Date().getTimezoneOffset());
            },
          },
          {
            key: "timezone",
            getData: function (e, t) {
              window.Intl && window.Intl.DateTimeFormat ? e(new window.Intl.DateTimeFormat().resolvedOptions().timeZone || t.NOT_AVAILABLE) : e(t.NOT_AVAILABLE);
            },
          },
          {
            key: "sessionStorage",
            getData: function (e, t) {
              e(v(t));
            },
          },
          {
            key: "localStorage",
            getData: function (e, t) {
              e(g(t));
            },
          },
          {
            key: "indexedDb",
            getData: function (e, t) {
              e(y(t));
            },
          },
          {
            key: "addBehavior",
            getData: function (e) {
              e(!!window.HTMLElement.prototype.addBehavior);
            },
          },
          {
            key: "openDatabase",
            getData: function (e) {
              e(!!window.openDatabase);
            },
          },
          {
            key: "cpuClass",
            getData: function (e, t) {
              e(b(t));
            },
          },
          {
            key: "platform",
            getData: function (e, t) {
              e(w(t));
            },
          },
          {
            key: "doNotTrack",
            getData: function (e, t) {
              e(x(t));
            },
          },
          {
            key: "plugins",
            getData: function (e, t) {
              L() ? (t.plugins.excludeIE ? e(t.EXCLUDED) : e(h(t))) : e(p(t));
            },
          },
          {
            key: "canvas",
            getData: function (e, t) {
              N() ? e(C(t)) : e(t.NOT_AVAILABLE);
            },
          },
          {
            key: "webgl",
            getData: function (e, t) {
              D() ? e(E()) : e(t.NOT_AVAILABLE);
            },
          },
          {
            key: "webglVendorAndRenderer",
            getData: function (e) {
              D() ? e(I()) : e();
            },
          },
          {
            key: "adBlock",
            getData: function (e) {
              e(k());
            },
          },
          {
            key: "hasLiedLanguages",
            getData: function (e) {
              e(M());
            },
          },
          {
            key: "hasLiedResolution",
            getData: function (e) {
              e(A());
            },
          },
          {
            key: "hasLiedOs",
            getData: function (e) {
              e(O());
            },
          },
          {
            key: "hasLiedBrowser",
            getData: function (e) {
              e(_());
            },
          },
          {
            key: "touchSupport",
            getData: function (e) {
              e(T());
            },
          },
          {
            key: "fonts",
            getData: function (e, t) {
              var r = ["monospace", "sans-serif", "serif"],
                n = [
                  "Andale Mono",
                  "Arial",
                  "Arial Black",
                  "Arial Hebrew",
                  "Arial MT",
                  "Arial Narrow",
                  "Arial Rounded MT Bold",
                  "Arial Unicode MS",
                  "Bitstream Vera Sans Mono",
                  "Book Antiqua",
                  "Bookman Old Style",
                  "Calibri",
                  "Cambria",
                  "Cambria Math",
                  "Century",
                  "Century Gothic",
                  "Century Schoolbook",
                  "Comic Sans",
                  "Comic Sans MS",
                  "Consolas",
                  "Courier",
                  "Courier New",
                  "Geneva",
                  "Georgia",
                  "Helvetica",
                  "Helvetica Neue",
                  "Impact",
                  "Lucida Bright",
                  "Lucida Calligraphy",
                  "Lucida Console",
                  "Lucida Fax",
                  "LUCIDA GRANDE",
                  "Lucida Handwriting",
                  "Lucida Sans",
                  "Lucida Sans Typewriter",
                  "Lucida Sans Unicode",
                  "Microsoft Sans Serif",
                  "Monaco",
                  "Monotype Corsiva",
                  "MS Gothic",
                  "MS Outlook",
                  "MS PGothic",
                  "MS Reference Sans Serif",
                  "MS Sans Serif",
                  "MS Serif",
                  "MYRIAD",
                  "MYRIAD PRO",
                  "Palatino",
                  "Palatino Linotype",
                  "Segoe Print",
                  "Segoe Script",
                  "Segoe UI",
                  "Segoe UI Light",
                  "Segoe UI Semibold",
                  "Segoe UI Symbol",
                  "Tahoma",
                  "Times",
                  "Times New Roman",
                  "Times New Roman PS",
                  "Trebuchet MS",
                  "Verdana",
                  "Wingdings",
                  "Wingdings 2",
                  "Wingdings 3",
                ];
              if (t.fonts.extendedJsFonts) {
                n = n.concat([
                  "Abadi MT Condensed Light",
                  "Academy Engraved LET",
                  "ADOBE CASLON PRO",
                  "Adobe Garamond",
                  "ADOBE GARAMOND PRO",
                  "Agency FB",
                  "Aharoni",
                  "Albertus Extra Bold",
                  "Albertus Medium",
                  "Algerian",
                  "Amazone BT",
                  "American Typewriter",
                  "American Typewriter Condensed",
                  "AmerType Md BT",
                  "Andalus",
                  "Angsana New",
                  "AngsanaUPC",
                  "Antique Olive",
                  "Aparajita",
                  "Apple Chancery",
                  "Apple Color Emoji",
                  "Apple SD Gothic Neo",
                  "Arabic Typesetting",
                  "ARCHER",
                  "ARNO PRO",
                  "Arrus BT",
                  "Aurora Cn BT",
                  "AvantGarde Bk BT",
                  "AvantGarde Md BT",
                  "AVENIR",
                  "Ayuthaya",
                  "Bandy",
                  "Bangla Sangam MN",
                  "Bank Gothic",
                  "BankGothic Md BT",
                  "Baskerville",
                  "Baskerville Old Face",
                  "Batang",
                  "BatangChe",
                  "Bauer Bodoni",
                  "Bauhaus 93",
                  "Bazooka",
                  "Bell MT",
                  "Bembo",
                  "Benguiat Bk BT",
                  "Berlin Sans FB",
                  "Berlin Sans FB Demi",
                  "Bernard MT Condensed",
                  "BernhardFashion BT",
                  "BernhardMod BT",
                  "Big Caslon",
                  "BinnerD",
                  "Blackadder ITC",
                  "BlairMdITC TT",
                  "Bodoni 72",
                  "Bodoni 72 Oldstyle",
                  "Bodoni 72 Smallcaps",
                  "Bodoni MT",
                  "Bodoni MT Black",
                  "Bodoni MT Condensed",
                  "Bodoni MT Poster Compressed",
                  "Bookshelf Symbol 7",
                  "Boulder",
                  "Bradley Hand",
                  "Bradley Hand ITC",
                  "Bremen Bd BT",
                  "Britannic Bold",
                  "Broadway",
                  "Browallia New",
                  "BrowalliaUPC",
                  "Brush Script MT",
                  "Californian FB",
                  "Calisto MT",
                  "Calligrapher",
                  "Candara",
                  "CaslonOpnface BT",
                  "Castellar",
                  "Centaur",
                  "Cezanne",
                  "CG Omega",
                  "CG Times",
                  "Chalkboard",
                  "Chalkboard SE",
                  "Chalkduster",
                  "Charlesworth",
                  "Charter Bd BT",
                  "Charter BT",
                  "Chaucer",
                  "ChelthmITC Bk BT",
                  "Chiller",
                  "Clarendon",
                  "Clarendon Condensed",
                  "CloisterBlack BT",
                  "Cochin",
                  "Colonna MT",
                  "Constantia",
                  "Cooper Black",
                  "Copperplate",
                  "Copperplate Gothic",
                  "Copperplate Gothic Bold",
                  "Copperplate Gothic Light",
                  "CopperplGoth Bd BT",
                  "Corbel",
                  "Cordia New",
                  "CordiaUPC",
                  "Cornerstone",
                  "Coronet",
                  "Cuckoo",
                  "Curlz MT",
                  "DaunPenh",
                  "Dauphin",
                  "David",
                  "DB LCD Temp",
                  "DELICIOUS",
                  "Denmark",
                  "DFKai-SB",
                  "Didot",
                  "DilleniaUPC",
                  "DIN",
                  "DokChampa",
                  "Dotum",
                  "DotumChe",
                  "Ebrima",
                  "Edwardian Script ITC",
                  "Elephant",
                  "English 111 Vivace BT",
                  "Engravers MT",
                  "EngraversGothic BT",
                  "Eras Bold ITC",
                  "Eras Demi ITC",
                  "Eras Light ITC",
                  "Eras Medium ITC",
                  "EucrosiaUPC",
                  "Euphemia",
                  "Euphemia UCAS",
                  "EUROSTILE",
                  "Exotc350 Bd BT",
                  "FangSong",
                  "Felix Titling",
                  "Fixedsys",
                  "FONTIN",
                  "Footlight MT Light",
                  "Forte",
                  "FrankRuehl",
                  "Fransiscan",
                  "Freefrm721 Blk BT",
                  "FreesiaUPC",
                  "Freestyle Script",
                  "French Script MT",
                  "FrnkGothITC Bk BT",
                  "Fruitger",
                  "FRUTIGER",
                  "Futura",
                  "Futura Bk BT",
                  "Futura Lt BT",
                  "Futura Md BT",
                  "Futura ZBlk BT",
                  "FuturaBlack BT",
                  "Gabriola",
                  "Galliard BT",
                  "Gautami",
                  "Geeza Pro",
                  "Geometr231 BT",
                  "Geometr231 Hv BT",
                  "Geometr231 Lt BT",
                  "GeoSlab 703 Lt BT",
                  "GeoSlab 703 XBd BT",
                  "Gigi",
                  "Gill Sans",
                  "Gill Sans MT",
                  "Gill Sans MT Condensed",
                  "Gill Sans MT Ext Condensed Bold",
                  "Gill Sans Ultra Bold",
                  "Gill Sans Ultra Bold Condensed",
                  "Gisha",
                  "Gloucester MT Extra Condensed",
                  "GOTHAM",
                  "GOTHAM BOLD",
                  "Goudy Old Style",
                  "Goudy Stout",
                  "GoudyHandtooled BT",
                  "GoudyOLSt BT",
                  "Gujarati Sangam MN",
                  "Gulim",
                  "GulimChe",
                  "Gungsuh",
                  "GungsuhChe",
                  "Gurmukhi MN",
                  "Haettenschweiler",
                  "Harlow Solid Italic",
                  "Harrington",
                  "Heather",
                  "Heiti SC",
                  "Heiti TC",
                  "HELV",
                  "Herald",
                  "High Tower Text",
                  "Hiragino Kaku Gothic ProN",
                  "Hiragino Mincho ProN",
                  "Hoefler Text",
                  "Humanst 521 Cn BT",
                  "Humanst521 BT",
                  "Humanst521 Lt BT",
                  "Imprint MT Shadow",
                  "Incised901 Bd BT",
                  "Incised901 BT",
                  "Incised901 Lt BT",
                  "INCONSOLATA",
                  "Informal Roman",
                  "Informal011 BT",
                  "INTERSTATE",
                  "IrisUPC",
                  "Iskoola Pota",
                  "JasmineUPC",
                  "Jazz LET",
                  "Jenson",
                  "Jester",
                  "Jokerman",
                  "Juice ITC",
                  "Kabel Bk BT",
                  "Kabel Ult BT",
                  "Kailasa",
                  "KaiTi",
                  "Kalinga",
                  "Kannada Sangam MN",
                  "Kartika",
                  "Kaufmann Bd BT",
                  "Kaufmann BT",
                  "Khmer UI",
                  "KodchiangUPC",
                  "Kokila",
                  "Korinna BT",
                  "Kristen ITC",
                  "Krungthep",
                  "Kunstler Script",
                  "Lao UI",
                  "Latha",
                  "Leelawadee",
                  "Letter Gothic",
                  "Levenim MT",
                  "LilyUPC",
                  "Lithograph",
                  "Lithograph Light",
                  "Long Island",
                  "Lydian BT",
                  "Magneto",
                  "Maiandra GD",
                  "Malayalam Sangam MN",
                  "Malgun Gothic",
                  "Mangal",
                  "Marigold",
                  "Marion",
                  "Marker Felt",
                  "Market",
                  "Marlett",
                  "Matisse ITC",
                  "Matura MT Script Capitals",
                  "Meiryo",
                  "Meiryo UI",
                  "Microsoft Himalaya",
                  "Microsoft JhengHei",
                  "Microsoft New Tai Lue",
                  "Microsoft PhagsPa",
                  "Microsoft Tai Le",
                  "Microsoft Uighur",
                  "Microsoft YaHei",
                  "Microsoft Yi Baiti",
                  "MingLiU",
                  "MingLiU_HKSCS",
                  "MingLiU_HKSCS-ExtB",
                  "MingLiU-ExtB",
                  "Minion",
                  "Minion Pro",
                  "Miriam",
                  "Miriam Fixed",
                  "Mistral",
                  "Modern",
                  "Modern No. 20",
                  "Mona Lisa Solid ITC TT",
                  "Mongolian Baiti",
                  "MONO",
                  "MoolBoran",
                  "Mrs Eaves",
                  "MS LineDraw",
                  "MS Mincho",
                  "MS PMincho",
                  "MS Reference Specialty",
                  "MS UI Gothic",
                  "MT Extra",
                  "MUSEO",
                  "MV Boli",
                  "Nadeem",
                  "Narkisim",
                  "NEVIS",
                  "News Gothic",
                  "News GothicMT",
                  "NewsGoth BT",
                  "Niagara Engraved",
                  "Niagara Solid",
                  "Noteworthy",
                  "NSimSun",
                  "Nyala",
                  "OCR A Extended",
                  "Old Century",
                  "Old English Text MT",
                  "Onyx",
                  "Onyx BT",
                  "OPTIMA",
                  "Oriya Sangam MN",
                  "OSAKA",
                  "OzHandicraft BT",
                  "Palace Script MT",
                  "Papyrus",
                  "Parchment",
                  "Party LET",
                  "Pegasus",
                  "Perpetua",
                  "Perpetua Titling MT",
                  "PetitaBold",
                  "Pickwick",
                  "Plantagenet Cherokee",
                  "Playbill",
                  "PMingLiU",
                  "PMingLiU-ExtB",
                  "Poor Richard",
                  "Poster",
                  "PosterBodoni BT",
                  "PRINCETOWN LET",
                  "Pristina",
                  "PTBarnum BT",
                  "Pythagoras",
                  "Raavi",
                  "Rage Italic",
                  "Ravie",
                  "Ribbon131 Bd BT",
                  "Rockwell",
                  "Rockwell Condensed",
                  "Rockwell Extra Bold",
                  "Rod",
                  "Roman",
                  "Sakkal Majalla",
                  "Santa Fe LET",
                  "Savoye LET",
                  "Sceptre",
                  "Script",
                  "Script MT Bold",
                  "SCRIPTINA",
                  "Serifa",
                  "Serifa BT",
                  "Serifa Th BT",
                  "ShelleyVolante BT",
                  "Sherwood",
                  "Shonar Bangla",
                  "Showcard Gothic",
                  "Shruti",
                  "Signboard",
                  "SILKSCREEN",
                  "SimHei",
                  "Simplified Arabic",
                  "Simplified Arabic Fixed",
                  "SimSun",
                  "SimSun-ExtB",
                  "Sinhala Sangam MN",
                  "Sketch Rockwell",
                  "Skia",
                  "Small Fonts",
                  "Snap ITC",
                  "Snell Roundhand",
                  "Socket",
                  "Souvenir Lt BT",
                  "Staccato222 BT",
                  "Steamer",
                  "Stencil",
                  "Storybook",
                  "Styllo",
                  "Subway",
                  "Swis721 BlkEx BT",
                  "Swiss911 XCm BT",
                  "Sylfaen",
                  "Synchro LET",
                  "System",
                  "Tamil Sangam MN",
                  "Technical",
                  "Teletype",
                  "Telugu Sangam MN",
                  "Tempus Sans ITC",
                  "Terminal",
                  "Thonburi",
                  "Traditional Arabic",
                  "Trajan",
                  "TRAJAN PRO",
                  "Tristan",
                  "Tubular",
                  "Tunga",
                  "Tw Cen MT",
                  "Tw Cen MT Condensed",
                  "Tw Cen MT Condensed Extra Bold",
                  "TypoUpright BT",
                  "Unicorn",
                  "Univers",
                  "Univers CE 55 Medium",
                  "Univers Condensed",
                  "Utsaah",
                  "Vagabond",
                  "Vani",
                  "Vijaya",
                  "Viner Hand ITC",
                  "VisualUI",
                  "Vivaldi",
                  "Vladimir Script",
                  "Vrinda",
                  "Westminster",
                  "WHITNEY",
                  "Wide Latin",
                  "ZapfEllipt BT",
                  "ZapfHumnst BT",
                  "ZapfHumnst Dm BT",
                  "Zapfino",
                  "Zurich BlkEx BT",
                  "Zurich Ex BT",
                  "ZWAdobeF",
                ]);
              }
              n = (n = n.concat(t.fonts.userDefinedFonts)).filter(function (e, t) {
                return n.indexOf(e) === t;
              });
              var i = document.getElementsByTagName("body")[0],
                o = document.createElement("div"),
                a = document.createElement("div"),
                s = {},
                l = {},
                u = function () {
                  var e = document.createElement("span");
                  return (
                    (e.style.position = "absolute"),
                    (e.style.left = "-9999px"),
                    (e.style.fontSize = "72px"),
                    (e.style.fontStyle = "normal"),
                    (e.style.fontWeight = "normal"),
                    (e.style.letterSpacing = "normal"),
                    (e.style.lineBreak = "auto"),
                    (e.style.lineHeight = "normal"),
                    (e.style.textTransform = "none"),
                    (e.style.textAlign = "left"),
                    (e.style.textDecoration = "none"),
                    (e.style.textShadow = "none"),
                    (e.style.whiteSpace = "normal"),
                    (e.style.wordBreak = "normal"),
                    (e.style.wordSpacing = "normal"),
                    (e.innerHTML = "mmmmmmmmmmlli"),
                    e
                  );
                },
                c = function (e, t) {
                  var r = u();
                  return (r.style.fontFamily = "'" + e + "'," + t), r;
                },
                d = function (e) {
                  for (var t = !1, n = 0; n < r.length; n++) if ((t = e[n].offsetWidth !== s[r[n]] || e[n].offsetHeight !== l[r[n]])) return t;
                  return t;
                },
                f = (function () {
                  for (var e = [], t = 0, n = r.length; t < n; t++) {
                    var i = u();
                    (i.style.fontFamily = r[t]), o.appendChild(i), e.push(i);
                  }
                  return e;
                })();
              i.appendChild(o);
              for (var p = 0, h = r.length; p < h; p++) (s[r[p]] = f[p].offsetWidth), (l[r[p]] = f[p].offsetHeight);
              var m = (function () {
                for (var e = {}, t = 0, i = n.length; t < i; t++) {
                  for (var o = [], s = 0, l = r.length; s < l; s++) {
                    var u = c(n[t], r[s]);
                    a.appendChild(u), o.push(u);
                  }
                  e[n[t]] = o;
                }
                return e;
              })();
              i.appendChild(a);
              for (var v = [], g = 0, y = n.length; g < y; g++) d(m[n[g]]) && v.push(n[g]);
              i.removeChild(a), i.removeChild(o), e(v);
            },
            pauseBefore: !0,
          },
          {
            key: "fontsFlash",
            getData: function (e, t) {
              return P()
                ? B()
                  ? t.fonts.swfPath
                    ? void F(function (t) {
                        e(t);
                      }, t)
                    : e("missing options.fonts.swfPath")
                  : e("flash not installed")
                : e("swf object not loaded");
            },
            pauseBefore: !0,
          },
          {
            key: "audio",
            getData: function (e, t) {
              var r = t.audio;
              if (r.excludeIOS11 && navigator.userAgent.match(/OS 11.+Version\/11.+Safari/)) return e(t.EXCLUDED);
              var n = window.OfflineAudioContext || window.webkitOfflineAudioContext;
              if (null == n) return e(t.NOT_AVAILABLE);
              var i = new n(1, 44100, 44100),
                o = i.createOscillator();
              (o.type = "triangle"), o.frequency.setValueAtTime(1e4, i.currentTime);
              var a = i.createDynamicsCompressor();
              l(
                [
                  ["threshold", -50],
                  ["knee", 40],
                  ["ratio", 12],
                  ["reduction", -20],
                  ["attack", 0],
                  ["release", 0.25],
                ],
                function (e) {
                  void 0 !== a[e[0]] && "function" == typeof a[e[0]].setValueAtTime && a[e[0]].setValueAtTime(e[1], i.currentTime);
                },
              ),
                o.connect(a),
                a.connect(i.destination),
                o.start(0),
                i.startRendering();
              var s = setTimeout(function () {
                return (
                  console.warn('Audio fingerprint timed out. Please report bug at https://github.com/fingerprintjs/fingerprintjs with your user agent: "' + navigator.userAgent + '".'),
                  (i.oncomplete = function () {}),
                  (i = null),
                  e("audioTimeout")
                );
              }, r.timeout);
              i.oncomplete = function (t) {
                var r;
                try {
                  clearTimeout(s),
                    (r = t.renderedBuffer
                      .getChannelData(0)
                      .slice(4500, 5e3)
                      .reduce(function (e, t) {
                        return e + Math.abs(t);
                      }, 0)
                      .toString()),
                    o.disconnect(),
                    a.disconnect();
                } catch (t) {
                  return void e(t);
                }
                e(r);
              };
            },
          },
          {
            key: "enumerateDevices",
            getData: function (e, t) {
              if (!c()) return e(t.NOT_AVAILABLE);
              navigator.mediaDevices
                .enumerateDevices()
                .then(function (t) {
                  e(
                    t.map(function (e) {
                      return "id=" + e.deviceId + ";gid=" + e.groupId + ";" + e.kind + ";" + e.label;
                    }),
                  );
                })
                .catch(function (t) {
                  e(t);
                });
            },
          },
        ],
        G = function (e) {
          throw new Error("'new Fingerprint()' is deprecated, see https://github.com/fingerprintjs/fingerprintjs#upgrade-guide-from-182-to-200");
        };
      return (
        (G.get = function (e, t) {
          t ? e || (e = {}) : ((t = e), (e = {})),
            (function (e, t) {
              if (null == t) return e;
              var r, n;
              for (n in t) null == (r = t[n]) || Object.prototype.hasOwnProperty.call(e, n) || (e[n] = r);
            })(e, s),
            (e.components = e.extraComponents.concat(V));
          var r = {
              data: [],
              addPreprocessedComponent: function (t, n) {
                "function" == typeof e.preprocessor && (n = e.preprocessor(t, n)), r.data.push({ key: t, value: n });
              },
            },
            n = -1,
            i = function (o) {
              if ((n += 1) >= e.components.length) t(r.data);
              else {
                var a = e.components[n];
                if (e.excludes[a.key]) i(!1);
                else {
                  if (!o && a.pauseBefore)
                    return (
                      (n -= 1),
                      void setTimeout(function () {
                        i(!0);
                      }, 1)
                    );
                  try {
                    a.getData(function (e) {
                      r.addPreprocessedComponent(a.key, e), i(!1);
                    }, e);
                  } catch (e) {
                    r.addPreprocessedComponent(a.key, String(e)), i(!1);
                  }
                }
              }
            };
          i(!1);
        }),
        (G.getPromise = function (e) {
          return new Promise(function (t, r) {
            G.get(e, t);
          });
        }),
        (G.getV18 = function (e, t) {
          return (
            null == t && ((t = e), (e = {})),
            G.get(e, function (r) {
              for (var n = [], i = 0; i < r.length; i++) {
                var o = r[i];
                if (o.value === (e.NOT_AVAILABLE || "not available")) n.push({ key: o.key, value: "unknown" });
                else if ("plugins" === o.key)
                  n.push({
                    key: "plugins",
                    value: u(o.value, function (e) {
                      var t = u(e[2], function (e) {
                        return e.join ? e.join("~") : e;
                      }).join(",");
                      return [e[0], e[1], t].join("::");
                    }),
                  });
                else if (-1 !== ["canvas", "webgl"].indexOf(o.key) && Array.isArray(o.value)) n.push({ key: o.key, value: o.value.join("~") });
                else if (-1 !== ["sessionStorage", "localStorage", "indexedDb", "addBehavior", "openDatabase"].indexOf(o.key)) {
                  if (!o.value) continue;
                  n.push({ key: o.key, value: 1 });
                } else o.value ? n.push(o.value.join ? { key: o.key, value: o.value.join(";") } : o) : n.push({ key: o.key, value: o.value });
              }
              var s = a(
                u(n, function (e) {
                  return e.value;
                }).join("~~~"),
                31,
              );
              t(s, n);
            })
          );
        }),
        (G.x64hash128 = a),
        (G.VERSION = "2.1.4"),
        G
      );
    });
  },
  function (e, t) {
    (function (t) {
      e.exports = t;
    }.call(this, {}));
  },
  function (e, t, r) {
    "use strict";
    function n(e) {
      this.message = e;
    }
    r.r(t),
      r.d(t, "InvalidTokenError", function () {
        return a;
      }),
      (n.prototype = new Error()),
      (n.prototype.name = "InvalidCharacterError");
    var i =
      ("undefined" != typeof window && window.atob && window.atob.bind(window)) ||
      function (e) {
        var t = String(e).replace(/=+$/, "");
        if (t.length % 4 == 1) throw new n("'atob' failed: The string to be decoded is not correctly encoded.");
        for (var r, i, o = 0, a = 0, s = ""; (i = t.charAt(a++)); ~i && ((r = o % 4 ? 64 * r + i : i), o++ % 4) ? (s += String.fromCharCode(255 & (r >> ((-2 * o) & 6)))) : 0)
          i = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);
        return s;
      };
    function o(e) {
      var t = e.replace(/-/g, "+").replace(/_/g, "/");
      switch (t.length % 4) {
        case 0:
          break;
        case 2:
          t += "==";
          break;
        case 3:
          t += "=";
          break;
        default:
          throw "Illegal base64url string!";
      }
      try {
        return (function (e) {
          return decodeURIComponent(
            i(e).replace(/(.)/g, function (e, t) {
              var r = t.charCodeAt(0).toString(16).toUpperCase();
              return r.length < 2 && (r = "0" + r), "%" + r;
            }),
          );
        })(t);
      } catch (e) {
        return i(t);
      }
    }
    function a(e) {
      this.message = e;
    }
    (a.prototype = new Error()),
      (a.prototype.name = "InvalidTokenError"),
      (t.default = function (e, t) {
        if ("string" != typeof e) throw new a("Invalid token specified");
        var r = !0 === (t = t || {}).header ? 0 : 1;
        try {
          return JSON.parse(o(e.split(".")[r]));
        } catch (e) {
          throw new a("Invalid token specified: " + e.message);
        }
      });
  },
  function (e, t, r) {
    var n, i;
    /*!
     * JavaScript Cookie v2.2.1
     * https://github.com/js-cookie/js-cookie
     *
     * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
     * Released under the MIT license
     */ !(function (o) {
      if ((void 0 === (i = "function" == typeof (n = o) ? n.call(t, r, t, e) : n) || (e.exports = i), !0, (e.exports = o()), !!0)) {
        var a = window.Cookies,
          s = (window.Cookies = o());
        s.noConflict = function () {
          return (window.Cookies = a), s;
        };
      }
    })(function () {
      function e() {
        for (var e = 0, t = {}; e < arguments.length; e++) {
          var r = arguments[e];
          for (var n in r) t[n] = r[n];
        }
        return t;
      }
      function t(e) {
        return e.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);
      }
      return (function r(n) {
        function i() {}
        function o(t, r, o) {
          if ("undefined" != typeof document) {
            "number" == typeof (o = e({ path: "/" }, i.defaults, o)).expires && (o.expires = new Date(1 * new Date() + 864e5 * o.expires)), (o.expires = o.expires ? o.expires.toUTCString() : "");
            try {
              var a = JSON.stringify(r);
              /^[\{\[]/.test(a) && (r = a);
            } catch (e) {}
            (r = n.write ? n.write(r, t) : encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent)),
              (t = encodeURIComponent(String(t))
                .replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)
                .replace(/[\(\)]/g, escape));
            var s = "";
            for (var l in o) o[l] && ((s += "; " + l), !0 !== o[l] && (s += "=" + o[l].split(";")[0]));
            return (document.cookie = t + "=" + r + s);
          }
        }
        function a(e, r) {
          if ("undefined" != typeof document) {
            for (var i = {}, o = document.cookie ? document.cookie.split("; ") : [], a = 0; a < o.length; a++) {
              var s = o[a].split("="),
                l = s.slice(1).join("=");
              r || '"' !== l.charAt(0) || (l = l.slice(1, -1));
              try {
                var u = t(s[0]);
                if (((l = (n.read || n)(l, u) || t(l)), r))
                  try {
                    l = JSON.parse(l);
                  } catch (e) {}
                if (((i[u] = l), e === u)) break;
              } catch (e) {}
            }
            return e ? i[e] : i;
          }
        }
        return (
          (i.set = o),
          (i.get = function (e) {
            return a(e, !1);
          }),
          (i.getJSON = function (e) {
            return a(e, !0);
          }),
          (i.remove = function (t, r) {
            o(t, "", e(r, { expires: -1 }));
          }),
          (i.defaults = {}),
          (i.withConverter = r),
          i
        );
      })(function () {});
    });
  },
  function (e, t) {
    e.exports = new (class {
      getPageTitle() {
        return document.title;
      }
      setPageTitle(e) {
        document.title = e;
      }
    })();
  },
  function (e, t, r) {
    const n = r(0);
    e.exports = new (class {
      async pushDataToS3(e, t) {
        let r = null;
        return (
          await this.getPresignUrl(e).then((e) => (r = e)),
          await this.sendDataToS3(r.s3_presign_url, t).then((e) => {
            console.log(e);
          }),
          new Promise((e, t) => {
            e(r);
          })
        );
      }
      getPresignUrl(e) {
        return new Promise((t, r) => {
          n.data(
            e,
            { method: "GET", body: null },
            (e) => {
              t(e);
            },
            (e) => {
              r(e);
            },
          );
        });
      }
      sendDataToS3(e, t) {
        return new Promise((r, i) => {
          let o = new Blob([t], { type: "application/json" });
          n.data(
            e,
            { method: "PUT", body: o },
            (e) => {
              r("success");
            },
            (e) => {
              i("error while pushing data to s3");
            },
            !0,
          );
        });
      }
    })();
  },
  function (e, t, r) {
    r(0);
    e.exports = new (class {
      constructor() {}
      async getURL(e, t, r) {
        return `https://my.${t}.500apps.com/pcors?url=https://${e}.${t}.500apps.com/${r}`;
      }
    })();
  },
  function (e, t, r) {
    const n = r(14),
      i = r(4);
    class o {
      constructor() {
        console.log("_500Client", i),
          (this.previous_data = i.storage.getSessionStorage("backup_data")),
          (this.socket = null),
          (this.isWSConnect = !1),
          (this.key = "_sr"),
          (this.events = []),
          (this.visitorID = null),
          (this.userId = null),
          (this.domainId = null),
          (this.pageID = this.generatePageID()),
          (this.current_country = null),
          (this.region = null);
      }
      getVisitorInformation() {
        return new Promise(async (e) => {
          await i.client.getVisitorID((t) => {
            (this.visitorID = t), e(t);
          });
        });
      }
      async init(e, t = 5, r, n = this) {
        if (
          ((this.region = r),
          localStorage.getItem(e + "_visitor_type") ? localStorage.setItem(e + "_visitor_type", "Returning") : localStorage.setItem(e + "_visitor_type", "New"),
          1 != performance.getEntriesByType("resource").filter((e) => e.name.includes("siterecording/siterecorder.min.js")).length)
        )
          return;
        i.rest.setServerURL(`https://api.${r}.500apps.com`), await this.connectWebSocket(), i.api.setApiKey(e);
        JSON.stringify({ url: window.location.origin, apikey: e });
        i.rest.data(
          "js/v1/verify/siterecording",
          {},
          (async (e) => {
            let n,
              i = [];
            try {
              i = JSON.parse(e[0].rule);
            } catch (e) {
              console.log(e);
            }
            if (i && i.length) {
              if (((n = await this.validationRulesFilter(t, e, r)), n)) return;
            } else this.listenEvents(t), (this.userId = e[0].created_by), (this.domainId = e[0].domain_id);
          }).bind(this),
          (e) => console.error(e),
          !1,
        );
      }
      async connectWebSocket(e = this) {
        return new Promise((t) => {
          (this.socket = new WebSocket(`wss://ws.${e.region}.500apps.com/ws/siterecording`)),
            (this.socket.onopen = function (r) {
              (e.isWSConnect = !0), t(!0);
            });
        });
      }
      async validationRulesFilter(e, t, r) {
        let n = {};
        if (sessionStorage.getItem("cookie-status")) n.status = sessionStorage.getItem("cookie-status");
        else {
          let e = await this.getVisitorInformation();
          n = await i.rest.synchronizeRequest(`https://api.${r}.500apps.com/siterecording/verify-rules?app_name=siterecording`, { method: "POST", body: JSON.stringify({ visitor_id: e }) });
        }
        n.status && (sessionStorage.setItem("cookie-status", n.status), this.listenEvents(e), (this.userId = t[0].created_by), (this.domainId = t[0].domain_id));
      }
      listenEvents(e) {
        this.generateSessionID();
        let t = this;
        t.sendPreviousPageDataToServer(t.previous_data),
          n.record({
            emit(e) {
              t.events.push(e),
                i.storage.setSessionStorage(
                  "backup_data",
                  JSON.stringify({ page_id: t.pageID, visitor_id: t.visitorID, page_url: window.location.href, events: t.events, user_id: t.userId, domain_id: t.domainId }),
                );
            },
            recordCanvas: !0,
          }),
          window.addEventListener(
            "beforeunload",
            function (e) {
              e.preventDefault(), e.target.referrer != e.target.baseURI && this.processEvent();
            }.bind(this),
          ),
          setInterval(
            (() => {
              this.processEvent();
            }).bind(this),
            1e3 * e,
          );
      }
      async processEvent(e = this) {
        if (e.events.length < 1) await e.pushEvent({}, e, !0);
        else {
          3 == e.socket.readyState && (await this.connectWebSocket());
          var t = JSON.stringify({ session_id: i.storage.getSessionStorage(e.key), page_id: e.pageID, events: e.events, user_id: e.userId, domain_id: e.domainId });
          await e.pushEvent(t, e);
        }
      }
      async pushEvent(e, t = this, r = !1) {
        let n = null;
        if (
          (await t.pushEventsByUsingWebSocket(e).then((e) => {
            n = JSON.parse(e);
          }),
          "error" == n.type)
        )
          return !1;
        r || (t.visitorID || (t.visitorID = await t.getVisitorInformation()), await t.pushEventsInfoToServer(n.data, t));
      }
      pushEventsByUsingWebSocket(e, t = this) {
        return new Promise((r, n) => {
          (this.socket.onmessage = function (e) {
            r(e.data);
          }),
            (this.socket.onclose = function (e) {
              console.log(" Connection closed");
            }),
            (this.socket.onerror = function (e) {
              console.log("Getting error");
            });
          let i = JSON.stringify(e),
            o = new Blob([i], { type: "application/octet-stream" });
          if (t.isWSConnect) this.socket.send(o);
          else {
            let e = setInterval(() => {
              t.isWSConnect && (t.socket.send(o), clearInterval(e));
            }, 1e3);
          }
          return !1;
        });
      }
      encode(e) {
        for (var t = [], r = 0; r < e.length; r++) t[r] = e.charCodeAt(r);
        return new Uint8Array(t);
      }
      pushEventsInfoToServer(e, t = this) {
        let r = {
          session_id: i.storage.getSessionStorage(t.key),
          page_id: t.pageID,
          events_info: e,
          api_key: i.api.getApiKey(),
          page_url: window.location.href,
          visitor_id: t.visitorID,
          visitor_type: localStorage.getItem(i.api.getApiKey() + "_visitor_type"),
        };
        (r = JSON.stringify(r)),
          i.rest.data(
            "siterecording/event?app_name=siterecording",
            { method: "POST", body: r },
            (e) => {
              t.events = [];
            },
            (e) => console.error("Fail, While save events info"),
          );
      }
      generateSessionID() {
        i.storage.getSessionStorage(this.key) || (i.storage.setSessionStorage(this.key, i.utils.generateUUID()), this.sendClientInfoToServer());
      }
      async sendClientInfoToServer() {
        let e = new Promise((e, t) => {
          i.client.getVisitorID((t) => {
            e(t), (this.visitorID = t);
          });
        });
        await e.then((e) => {
          this.visitorID = e;
        });
        let t = i.client.getVisitorInfo(),
          r = {
            api_key: i.api.getApiKey(),
            session_id: i.storage.getSessionStorage(this.key),
            browser_name: t.browser,
            browser_version: t.version,
            device_type: t.deviceType,
            resolution: `${t.deviceWidth}x${t.deviceHeight}`,
            os: t.OS,
            visitor_id: this.visitorID,
            start_page: window.location.href,
          };
        (r = JSON.stringify(r)),
          i.rest.data(
            "siterecording/client?app_name=siterecording",
            { method: "POST", body: r },
            (e) => {
              console.log(e);
            },
            (e) => console.error("Fail, While save client info"),
          );
      }
      async sendPreviousPageDataToServer(e, t = this) {
        if (!e) return !1;
        let r = JSON.parse(e);
        if (r.page_url.trim() == window.location.href.trim()) return !1;
        let n = null,
          o = JSON.stringify({ session_id: i.storage.getSessionStorage(t.key), page_id: r.page_id, events: r.events, user_id: r.user_id, domain_id: r.domain_id });
        if (
          (await t.pushEventsByUsingWebSocket(o).then((e) => {
            n = JSON.parse(e);
          }),
          "error" == n.type)
        )
          return !1;
        let a = {
          session_id: i.storage.getSessionStorage(t.key),
          page_id: r.page_id,
          events_info: n.data,
          api_key: i.api.getApiKey(),
          visitor_id: r.visitor_id,
          page_url: r.page_url,
          visitor_type: localStorage.getItem(i.api.getApiKey() + "_visitor_type"),
        };
        (a = JSON.stringify(a)),
          i.rest.data(
            "siterecording/event?app_name=siterecording",
            { method: "POST", body: a },
            (e) => {
              console.log("Successfully sent previous page data");
            },
            (e) => console.err("Fail, While save events info"),
          );
      }
      generatePageID() {
        return this.pageID || (this.pageID = i.utils.generateUUID()), this.pageID;
      }
      tagSession(e) {
        let t = {};
        (t.tag_names = e.split(",")),
          i.rest.data(
            `siterecording/tags/${this.getSessionKey()}?app_name=siterecording`,
            { method: "POST", body: JSON.stringify(t) },
            (e) => {
              console.log("Successfully added tag to current session");
            },
            (e) => console.err("Fail, to add tag"),
          );
      }
      getSessionKey() {
        return i.storage.getSessionStorage(this.key);
      }
    }
    var a;
    ((a = window)._sr_r_ = new o()), (a.addTag = a._sr_r_.tagSession.bind(a._sr_r_));
  },
  function (e, t, r) {
    "use strict";
    r.r(t),
      r.d(t, "addCustomEvent", function () {
        return it;
      }),
      r.d(t, "freezePage", function () {
        return ot;
      }),
      r.d(t, "pack", function () {
        return Yt;
      }),
      r.d(t, "unpack", function () {
        return qt;
      }),
      r.d(t, "PLUGIN_NAME", function () {
        return sr;
      }),
      r.d(t, "getRecordConsolePlugin", function () {
        return lr;
      }),
      r.d(t, "getReplayConsolePlugin", function () {
        return dr;
      }),
      r.d(t, "record", function () {
        return nt;
      }),
      r.d(t, "EventType", function () {
        return P;
      }),
      r.d(t, "IncrementalSource", function () {
        return B;
      }),
      r.d(t, "MouseInteractions", function () {
        return F;
      }),
      r.d(t, "ReplayerEvents", function () {
        return V;
      }),
      r.d(t, "Replayer", function () {
        return zr;
      }),
      r.d(t, "utils", function () {
        return n;
      }),
      r.d(t, "mirror", function () {
        return Q;
      });
    var n = {};
    r.r(n),
      r.d(n, "TreeIndex", function () {
        return ue;
      }),
      r.d(n, "_mirror", function () {
        return Q;
      }),
      r.d(n, "createMirror", function () {
        return q;
      }),
      r.d(n, "getBaseDimension", function () {
        return pe;
      }),
      r.d(n, "getWindowHeight", function () {
        return re;
      }),
      r.d(n, "getWindowWidth", function () {
        return ne;
      }),
      r.d(n, "hasShadowRoot", function () {
        return he;
      }),
      r.d(n, "hookSetter", function () {
        return ee;
      }),
      r.d(n, "isAncestorRemoved", function () {
        return ae;
      }),
      r.d(n, "isBlocked", function () {
        return ie;
      }),
      r.d(n, "isIframeINode", function () {
        return fe;
      }),
      r.d(n, "isIgnored", function () {
        return oe;
      }),
      r.d(n, "isTouchEvent", function () {
        return se;
      }),
      r.d(n, "iterateResolveTree", function () {
        return de;
      }),
      r.d(n, "on", function () {
        return Y;
      }),
      r.d(n, "patch", function () {
        return te;
      }),
      r.d(n, "polyfill", function () {
        return le;
      }),
      r.d(n, "queueToResolveTrees", function () {
        return ce;
      }),
      r.d(n, "throttle", function () {
        return Z;
      });
    var i = {};
    r.r(i),
      r.d(i, "default", function () {
        return fr;
      });
    /*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
    var o,
      a = function () {
        return (a =
          Object.assign ||
          function (e) {
            for (var t, r = 1, n = arguments.length; r < n; r++) for (var i in (t = arguments[r])) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
            return e;
          }).apply(this, arguments);
      };
    function s(e) {
      var t = "function" == typeof Symbol && Symbol.iterator,
        r = t && e[t],
        n = 0;
      if (r) return r.call(e);
      if (e && "number" == typeof e.length)
        return {
          next: function () {
            return e && n >= e.length && (e = void 0), { value: e && e[n++], done: !e };
          },
        };
      throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
    }
    function l(e, t) {
      var r = "function" == typeof Symbol && e[Symbol.iterator];
      if (!r) return e;
      var n,
        i,
        o = r.call(e),
        a = [];
      try {
        for (; (void 0 === t || t-- > 0) && !(n = o.next()).done; ) a.push(n.value);
      } catch (e) {
        i = { error: e };
      } finally {
        try {
          n && !n.done && (r = o.return) && r.call(o);
        } finally {
          if (i) throw i.error;
        }
      }
      return a;
    }
    function u() {
      for (var e = [], t = 0; t < arguments.length; t++) e = e.concat(l(arguments[t]));
      return e;
    }
    function c(e) {
      return e.nodeType === e.ELEMENT_NODE;
    }
    function d(e) {
      var t,
        r = null === (t = e) || void 0 === t ? void 0 : t.host;
      return Boolean(r && r.shadowRoot && r.shadowRoot === e);
    }
    function f(e) {
      var t = e.maskInputOptions,
        r = e.tagName,
        n = e.type,
        i = e.value,
        o = e.maskInputFn,
        a = i || "";
      return (t[r.toLowerCase()] || t[n]) && (a = o ? o(a) : "*".repeat(a.length)), a;
    }
    !(function (e) {
      (e[(e.Document = 0)] = "Document"),
        (e[(e.DocumentType = 1)] = "DocumentType"),
        (e[(e.Element = 2)] = "Element"),
        (e[(e.Text = 3)] = "Text"),
        (e[(e.CDATA = 4)] = "CDATA"),
        (e[(e.Comment = 5)] = "Comment");
    })(o || (o = {}));
    var p,
      h,
      m = 1,
      v = new RegExp("[^a-z0-9-_:]");
    function g(e) {
      try {
        var t = e.rules || e.cssRules;
        return t ? Array.from(t).map(y).join("") : null;
      } catch (e) {
        return null;
      }
    }
    function y(e) {
      var t = e.cssText;
      if (
        (function (e) {
          return "styleSheet" in e;
        })(e)
      )
        try {
          t = g(e.styleSheet) || t;
        } catch (e) {}
      return t;
    }
    var S = /url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,
      b = /^(?!www\.|(?:http|ftp)s?:\/\/|[A-Za-z]:\\|\/\/|#).*/,
      w = /^(data:)([^,]*),(.*)/i;
    function x(e, t) {
      return (e || "").replace(S, function (e, r, n, i, o, a) {
        var s,
          l = n || o || a,
          u = r || i || "";
        if (!l) return e;
        if (!b.test(l)) return "url(" + u + l + u + ")";
        if (w.test(l)) return "url(" + u + l + u + ")";
        if ("/" === l[0]) return "url(" + u + (((s = t).indexOf("//") > -1 ? s.split("/").slice(0, 3).join("/") : s.split("/")[0]).split("?")[0] + l) + u + ")";
        var c = t.split("/"),
          d = l.split("/");
        c.pop();
        for (var f = 0, p = d; f < p.length; f++) {
          var h = p[f];
          "." !== h && (".." === h ? c.pop() : c.push(h));
        }
        return "url(" + u + c.join("/") + u + ")";
      });
    }
    var T = /^[^ \t\n\r\u000c]+/,
      C = /^[, \t\n\r\u000c]+/;
    function E(e, t) {
      if (!t || "" === t.trim()) return t;
      var r = e.createElement("a");
      return (r.href = t), r.href;
    }
    function I() {
      var e = document.createElement("a");
      return (e.href = ""), e.href;
    }
    function k(e, t, r, n) {
      return "src" === r || ("href" === r && n) || ("xlink:href" === r && n && "#" !== n[0])
        ? E(e, n)
        : "background" !== r || !n || ("table" !== t && "td" !== t && "th" !== t)
        ? "srcset" === r && n
          ? (function (e, t) {
              if ("" === t.trim()) return t;
              var r = 0;
              function n(e) {
                var n,
                  i = e.exec(t.substring(r));
                return i ? ((n = i[0]), (r += n.length), n) : "";
              }
              for (var i = []; n(C), !(r >= t.length); ) {
                var o = n(T);
                if ("," === o.slice(-1)) (o = E(e, o.substring(0, o.length - 1))), i.push(o);
                else {
                  var a = "";
                  o = E(e, o);
                  for (var s = !1; ; ) {
                    var l = t.charAt(r);
                    if ("" === l) {
                      i.push((o + a).trim());
                      break;
                    }
                    if (s) ")" === l && (s = !1);
                    else {
                      if ("," === l) {
                        (r += 1), i.push((o + a).trim());
                        break;
                      }
                      "(" === l && (s = !0);
                    }
                    (a += l), (r += 1);
                  }
                }
              }
              return i.join(", ");
            })(e, n)
          : "style" === r && n
          ? x(n, I())
          : "object" === t && "data" === r && n
          ? E(e, n)
          : n
        : E(e, n);
    }
    function M(e, t, r) {
      if (!e) return !1;
      if (e.nodeType === e.ELEMENT_NODE) {
        if ("string" == typeof t) {
          if (e.classList.contains(t)) return !0;
        } else
          e.classList.forEach(function (e) {
            if (t.test(e)) return !0;
          });
        return !(!r || !e.matches(r)) || M(e.parentNode, t, r);
      }
      return e.nodeType, e.TEXT_NODE, M(e.parentNode, t, r);
    }
    function A(e, t) {
      var r,
        n,
        i,
        a,
        s = t.doc,
        l = t.blockClass,
        u = t.blockSelector,
        c = t.maskTextClass,
        d = t.maskTextSelector,
        m = t.inlineStylesheet,
        y = t.maskInputOptions,
        S = void 0 === y ? {} : y,
        b = t.maskTextFn,
        w = t.maskInputFn,
        T = t.dataURLOptions,
        C = void 0 === T ? {} : T,
        E = t.inlineImages,
        A = t.recordCanvas,
        O = t.keepIframeSrcFn;
      if (s.__sn) {
        var _ = s.__sn.id;
        n = 1 === _ ? void 0 : _;
      }
      switch (e.nodeType) {
        case e.DOCUMENT_NODE:
          return "CSS1Compat" !== e.compatMode ? { type: o.Document, childNodes: [], compatMode: e.compatMode, rootId: n } : { type: o.Document, childNodes: [], rootId: n };
        case e.DOCUMENT_TYPE_NODE:
          return { type: o.DocumentType, name: e.name, publicId: e.publicId, systemId: e.systemId, rootId: n };
        case e.ELEMENT_NODE:
          for (
            var N = (function (e, t, r) {
                if ("string" == typeof t) {
                  if (e.classList.contains(t)) return !0;
                } else
                  for (var n = 0; n < e.classList.length; n++) {
                    var i = e.classList[n];
                    if (t.test(i)) return !0;
                  }
                return !!r && e.matches(r);
              })(e, l, u),
              D = (function (e) {
                if (e instanceof HTMLFormElement) return "form";
                var t = e.tagName.toLowerCase().trim();
                return v.test(t) ? "div" : t;
              })(e),
              L = {},
              R = 0,
              P = Array.from(e.attributes);
            R < P.length;
            R++
          ) {
            var B = P[R],
              F = B.name,
              U = B.value;
            L[F] = k(s, D, F, U);
          }
          if ("link" === D && m) {
            var W = Array.from(s.styleSheets).find(function (t) {
                return t.href === e.href;
              }),
              V = null;
            W && (V = g(W)), V && (delete L.rel, delete L.href, (L._cssText = x(V, W.href)));
          }
          if ("style" === D && e.sheet && !(e.innerText || e.textContent || "").trim().length) (V = g(e.sheet)) && (L._cssText = x(V, I()));
          if ("input" === D || "textarea" === D || "select" === D) {
            U = e.value;
            "radio" !== L.type && "checkbox" !== L.type && "submit" !== L.type && "button" !== L.type && U
              ? (L.value = f({ type: L.type, tagName: D, value: U, maskInputOptions: S, maskInputFn: w }))
              : e.checked && (L.checked = e.checked);
          }
          if (("option" === D && (e.selected && !S.select ? (L.selected = !0) : delete L.selected), "canvas" === D && A))
            if ("2d" === e.__context)
              (function (e) {
                var t = e.getContext("2d");
                if (!t) return !0;
                for (var r = 0; r < e.width; r += 50)
                  for (var n = 0; n < e.height; n += 50) {
                    var i = t.getImageData,
                      o = "__rrweb_original__" in i ? i.__rrweb_original__ : i;
                    if (
                      new Uint32Array(o.call(t, r, n, Math.min(50, e.width - r), Math.min(50, e.height - n)).data.buffer).some(function (e) {
                        return 0 !== e;
                      })
                    )
                      return !1;
                  }
                return !0;
              })(e) || (L.rr_dataURL = e.toDataURL(C.type, C.quality));
            else if (!("__context" in e)) {
              var G = e.toDataURL(C.type, C.quality),
                j = document.createElement("canvas");
              (j.width = e.width), (j.height = e.height), G !== j.toDataURL(C.type, C.quality) && (L.rr_dataURL = G);
            }
          if ("img" === D && E) {
            p || ((p = s.createElement("canvas")), (h = p.getContext("2d")));
            var H = e,
              z = H.crossOrigin;
            H.crossOrigin = "anonymous";
            var X = function () {
              try {
                (p.width = H.naturalWidth), (p.height = H.naturalHeight), h.drawImage(H, 0, 0), (L.rr_dataURL = p.toDataURL(C.type, C.quality));
              } catch (e) {
                console.warn("Cannot inline img src=" + H.currentSrc + "! Error: " + e);
              }
              z ? (L.crossOrigin = z) : delete L.crossOrigin;
            };
            H.complete && 0 !== H.naturalWidth ? X() : (H.onload = X);
          }
          if (
            (("audio" !== D && "video" !== D) || ((L.rr_mediaState = e.paused ? "paused" : "played"), (L.rr_mediaCurrentTime = e.currentTime)),
            e.scrollLeft && (L.rr_scrollLeft = e.scrollLeft),
            e.scrollTop && (L.rr_scrollTop = e.scrollTop),
            N)
          ) {
            var J = e.getBoundingClientRect(),
              K = J.width,
              Y = J.height;
            L = { class: L.class, rr_width: K + "px", rr_height: Y + "px" };
          }
          return (
            "iframe" !== D || O(L.src) || (e.contentDocument || (L.rr_src = L.src), delete L.src),
            { type: o.Element, tagName: D, attributes: L, childNodes: [], isSVG: ((a = e), Boolean("svg" === a.tagName || a.ownerSVGElement) || void 0), needBlock: N, rootId: n }
          );
        case e.TEXT_NODE:
          var q = e.parentNode && e.parentNode.tagName,
            $ = e.textContent,
            Q = "STYLE" === q || void 0,
            Z = "SCRIPT" === q || void 0;
          if (Q && $) {
            try {
              (null === (r = e.parentNode.sheet) || void 0 === r ? void 0 : r.cssRules) &&
                ($ = (i = e.parentNode.sheet).cssRules
                  ? Array.from(i.cssRules)
                      .map(function (e) {
                        return e.cssText || "";
                      })
                      .join("")
                  : "");
            } catch (t) {
              console.warn("Cannot get CSS styles from text's parentNode. Error: " + t, e);
            }
            $ = x($, I());
          }
          return Z && ($ = "SCRIPT_PLACEHOLDER"), !Q && !Z && M(e, c, d) && $ && ($ = b ? b($) : $.replace(/[\S]/g, "*")), { type: o.Text, textContent: $ || "", isStyle: Q, rootId: n };
        case e.CDATA_SECTION_NODE:
          return { type: o.CDATA, textContent: "", rootId: n };
        case e.COMMENT_NODE:
          return { type: o.Comment, textContent: e.textContent || "", rootId: n };
        default:
          return !1;
      }
    }
    function O(e) {
      return void 0 === e ? "" : e.toLowerCase();
    }
    function _(e, t) {
      var r,
        n = t.doc,
        i = t.map,
        a = t.blockClass,
        s = t.blockSelector,
        l = t.maskTextClass,
        u = t.maskTextSelector,
        f = t.skipChild,
        p = void 0 !== f && f,
        h = t.inlineStylesheet,
        v = void 0 === h || h,
        g = t.maskInputOptions,
        y = void 0 === g ? {} : g,
        S = t.maskTextFn,
        b = t.maskInputFn,
        w = t.slimDOMOptions,
        x = t.dataURLOptions,
        T = void 0 === x ? {} : x,
        C = t.inlineImages,
        E = void 0 !== C && C,
        I = t.recordCanvas,
        k = void 0 !== I && I,
        M = t.onSerialize,
        N = t.onIframeLoad,
        D = t.iframeLoadTimeout,
        L = void 0 === D ? 5e3 : D,
        R = t.keepIframeSrcFn,
        P =
          void 0 === R
            ? function () {
                return !1;
              }
            : R,
        B = t.preserveWhiteSpace,
        F = void 0 === B || B,
        U = A(e, {
          doc: n,
          blockClass: a,
          blockSelector: s,
          maskTextClass: l,
          maskTextSelector: u,
          inlineStylesheet: v,
          maskInputOptions: y,
          maskTextFn: S,
          maskInputFn: b,
          dataURLOptions: T,
          inlineImages: E,
          recordCanvas: k,
          keepIframeSrcFn: P,
        });
      if (!U) return console.warn(e, "not serialized"), null;
      r =
        "__sn" in e
          ? e.__sn.id
          : !(function (e, t) {
              if (t.comment && e.type === o.Comment) return !0;
              if (e.type === o.Element) {
                if (
                  t.script &&
                  ("script" === e.tagName ||
                    ("link" === e.tagName && "preload" === e.attributes.rel && "script" === e.attributes.as) ||
                    ("link" === e.tagName && "prefetch" === e.attributes.rel && "string" == typeof e.attributes.href && e.attributes.href.endsWith(".js")))
                )
                  return !0;
                if (
                  t.headFavicon &&
                  (("link" === e.tagName && "shortcut icon" === e.attributes.rel) ||
                    ("meta" === e.tagName &&
                      (O(e.attributes.name).match(/^msapplication-tile(image|color)$/) ||
                        "application-name" === O(e.attributes.name) ||
                        "icon" === O(e.attributes.rel) ||
                        "apple-touch-icon" === O(e.attributes.rel) ||
                        "shortcut icon" === O(e.attributes.rel))))
                )
                  return !0;
                if ("meta" === e.tagName) {
                  if (t.headMetaDescKeywords && O(e.attributes.name).match(/^description|keywords$/)) return !0;
                  if (t.headMetaSocial && (O(e.attributes.property).match(/^(og|twitter|fb):/) || O(e.attributes.name).match(/^(og|twitter):/) || "pinterest" === O(e.attributes.name))) return !0;
                  if (t.headMetaRobots && ("robots" === O(e.attributes.name) || "googlebot" === O(e.attributes.name) || "bingbot" === O(e.attributes.name))) return !0;
                  if (t.headMetaHttpEquiv && void 0 !== e.attributes["http-equiv"]) return !0;
                  if (
                    t.headMetaAuthorship &&
                    ("author" === O(e.attributes.name) ||
                      "generator" === O(e.attributes.name) ||
                      "framework" === O(e.attributes.name) ||
                      "publisher" === O(e.attributes.name) ||
                      "progid" === O(e.attributes.name) ||
                      O(e.attributes.property).match(/^article:/) ||
                      O(e.attributes.property).match(/^product:/))
                  )
                    return !0;
                  if (
                    t.headMetaVerification &&
                    ("google-site-verification" === O(e.attributes.name) ||
                      "yandex-verification" === O(e.attributes.name) ||
                      "csrf-token" === O(e.attributes.name) ||
                      "p:domain_verify" === O(e.attributes.name) ||
                      "verify-v1" === O(e.attributes.name) ||
                      "verification" === O(e.attributes.name) ||
                      "shopify-checkout-api-token" === O(e.attributes.name))
                  )
                    return !0;
                }
              }
              return !1;
            })(U, w) &&
            (F || U.type !== o.Text || U.isStyle || U.textContent.replace(/^\s+|\s+$/gm, "").length)
          ? m++
          : -2;
      var W = Object.assign(U, { id: r });
      if (((e.__sn = W), -2 === r)) return null;
      (i[r] = e), M && M(e);
      var V = !p;
      if ((W.type === o.Element && ((V = V && !W.needBlock), delete W.needBlock), (W.type === o.Document || W.type === o.Element) && V)) {
        w.headWhitespace && U.type === o.Element && "head" === U.tagName && (F = !1);
        for (
          var G = {
              doc: n,
              map: i,
              blockClass: a,
              blockSelector: s,
              maskTextClass: l,
              maskTextSelector: u,
              skipChild: p,
              inlineStylesheet: v,
              maskInputOptions: y,
              maskTextFn: S,
              maskInputFn: b,
              slimDOMOptions: w,
              dataURLOptions: T,
              inlineImages: E,
              recordCanvas: k,
              preserveWhiteSpace: F,
              onSerialize: M,
              onIframeLoad: N,
              iframeLoadTimeout: L,
              keepIframeSrcFn: P,
            },
            j = 0,
            H = Array.from(e.childNodes);
          j < H.length;
          j++
        ) {
          (J = _(H[j], G)) && W.childNodes.push(J);
        }
        if (c(e) && e.shadowRoot) {
          W.isShadowHost = !0;
          for (var z = 0, X = Array.from(e.shadowRoot.childNodes); z < X.length; z++) {
            var J;
            (J = _(X[z], G)) && ((J.isShadow = !0), W.childNodes.push(J));
          }
        }
      }
      return (
        e.parentNode && d(e.parentNode) && (W.isShadow = !0),
        W.type === o.Element &&
          "iframe" === W.tagName &&
          (function (e, t, r) {
            var n = e.contentWindow;
            if (n) {
              var i,
                o = !1;
              try {
                i = n.document.readyState;
              } catch (e) {
                return;
              }
              if ("complete" === i) {
                "about:blank" === n.location.href && "about:blank" !== e.src && "" !== e.src ? e.addEventListener("load", t) : setTimeout(t, 0);
              } else {
                var a = setTimeout(function () {
                  o || (t(), (o = !0));
                }, r);
                e.addEventListener("load", function () {
                  clearTimeout(a), (o = !0), t();
                });
              }
            }
          })(
            e,
            function () {
              var t = e.contentDocument;
              if (t && N) {
                var r = _(t, {
                  doc: t,
                  map: i,
                  blockClass: a,
                  blockSelector: s,
                  maskTextClass: l,
                  maskTextSelector: u,
                  skipChild: !1,
                  inlineStylesheet: v,
                  maskInputOptions: y,
                  maskTextFn: S,
                  maskInputFn: b,
                  slimDOMOptions: w,
                  dataURLOptions: T,
                  inlineImages: E,
                  recordCanvas: k,
                  preserveWhiteSpace: F,
                  onSerialize: M,
                  onIframeLoad: N,
                  iframeLoadTimeout: L,
                  keepIframeSrcFn: P,
                });
                r && N(e, r);
              }
            },
            L,
          ),
        W
      );
    }
    var N = /\/\*[^*]*\*+([^/*][^*]*\*+)*\//g;
    function D(e, t) {
      void 0 === t && (t = {});
      var r = 1,
        n = 1;
      function i(e) {
        var t = e.match(/\n/g);
        t && (r += t.length);
        var i = e.lastIndexOf("\n");
        n = -1 === i ? n + e.length : e.length - i;
      }
      function o() {
        var e = { line: r, column: n };
        return function (t) {
          return (t.position = new a(e)), p(), t;
        };
      }
      var a = function (e) {
        (this.start = e), (this.end = { line: r, column: n }), (this.source = t.source);
      };
      a.prototype.content = e;
      var s = [];
      function l(i) {
        var o = new Error(t.source + ":" + r + ":" + n + ": " + i);
        if (((o.reason = i), (o.filename = t.source), (o.line = r), (o.column = n), (o.source = e), !t.silent)) throw o;
        s.push(o);
      }
      function u() {
        return f(/^{\s*/);
      }
      function c() {
        return f(/^}/);
      }
      function d() {
        var t,
          r = [];
        for (p(), h(r); e.length && "}" !== e.charAt(0) && (t = E() || I()); ) !1 !== t && (r.push(t), h(r));
        return r;
      }
      function f(t) {
        var r = t.exec(e);
        if (r) {
          var n = r[0];
          return i(n), (e = e.slice(n.length)), r;
        }
      }
      function p() {
        f(/^\s*/);
      }
      function h(e) {
        var t;
        for (void 0 === e && (e = []); (t = m()); ) !1 !== t && e.push(t), (t = m());
        return e;
      }
      function m() {
        var t = o();
        if ("/" === e.charAt(0) && "*" === e.charAt(1)) {
          for (var r = 2; "" !== e.charAt(r) && ("*" !== e.charAt(r) || "/" !== e.charAt(r + 1)); ) ++r;
          if (((r += 2), "" === e.charAt(r - 1))) return l("End of comment missing");
          var a = e.slice(2, r - 2);
          return (n += 2), i(a), (e = e.slice(r)), (n += 2), t({ type: "comment", comment: a });
        }
      }
      function v() {
        var e = f(/^([^{]+)/);
        if (e)
          return L(e[0])
            .replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g, "")
            .replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g, function (e) {
              return e.replace(/,/g, "‌");
            })
            .split(/\s*(?![^(]*\)),\s*/)
            .map(function (e) {
              return e.replace(/\u200C/g, ",");
            });
      }
      function g() {
        var e = o(),
          t = f(/^(\*?[-#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);
        if (t) {
          var r = L(t[0]);
          if (!f(/^:\s*/)) return l("property missing ':'");
          var n = f(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/),
            i = e({ type: "declaration", property: r.replace(N, ""), value: n ? L(n[0]).replace(N, "") : "" });
          return f(/^[;\s]*/), i;
        }
      }
      function y() {
        var e,
          t = [];
        if (!u()) return l("missing '{'");
        for (h(t); (e = g()); ) !1 !== e && (t.push(e), h(t)), (e = g());
        return c() ? t : l("missing '}'");
      }
      function S() {
        for (var e, t = [], r = o(); (e = f(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/)); ) t.push(e[1]), f(/^,\s*/);
        if (t.length) return r({ type: "keyframe", values: t, declarations: y() });
      }
      var b,
        w = C("import"),
        x = C("charset"),
        T = C("namespace");
      function C(e) {
        var t = new RegExp("^@" + e + "\\s*([^;]+);");
        return function () {
          var r = o(),
            n = f(t);
          if (n) {
            var i = { type: e };
            return (i[e] = n[1].trim()), r(i);
          }
        };
      }
      function E() {
        if ("@" === e[0])
          return (
            (function () {
              var e = o(),
                t = f(/^@([-\w]+)?keyframes\s*/);
              if (t) {
                var r = t[1];
                if (!(t = f(/^([-\w]+)\s*/))) return l("@keyframes missing name");
                var n,
                  i = t[1];
                if (!u()) return l("@keyframes missing '{'");
                for (var a = h(); (n = S()); ) a.push(n), (a = a.concat(h()));
                return c() ? e({ type: "keyframes", name: i, vendor: r, keyframes: a }) : l("@keyframes missing '}'");
              }
            })() ||
            (function () {
              var e = o(),
                t = f(/^@media *([^{]+)/);
              if (t) {
                var r = L(t[1]);
                if (!u()) return l("@media missing '{'");
                var n = h().concat(d());
                return c() ? e({ type: "media", media: r, rules: n }) : l("@media missing '}'");
              }
            })() ||
            (function () {
              var e = o(),
                t = f(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);
              if (t) return e({ type: "custom-media", name: L(t[1]), media: L(t[2]) });
            })() ||
            (function () {
              var e = o(),
                t = f(/^@supports *([^{]+)/);
              if (t) {
                var r = L(t[1]);
                if (!u()) return l("@supports missing '{'");
                var n = h().concat(d());
                return c() ? e({ type: "supports", supports: r, rules: n }) : l("@supports missing '}'");
              }
            })() ||
            w() ||
            x() ||
            T() ||
            (function () {
              var e = o(),
                t = f(/^@([-\w]+)?document *([^{]+)/);
              if (t) {
                var r = L(t[1]),
                  n = L(t[2]);
                if (!u()) return l("@document missing '{'");
                var i = h().concat(d());
                return c() ? e({ type: "document", document: n, vendor: r, rules: i }) : l("@document missing '}'");
              }
            })() ||
            (function () {
              var e = o();
              if (f(/^@page */)) {
                var t = v() || [];
                if (!u()) return l("@page missing '{'");
                for (var r, n = h(); (r = g()); ) n.push(r), (n = n.concat(h()));
                return c() ? e({ type: "page", selectors: t, declarations: n }) : l("@page missing '}'");
              }
            })() ||
            (function () {
              var e = o();
              if (f(/^@host\s*/)) {
                if (!u()) return l("@host missing '{'");
                var t = h().concat(d());
                return c() ? e({ type: "host", rules: t }) : l("@host missing '}'");
              }
            })() ||
            (function () {
              var e = o();
              if (f(/^@font-face\s*/)) {
                if (!u()) return l("@font-face missing '{'");
                for (var t, r = h(); (t = g()); ) r.push(t), (r = r.concat(h()));
                return c() ? e({ type: "font-face", declarations: r }) : l("@font-face missing '}'");
              }
            })()
          );
      }
      function I() {
        var e = o(),
          t = v();
        return t ? (h(), e({ type: "rule", selectors: t, declarations: y() })) : l("selector missing");
      }
      return (function e(t, r) {
        for (var n = t && "string" == typeof t.type, i = n ? t : r, o = 0, a = Object.keys(t); o < a.length; o++) {
          var s = a[o],
            l = t[s];
          Array.isArray(l)
            ? l.forEach(function (t) {
                e(t, i);
              })
            : l && "object" == typeof l && e(l, i);
        }
        n && Object.defineProperty(t, "parent", { configurable: !0, writable: !0, enumerable: !1, value: r || null });
        return t;
      })(((b = d()), { type: "stylesheet", stylesheet: { source: t.source, rules: b, parsingErrors: s } }));
    }
    function L(e) {
      return e ? e.replace(/^\s+|\s+$/g, "") : "";
    }
    var R = {
      script: "noscript",
      altglyph: "altGlyph",
      altglyphdef: "altGlyphDef",
      altglyphitem: "altGlyphItem",
      animatecolor: "animateColor",
      animatemotion: "animateMotion",
      animatetransform: "animateTransform",
      clippath: "clipPath",
      feblend: "feBlend",
      fecolormatrix: "feColorMatrix",
      fecomponenttransfer: "feComponentTransfer",
      fecomposite: "feComposite",
      feconvolvematrix: "feConvolveMatrix",
      fediffuselighting: "feDiffuseLighting",
      fedisplacementmap: "feDisplacementMap",
      fedistantlight: "feDistantLight",
      fedropshadow: "feDropShadow",
      feflood: "feFlood",
      fefunca: "feFuncA",
      fefuncb: "feFuncB",
      fefuncg: "feFuncG",
      fefuncr: "feFuncR",
      fegaussianblur: "feGaussianBlur",
      feimage: "feImage",
      femerge: "feMerge",
      femergenode: "feMergeNode",
      femorphology: "feMorphology",
      feoffset: "feOffset",
      fepointlight: "fePointLight",
      fespecularlighting: "feSpecularLighting",
      fespotlight: "feSpotLight",
      fetile: "feTile",
      feturbulence: "feTurbulence",
      foreignobject: "foreignObject",
      glyphref: "glyphRef",
      lineargradient: "linearGradient",
      radialgradient: "radialGradient",
    };
    var P,
      B,
      F,
      U,
      W,
      V,
      G = /([^\\]):hover/,
      j = new RegExp(G.source, "g");
    function H(e, t) {
      var r = null == t ? void 0 : t.stylesWithHoverClass.get(e);
      if (r) return r;
      var n = D(e, { silent: !0 });
      if (!n.stylesheet) return e;
      var i = [];
      if (
        (n.stylesheet.rules.forEach(function (e) {
          "selectors" in e &&
            (e.selectors || []).forEach(function (e) {
              G.test(e) && i.push(e);
            });
        }),
        0 === i.length)
      )
        return e;
      var o = new RegExp(
          i
            .filter(function (e, t) {
              return i.indexOf(e) === t;
            })
            .sort(function (e, t) {
              return t.length - e.length;
            })
            .map(function (e) {
              return e.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
            })
            .join("|"),
          "g",
        ),
        a = e.replace(o, function (e) {
          var t = e.replace(j, "$1.\\:hover");
          return e + ", " + t;
        });
      return null == t || t.stylesWithHoverClass.set(e, a), a;
    }
    function z() {
      return { stylesWithHoverClass: new Map() };
    }
    function X(e, t) {
      var r = t.doc,
        n = t.hackCss,
        i = t.cache;
      switch (e.type) {
        case o.Document:
          return r.implementation.createDocument(null, "", null);
        case o.DocumentType:
          return r.implementation.createDocumentType(e.name || "html", e.publicId, e.systemId);
        case o.Element:
          var a,
            s = (function (e) {
              var t = R[e.tagName] ? R[e.tagName] : e.tagName;
              return "link" === t && e.attributes._cssText && (t = "style"), t;
            })(e);
          a = e.isSVG ? r.createElementNS("http://www.w3.org/2000/svg", s) : r.createElement(s);
          var l = function (t) {
            if (!e.attributes.hasOwnProperty(t)) return "continue";
            var o = e.attributes[t];
            if ("option" === s && "selected" === t && !1 === o) return "continue";
            if (((o = "boolean" == typeof o || "number" == typeof o ? "" : o), t.startsWith("rr_"))) {
              if ("canvas" === s && "rr_dataURL" === t) {
                var l = document.createElement("img");
                (l.src = o),
                  (l.onload = function () {
                    var e = a.getContext("2d");
                    e && e.drawImage(l, 0, 0, l.width, l.height);
                  });
              } else if ("img" === s && "rr_dataURL" === t) {
                var u = a;
                u.currentSrc.startsWith("data:") || (u.setAttribute("rrweb-original-src", e.attributes.src), (u.src = o));
              }
              if ("rr_width" === t) a.style.width = o;
              else if ("rr_height" === t) a.style.height = o;
              else if ("rr_mediaCurrentTime" === t) a.currentTime = e.attributes.rr_mediaCurrentTime;
              else if ("rr_mediaState" === t)
                switch (o) {
                  case "played":
                    a.play().catch(function (e) {
                      return console.warn("media playback error", e);
                    });
                    break;
                  case "paused":
                    a.pause();
                }
            } else {
              var c = "textarea" === s && "value" === t,
                d = "style" === s && "_cssText" === t;
              if ((d && n && (o = H(o, i)), c || d)) {
                for (var f = r.createTextNode(o), p = 0, h = Array.from(a.childNodes); p < h.length; p++) {
                  var m = h[p];
                  m.nodeType === a.TEXT_NODE && a.removeChild(m);
                }
                return a.appendChild(f), "continue";
              }
              try {
                if (e.isSVG && "xlink:href" === t) a.setAttributeNS("http://www.w3.org/1999/xlink", t, o);
                else if ("onload" === t || "onclick" === t || "onmouse" === t.substring(0, 7)) a.setAttribute("_" + t, o);
                else {
                  if ("meta" === s && "Content-Security-Policy" === e.attributes["http-equiv"] && "content" === t) return a.setAttribute("csp-content", o), "continue";
                  ("link" === s && "preload" === e.attributes.rel && "script" === e.attributes.as) ||
                    ("link" === s && "prefetch" === e.attributes.rel && "string" == typeof e.attributes.href && e.attributes.href.endsWith(".js")) ||
                    ("img" === s && e.attributes.srcset && e.attributes.rr_dataURL ? a.setAttribute("rrweb-original-srcset", e.attributes.srcset) : a.setAttribute(t, o));
                }
              } catch (e) {}
            }
          };
          for (var u in e.attributes) l(u);
          if (e.isShadowHost)
            if (a.shadowRoot) for (; a.shadowRoot.firstChild; ) a.shadowRoot.removeChild(a.shadowRoot.firstChild);
            else a.attachShadow({ mode: "open" });
          return a;
        case o.Text:
          return r.createTextNode(e.isStyle && n ? H(e.textContent, i) : e.textContent);
        case o.CDATA:
          return r.createCDATASection(e.textContent);
        case o.Comment:
          return r.createComment(e.textContent);
        default:
          return null;
      }
    }
    function J(e, t) {
      var r = t.doc,
        n = t.map,
        i = t.skipChild,
        a = void 0 !== i && i,
        s = t.hackCss,
        l = void 0 === s || s,
        u = t.afterAppend,
        d = t.cache,
        f = X(e, { doc: r, hackCss: l, cache: d });
      if (!f) return null;
      if (
        (e.rootId && console.assert(n[e.rootId] === r, "Target document should has the same root id."),
        e.type === o.Document &&
          (r.close(),
          r.open(),
          "BackCompat" === e.compatMode &&
            e.childNodes &&
            e.childNodes[0].type !== o.DocumentType &&
            (e.childNodes[0].type === o.Element && "xmlns" in e.childNodes[0].attributes && "http://www.w3.org/1999/xhtml" === e.childNodes[0].attributes.xmlns
              ? r.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "">')
              : r.write('<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "">')),
          (f = r)),
        (f.__sn = e),
        (n[e.id] = f),
        (e.type === o.Document || e.type === o.Element) && !a)
      )
        for (var p = 0, h = e.childNodes; p < h.length; p++) {
          var m = h[p],
            v = J(m, { doc: r, map: n, skipChild: !1, hackCss: l, afterAppend: u, cache: d });
          v ? (m.isShadow && c(f) && f.shadowRoot ? f.shadowRoot.appendChild(v) : f.appendChild(v), u && u(v)) : console.warn("Failed to rebuild", m);
        }
      return f;
    }
    function K(e, t) {
      var r = t.doc,
        n = t.onVisit,
        i = t.hackCss,
        a = {},
        s = J(e, { doc: r, map: a, skipChild: !1, hackCss: void 0 === i || i, afterAppend: t.afterAppend, cache: t.cache });
      return (
        (function (e, t) {
          for (var r in e) e[r] && ((n = e[r]), t(n));
          var n;
        })(a, function (e) {
          n && n(e),
            (function (e) {
              var t = e.__sn;
              if (t.type === o.Element) {
                var r = e;
                for (var n in t.attributes)
                  if (t.attributes.hasOwnProperty(n) && n.startsWith("rr_")) {
                    var i = t.attributes[n];
                    "rr_scrollLeft" === n && (r.scrollLeft = i), "rr_scrollTop" === n && (r.scrollTop = i);
                  }
              }
            })(e);
        }),
        [s, a]
      );
    }
    function Y(e, t, r) {
      void 0 === r && (r = document);
      var n = { capture: !0, passive: !0 };
      return (
        r.addEventListener(e, t, n),
        function () {
          return r.removeEventListener(e, t, n);
        }
      );
    }
    function q() {
      return {
        map: {},
        getId: function (e) {
          return e && e.__sn ? e.__sn.id : -1;
        },
        getNode: function (e) {
          return this.map[e] || null;
        },
        removeNodeFromMap: function (e) {
          var t = this,
            r = e.__sn && e.__sn.id;
          delete this.map[r],
            e.childNodes &&
              e.childNodes.forEach(function (e) {
                return t.removeNodeFromMap(e);
              });
        },
        has: function (e) {
          return this.map.hasOwnProperty(e);
        },
        reset: function () {
          this.map = {};
        },
      };
    }
    !(function (e) {
      (e[(e.DomContentLoaded = 0)] = "DomContentLoaded"),
        (e[(e.Load = 1)] = "Load"),
        (e[(e.FullSnapshot = 2)] = "FullSnapshot"),
        (e[(e.IncrementalSnapshot = 3)] = "IncrementalSnapshot"),
        (e[(e.Meta = 4)] = "Meta"),
        (e[(e.Custom = 5)] = "Custom"),
        (e[(e.Plugin = 6)] = "Plugin");
    })(P || (P = {})),
      (function (e) {
        (e[(e.Mutation = 0)] = "Mutation"),
          (e[(e.MouseMove = 1)] = "MouseMove"),
          (e[(e.MouseInteraction = 2)] = "MouseInteraction"),
          (e[(e.Scroll = 3)] = "Scroll"),
          (e[(e.ViewportResize = 4)] = "ViewportResize"),
          (e[(e.Input = 5)] = "Input"),
          (e[(e.TouchMove = 6)] = "TouchMove"),
          (e[(e.MediaInteraction = 7)] = "MediaInteraction"),
          (e[(e.StyleSheetRule = 8)] = "StyleSheetRule"),
          (e[(e.CanvasMutation = 9)] = "CanvasMutation"),
          (e[(e.Font = 10)] = "Font"),
          (e[(e.Log = 11)] = "Log"),
          (e[(e.Drag = 12)] = "Drag"),
          (e[(e.StyleDeclaration = 13)] = "StyleDeclaration");
      })(B || (B = {})),
      (function (e) {
        (e[(e.MouseUp = 0)] = "MouseUp"),
          (e[(e.MouseDown = 1)] = "MouseDown"),
          (e[(e.Click = 2)] = "Click"),
          (e[(e.ContextMenu = 3)] = "ContextMenu"),
          (e[(e.DblClick = 4)] = "DblClick"),
          (e[(e.Focus = 5)] = "Focus"),
          (e[(e.Blur = 6)] = "Blur"),
          (e[(e.TouchStart = 7)] = "TouchStart"),
          (e[(e.TouchMove_Departed = 8)] = "TouchMove_Departed"),
          (e[(e.TouchEnd = 9)] = "TouchEnd"),
          (e[(e.TouchCancel = 10)] = "TouchCancel");
      })(F || (F = {})),
      (function (e) {
        (e[(e["2D"] = 0)] = "2D"), (e[(e.WebGL = 1)] = "WebGL"), (e[(e.WebGL2 = 2)] = "WebGL2");
      })(U || (U = {})),
      (function (e) {
        (e[(e.Play = 0)] = "Play"), (e[(e.Pause = 1)] = "Pause"), (e[(e.Seeked = 2)] = "Seeked"), (e[(e.VolumeChange = 3)] = "VolumeChange");
      })(W || (W = {})),
      (function (e) {
        (e.Start = "start"),
          (e.Pause = "pause"),
          (e.Resume = "resume"),
          (e.Resize = "resize"),
          (e.Finish = "finish"),
          (e.FullsnapshotRebuilded = "fullsnapshot-rebuilded"),
          (e.LoadStylesheetStart = "load-stylesheet-start"),
          (e.LoadStylesheetEnd = "load-stylesheet-end"),
          (e.SkipStart = "skip-start"),
          (e.SkipEnd = "skip-end"),
          (e.MouseInteraction = "mouse-interaction"),
          (e.EventCast = "event-cast"),
          (e.CustomEvent = "custom-event"),
          (e.Flush = "flush"),
          (e.StateChange = "state-change"),
          (e.PlayBack = "play-back");
      })(V || (V = {}));
    var $ =
        "Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.",
      Q = {
        map: {},
        getId: function () {
          return console.error($), -1;
        },
        getNode: function () {
          return console.error($), null;
        },
        removeNodeFromMap: function () {
          console.error($);
        },
        has: function () {
          return console.error($), !1;
        },
        reset: function () {
          console.error($);
        },
      };
    function Z(e, t, r) {
      void 0 === r && (r = {});
      var n = null,
        i = 0;
      return function (o) {
        var a = Date.now();
        i || !1 !== r.leading || (i = a);
        var s = t - (a - i),
          l = this,
          u = arguments;
        s <= 0 || s > t
          ? (n && (clearTimeout(n), (n = null)), (i = a), e.apply(l, u))
          : n ||
            !1 === r.trailing ||
            (n = setTimeout(function () {
              (i = !1 === r.leading ? 0 : Date.now()), (n = null), e.apply(l, u);
            }, s));
      };
    }
    function ee(e, t, r, n, i) {
      void 0 === i && (i = window);
      var o = i.Object.getOwnPropertyDescriptor(e, t);
      return (
        i.Object.defineProperty(
          e,
          t,
          n
            ? r
            : {
                set: function (e) {
                  var t = this;
                  setTimeout(function () {
                    r.set.call(t, e);
                  }, 0),
                    o && o.set && o.set.call(this, e);
                },
              },
        ),
        function () {
          return ee(e, t, o || {}, !0);
        }
      );
    }
    function te(e, t, r) {
      try {
        if (!(t in e)) return function () {};
        var n = e[t],
          i = r(n);
        return (
          "function" == typeof i && ((i.prototype = i.prototype || {}), Object.defineProperties(i, { __rrweb_original__: { enumerable: !1, value: n } })),
          (e[t] = i),
          function () {
            e[t] = n;
          }
        );
      } catch (e) {
        return function () {};
      }
    }
    function re() {
      return window.innerHeight || (document.documentElement && document.documentElement.clientHeight) || (document.body && document.body.clientHeight);
    }
    function ne() {
      return window.innerWidth || (document.documentElement && document.documentElement.clientWidth) || (document.body && document.body.clientWidth);
    }
    function ie(e, t) {
      if (!e) return !1;
      if (e.nodeType === e.ELEMENT_NODE) {
        var r = !1;
        if ("string" == typeof t) {
          if (void 0 !== e.closest) return null !== e.closest("." + t);
          r = e.classList.contains(t);
        } else
          e.classList.forEach(function (e) {
            t.test(e) && (r = !0);
          });
        return r || ie(e.parentNode, t);
      }
      return e.nodeType, e.TEXT_NODE, ie(e.parentNode, t);
    }
    function oe(e) {
      return "__sn" in e && -2 === e.__sn.id;
    }
    function ae(e, t) {
      if (d(e)) return !1;
      var r = t.getId(e);
      return !t.has(r) || ((!e.parentNode || e.parentNode.nodeType !== e.DOCUMENT_NODE) && (!e.parentNode || ae(e.parentNode, t)));
    }
    function se(e) {
      return Boolean(e.changedTouches);
    }
    function le(e) {
      void 0 === e && (e = window),
        "NodeList" in e && !e.NodeList.prototype.forEach && (e.NodeList.prototype.forEach = Array.prototype.forEach),
        "DOMTokenList" in e && !e.DOMTokenList.prototype.forEach && (e.DOMTokenList.prototype.forEach = Array.prototype.forEach),
        Node.prototype.contains ||
          (Node.prototype.contains = function (e) {
            if (!(0 in arguments)) throw new TypeError("1 argument is required");
            do {
              if (this === e) return !0;
            } while ((e = e && e.parentNode));
            return !1;
          });
    }
    "undefined" != typeof window &&
      window.Proxy &&
      window.Reflect &&
      (Q = new Proxy(Q, {
        get: function (e, t, r) {
          return "map" === t && console.error($), Reflect.get(e, t, r);
        },
      }));
    var ue = (function () {
      function e() {
        this.reset();
      }
      return (
        (e.prototype.add = function (e) {
          var t = this.indexes.get(e.parentId),
            r = { id: e.node.id, mutation: e, children: [], texts: [], attributes: [] };
          t ? ((r.parent = t), (t.children[r.id] = r)) : (this.tree[r.id] = r), this.indexes.set(r.id, r);
        }),
        (e.prototype.remove = function (e, t) {
          var r = this,
            n = this.indexes.get(e.parentId),
            i = this.indexes.get(e.id),
            o = function (e) {
              r.removeIdSet.add(e);
              var n = t.getNode(e);
              null == n ||
                n.childNodes.forEach(function (e) {
                  "__sn" in e && o(e.__sn.id);
                });
            },
            a = function (t) {
              r.removeIdSet.add(t.id),
                Object.values(t.children).forEach(function (e) {
                  return a(e);
                });
              var n = r.indexes.get(t.id);
              if (n) {
                var i = n.parent;
                i && (delete n.parent, delete i.children[n.id], r.indexes.delete(e.id));
              }
            };
          i
            ? n
              ? (delete i.parent, delete n.children[i.id], this.indexes.delete(e.id), a(i))
              : (delete this.tree[i.id], this.indexes.delete(i.id), a(i))
            : (this.removeNodeMutations.push(e), o(e.id));
        }),
        (e.prototype.text = function (e) {
          var t = this.indexes.get(e.id);
          t ? t.texts.push(e) : this.textMutations.push(e);
        }),
        (e.prototype.attribute = function (e) {
          var t = this.indexes.get(e.id);
          t ? t.attributes.push(e) : this.attributeMutations.push(e);
        }),
        (e.prototype.scroll = function (e) {
          this.scrollMap.set(e.id, e);
        }),
        (e.prototype.input = function (e) {
          this.inputMap.set(e.id, e);
        }),
        (e.prototype.flush = function () {
          var e,
            t,
            r,
            n,
            i = this,
            o = this.tree,
            a = this.removeNodeMutations,
            l = this.textMutations,
            u = this.attributeMutations,
            c = { source: B.Mutation, removes: a, texts: l, attributes: u, adds: [] },
            d = function (e, t) {
              t && i.removeIdSet.add(e.id),
                (c.texts = c.texts.concat(t ? [] : e.texts).filter(function (e) {
                  return !i.removeIdSet.has(e.id);
                })),
                (c.attributes = c.attributes.concat(t ? [] : e.attributes).filter(function (e) {
                  return !i.removeIdSet.has(e.id);
                })),
                i.removeIdSet.has(e.id) || i.removeIdSet.has(e.mutation.parentId) || t
                  ? Object.values(e.children).forEach(function (e) {
                      return d(e, !0);
                    })
                  : (c.adds.push(e.mutation),
                    e.children &&
                      Object.values(e.children).forEach(function (e) {
                        return d(e, !1);
                      }));
            };
          Object.values(o).forEach(function (e) {
            return d(e, !1);
          });
          try {
            for (var f = s(this.scrollMap.keys()), p = f.next(); !p.done; p = f.next()) {
              var h = p.value;
              this.removeIdSet.has(h) && this.scrollMap.delete(h);
            }
          } catch (t) {
            e = { error: t };
          } finally {
            try {
              p && !p.done && (t = f.return) && t.call(f);
            } finally {
              if (e) throw e.error;
            }
          }
          try {
            for (var m = s(this.inputMap.keys()), v = m.next(); !v.done; v = m.next()) {
              h = v.value;
              this.removeIdSet.has(h) && this.inputMap.delete(h);
            }
          } catch (e) {
            r = { error: e };
          } finally {
            try {
              v && !v.done && (n = m.return) && n.call(m);
            } finally {
              if (r) throw r.error;
            }
          }
          var g = new Map(this.scrollMap),
            y = new Map(this.inputMap);
          return this.reset(), { mutationData: c, scrollMap: g, inputMap: y };
        }),
        (e.prototype.reset = function () {
          (this.tree = []),
            (this.indexes = new Map()),
            (this.removeNodeMutations = []),
            (this.textMutations = []),
            (this.attributeMutations = []),
            (this.removeIdSet = new Set()),
            (this.scrollMap = new Map()),
            (this.inputMap = new Map());
        }),
        (e.prototype.idRemoved = function (e) {
          return this.removeIdSet.has(e);
        }),
        e
      );
    })();
    function ce(e) {
      var t,
        r,
        n = {},
        i = function (e, t) {
          var r = { value: e, parent: t, children: [] };
          return (n[e.node.id] = r), r;
        },
        o = [];
      try {
        for (var a = s(e), l = a.next(); !l.done; l = a.next()) {
          var u = l.value,
            c = u.nextId,
            d = u.parentId;
          if (c && c in n) {
            var f = n[c];
            if (f.parent) {
              var p = f.parent.children.indexOf(f);
              f.parent.children.splice(p, 0, i(u, f.parent));
            } else {
              p = o.indexOf(f);
              o.splice(p, 0, i(u, null));
            }
          } else if (d in n) {
            var h = n[d];
            h.children.push(i(u, h));
          } else o.push(i(u, null));
        }
      } catch (e) {
        t = { error: e };
      } finally {
        try {
          l && !l.done && (r = a.return) && r.call(a);
        } finally {
          if (t) throw t.error;
        }
      }
      return o;
    }
    function de(e, t) {
      t(e.value);
      for (var r = e.children.length - 1; r >= 0; r--) de(e.children[r], t);
    }
    function fe(e) {
      return "__sn" in e && e.__sn.type === o.Element && "iframe" === e.__sn.tagName;
    }
    function pe(e, t) {
      var r,
        n,
        i = null === (n = null === (r = e.ownerDocument) || void 0 === r ? void 0 : r.defaultView) || void 0 === n ? void 0 : n.frameElement;
      if (!i || i === t) return { x: 0, y: 0, relativeScale: 1, absoluteScale: 1 };
      var o = i.getBoundingClientRect(),
        a = pe(i, t),
        s = o.height / i.clientHeight;
      return { x: o.x * a.relativeScale + a.x, y: o.y * a.relativeScale + a.y, relativeScale: s, absoluteScale: a.absoluteScale * s };
    }
    function he(e) {
      var t;
      return Boolean(null === (t = e) || void 0 === t ? void 0 : t.shadowRoot);
    }
    function me(e) {
      return "__ln" in e;
    }
    var ve = (function () {
        function e() {
          (this.length = 0), (this.head = null);
        }
        return (
          (e.prototype.get = function (e) {
            if (e >= this.length) throw new Error("Position outside of list range");
            for (var t = this.head, r = 0; r < e; r++) t = (null == t ? void 0 : t.next) || null;
            return t;
          }),
          (e.prototype.addNode = function (e) {
            var t = { value: e, previous: null, next: null };
            if (((e.__ln = t), e.previousSibling && me(e.previousSibling))) {
              var r = e.previousSibling.__ln.next;
              (t.next = r), (t.previous = e.previousSibling.__ln), (e.previousSibling.__ln.next = t), r && (r.previous = t);
            } else if (e.nextSibling && me(e.nextSibling) && e.nextSibling.__ln.previous) {
              r = e.nextSibling.__ln.previous;
              (t.previous = r), (t.next = e.nextSibling.__ln), (e.nextSibling.__ln.previous = t), r && (r.next = t);
            } else this.head && (this.head.previous = t), (t.next = this.head), (this.head = t);
            this.length++;
          }),
          (e.prototype.removeNode = function (e) {
            var t = e.__ln;
            this.head &&
              (t.previous ? ((t.previous.next = t.next), t.next && (t.next.previous = t.previous)) : ((this.head = t.next), this.head && (this.head.previous = null)),
              e.__ln && delete e.__ln,
              this.length--);
          }),
          e
        );
      })(),
      ge = function (e, t) {
        return e + "@" + t;
      };
    function ye(e) {
      return "__sn" in e;
    }
    function Se(e, t) {
      e.delete(t),
        t.childNodes.forEach(function (t) {
          return Se(e, t);
        });
    }
    function be(e, t, r) {
      var n = t.parentNode;
      if (!n) return !1;
      var i = r.getId(n);
      return (
        !!e.some(function (e) {
          return e.id === i;
        }) || be(e, n, r)
      );
    }
    function we(e, t) {
      var r = t.parentNode;
      return !!r && (!!e.has(r) || we(e, r));
    }
    var xe = (function () {
        function e() {
          var e = this;
          (this.frozen = !1),
            (this.locked = !1),
            (this.texts = []),
            (this.attributes = []),
            (this.removes = []),
            (this.mapRemoves = []),
            (this.movedMap = {}),
            (this.addedSet = new Set()),
            (this.movedSet = new Set()),
            (this.droppedSet = new Set()),
            (this.processMutations = function (t) {
              t.forEach(e.processMutation), e.emit();
            }),
            (this.emit = function () {
              var t, r, n, i;
              if (!e.frozen && !e.locked) {
                for (
                  var o = [],
                    a = new ve(),
                    l = function (t) {
                      for (var r = t, n = -2; -2 === n; ) n = (r = r && r.nextSibling) && e.mirror.getId(r);
                      return n;
                    },
                    u = function (t) {
                      var r,
                        n = t.getRootNode ? (null === (r = t.getRootNode()) || void 0 === r ? void 0 : r.host) : null,
                        i = !(e.doc.contains(t) || (n instanceof Node && e.doc.contains(n)));
                      if (t.parentNode && !i) {
                        var s = d(t.parentNode) ? e.mirror.getId(n) : e.mirror.getId(t.parentNode),
                          u = l(t);
                        if (-1 === s || -1 === u) return a.addNode(t);
                        var c = _(t, {
                          doc: e.doc,
                          map: e.mirror.map,
                          blockClass: e.blockClass,
                          blockSelector: e.blockSelector,
                          maskTextClass: e.maskTextClass,
                          maskTextSelector: e.maskTextSelector,
                          skipChild: !0,
                          inlineStylesheet: e.inlineStylesheet,
                          maskInputOptions: e.maskInputOptions,
                          maskTextFn: e.maskTextFn,
                          maskInputFn: e.maskInputFn,
                          slimDOMOptions: e.slimDOMOptions,
                          recordCanvas: e.recordCanvas,
                          inlineImages: e.inlineImages,
                          onSerialize: function (r) {
                            fe(r) && e.iframeManager.addIframe(r), he(t) && e.shadowDomManager.addShadowRoot(t.shadowRoot, document);
                          },
                          onIframeLoad: function (t, r) {
                            e.iframeManager.attachIframe(t, r);
                          },
                        });
                        c && o.push({ parentId: s, nextId: u, node: c });
                      }
                    };
                  e.mapRemoves.length;

                )
                  e.mirror.removeNodeFromMap(e.mapRemoves.shift());
                try {
                  for (var c = s(e.movedSet), f = c.next(); !f.done; f = c.next()) {
                    var p = f.value;
                    (be(e.removes, p, e.mirror) && !e.movedSet.has(p.parentNode)) || u(p);
                  }
                } catch (e) {
                  t = { error: e };
                } finally {
                  try {
                    f && !f.done && (r = c.return) && r.call(c);
                  } finally {
                    if (t) throw t.error;
                  }
                }
                try {
                  for (var h = s(e.addedSet), m = h.next(); !m.done; m = h.next()) {
                    p = m.value;
                    we(e.droppedSet, p) || be(e.removes, p, e.mirror) ? (we(e.movedSet, p) ? u(p) : e.droppedSet.add(p)) : u(p);
                  }
                } catch (e) {
                  n = { error: e };
                } finally {
                  try {
                    m && !m.done && (i = h.return) && i.call(h);
                  } finally {
                    if (n) throw n.error;
                  }
                }
                for (var v = null; a.length; ) {
                  var g = null;
                  if (v) {
                    var y = e.mirror.getId(v.value.parentNode),
                      S = l(v.value);
                    -1 !== y && -1 !== S && (g = v);
                  }
                  if (!g)
                    for (var b = a.length - 1; b >= 0; b--) {
                      var w = a.get(b);
                      if (w) {
                        (y = e.mirror.getId(w.value.parentNode)), (S = l(w.value));
                        if (-1 !== y && -1 !== S) {
                          g = w;
                          break;
                        }
                      }
                    }
                  if (!g) {
                    for (; a.head; ) a.removeNode(a.head.value);
                    break;
                  }
                  (v = g.previous), a.removeNode(g.value), u(g.value);
                }
                var x = {
                  texts: e.texts
                    .map(function (t) {
                      return { id: e.mirror.getId(t.node), value: t.value };
                    })
                    .filter(function (t) {
                      return e.mirror.has(t.id);
                    }),
                  attributes: e.attributes
                    .map(function (t) {
                      return { id: e.mirror.getId(t.node), attributes: t.attributes };
                    })
                    .filter(function (t) {
                      return e.mirror.has(t.id);
                    }),
                  removes: e.removes,
                  adds: o,
                };
                (x.texts.length || x.attributes.length || x.removes.length || x.adds.length) &&
                  ((e.texts = []), (e.attributes = []), (e.removes = []), (e.addedSet = new Set()), (e.movedSet = new Set()), (e.droppedSet = new Set()), (e.movedMap = {}), e.mutationCb(x));
              }
            }),
            (this.processMutation = function (t) {
              var r, n, i, o;
              if (!oe(t.target))
                switch (t.type) {
                  case "characterData":
                    var a = t.target.textContent;
                    ie(t.target, e.blockClass) ||
                      a === t.oldValue ||
                      e.texts.push({ value: M(t.target, e.maskTextClass, e.maskTextSelector) && a ? (e.maskTextFn ? e.maskTextFn(a) : a.replace(/[\S]/g, "*")) : a, node: t.target });
                    break;
                  case "attributes":
                    var l = t.target;
                    a = t.target.getAttribute(t.attributeName);
                    if (
                      ("value" === t.attributeName &&
                        (a = f({ maskInputOptions: e.maskInputOptions, tagName: t.target.tagName, type: t.target.getAttribute("type"), value: a, maskInputFn: e.maskInputFn })),
                      ie(t.target, e.blockClass) || a === t.oldValue)
                    )
                      return;
                    var u = e.attributes.find(function (e) {
                      return e.node === t.target;
                    });
                    if ((u || ((u = { node: t.target, attributes: {} }), e.attributes.push(u)), "style" === t.attributeName)) {
                      var c = e.doc.createElement("span");
                      t.oldValue && c.setAttribute("style", t.oldValue), (void 0 !== u.attributes.style && null !== u.attributes.style) || (u.attributes.style = {});
                      var p = u.attributes.style;
                      try {
                        for (var h = s(Array.from(l.style)), m = h.next(); !m.done; m = h.next()) {
                          var v = m.value,
                            g = l.style.getPropertyValue(v),
                            y = l.style.getPropertyPriority(v);
                          (g === c.style.getPropertyValue(v) && y === c.style.getPropertyPriority(v)) || (p[v] = "" === y ? g : [g, y]);
                        }
                      } catch (e) {
                        r = { error: e };
                      } finally {
                        try {
                          m && !m.done && (n = h.return) && n.call(h);
                        } finally {
                          if (r) throw r.error;
                        }
                      }
                      try {
                        for (var S = s(Array.from(c.style)), b = S.next(); !b.done; b = S.next()) {
                          v = b.value;
                          "" === l.style.getPropertyValue(v) && (p[v] = !1);
                        }
                      } catch (e) {
                        i = { error: e };
                      } finally {
                        try {
                          b && !b.done && (o = S.return) && o.call(S);
                        } finally {
                          if (i) throw i.error;
                        }
                      }
                    } else u.attributes[t.attributeName] = k(e.doc, t.target.tagName, t.attributeName, a);
                    break;
                  case "childList":
                    t.addedNodes.forEach(function (r) {
                      return e.genAdds(r, t.target);
                    }),
                      t.removedNodes.forEach(function (r) {
                        var n = e.mirror.getId(r),
                          i = d(t.target) ? e.mirror.getId(t.target.host) : e.mirror.getId(t.target);
                        ie(t.target, e.blockClass) ||
                          oe(r) ||
                          (e.addedSet.has(r)
                            ? (Se(e.addedSet, r), e.droppedSet.add(r))
                            : (e.addedSet.has(t.target) && -1 === n) ||
                              ae(t.target, e.mirror) ||
                              (e.movedSet.has(r) && e.movedMap[ge(n, i)] ? Se(e.movedSet, r) : e.removes.push({ parentId: i, id: n, isShadow: !!d(t.target) || void 0 })),
                          e.mapRemoves.push(r));
                      });
                }
            }),
            (this.genAdds = function (t, r) {
              if (!r || !ie(r, e.blockClass)) {
                if (ye(t)) {
                  if (oe(t)) return;
                  e.movedSet.add(t);
                  var n = null;
                  r && ye(r) && (n = r.__sn.id), n && (e.movedMap[ge(t.__sn.id, n)] = !0);
                } else e.addedSet.add(t), e.droppedSet.delete(t);
                ie(t, e.blockClass) ||
                  t.childNodes.forEach(function (t) {
                    return e.genAdds(t);
                  });
              }
            });
        }
        return (
          (e.prototype.init = function (e) {
            var t = this;
            [
              "mutationCb",
              "blockClass",
              "blockSelector",
              "maskTextClass",
              "maskTextSelector",
              "inlineStylesheet",
              "maskInputOptions",
              "maskTextFn",
              "maskInputFn",
              "recordCanvas",
              "inlineImages",
              "slimDOMOptions",
              "doc",
              "mirror",
              "iframeManager",
              "shadowDomManager",
              "canvasManager",
            ].forEach(function (r) {
              t[r] = e[r];
            });
          }),
          (e.prototype.freeze = function () {
            (this.frozen = !0), this.canvasManager.freeze();
          }),
          (e.prototype.unfreeze = function () {
            (this.frozen = !1), this.canvasManager.unfreeze(), this.emit();
          }),
          (e.prototype.isFrozen = function () {
            return this.frozen;
          }),
          (e.prototype.lock = function () {
            (this.locked = !0), this.canvasManager.lock();
          }),
          (e.prototype.unlock = function () {
            (this.locked = !1), this.canvasManager.unlock(), this.emit();
          }),
          (e.prototype.reset = function () {
            this.canvasManager.reset();
          }),
          e
        );
      })(),
      Te = [],
      Ce = "undefined" != typeof CSSGroupingRule,
      Ee = "undefined" != typeof CSSMediaRule,
      Ie = "undefined" != typeof CSSSupportsRule,
      ke = "undefined" != typeof CSSConditionRule;
    function Me(e) {
      try {
        if ("composedPath" in e) {
          var t = e.composedPath();
          if (t.length) return t[0];
        } else if ("path" in e && e.path.length) return e.path[0];
        return e.target;
      } catch (t) {
        return e.target;
      }
    }
    function Ae(e, t) {
      var r,
        n,
        i,
        o = new xe();
      Te.push(o), o.init(e);
      var a = window.MutationObserver || window.__rrMutationObserver,
        s = null === (i = null === (n = null === (r = window) || void 0 === r ? void 0 : r.Zone) || void 0 === n ? void 0 : n.__symbol__) || void 0 === i ? void 0 : i.call(n, "MutationObserver");
      s && window[s] && (a = window[s]);
      var l = new a(o.processMutations.bind(o));
      return l.observe(t, { attributes: !0, attributeOldValue: !0, characterData: !0, characterDataOldValue: !0, childList: !0, subtree: !0 }), l;
    }
    function Oe(e) {
      var t = e.mouseInteractionCb,
        r = e.doc,
        n = e.mirror,
        i = e.blockClass,
        o = e.sampling;
      if (!1 === o.mouseInteraction) return function () {};
      var a = !0 === o.mouseInteraction || void 0 === o.mouseInteraction ? {} : o.mouseInteraction,
        s = [];
      return (
        Object.keys(F)
          .filter(function (e) {
            return Number.isNaN(Number(e)) && !e.endsWith("_Departed") && !1 !== a[e];
          })
          .forEach(function (e) {
            var o = e.toLowerCase(),
              a = (function (e) {
                return function (r) {
                  var o = Me(r);
                  if (!ie(o, i)) {
                    var a = se(r) ? r.changedTouches[0] : r;
                    if (a) {
                      var s = n.getId(o),
                        l = a.clientX,
                        u = a.clientY;
                      t({ type: F[e], id: s, x: l, y: u });
                    }
                  }
                };
              })(e);
            s.push(Y(o, a, r));
          }),
        function () {
          s.forEach(function (e) {
            return e();
          });
        }
      );
    }
    function _e(e) {
      var t = e.scrollCb,
        r = e.doc,
        n = e.mirror,
        i = e.blockClass;
      return Y(
        "scroll",
        Z(function (e) {
          var o = Me(e);
          if (o && !ie(o, i)) {
            var a = n.getId(o);
            if (o === r) {
              var s = r.scrollingElement || r.documentElement;
              t({ id: a, x: s.scrollLeft, y: s.scrollTop });
            } else t({ id: a, x: o.scrollLeft, y: o.scrollTop });
          }
        }, e.sampling.scroll || 100),
        r,
      );
    }
    function Ne(e, t) {
      var r = a({}, e);
      return t || delete r.userTriggered, r;
    }
    var De = ["INPUT", "TEXTAREA", "SELECT"],
      Le = new WeakMap();
    function Re(e) {
      return (function (e, t) {
        if (
          (Ce && e.parentRule instanceof CSSGroupingRule) ||
          (Ee && e.parentRule instanceof CSSMediaRule) ||
          (Ie && e.parentRule instanceof CSSSupportsRule) ||
          (ke && e.parentRule instanceof CSSConditionRule)
        ) {
          var r = Array.from(e.parentRule.cssRules).indexOf(e);
          t.unshift(r);
        } else {
          r = Array.from(e.parentStyleSheet.cssRules).indexOf(e);
          t.unshift(r);
        }
        return t;
      })(e, []);
    }
    function Pe(e, t) {
      var r, n;
      void 0 === t && (t = {});
      var i = e.doc.defaultView;
      if (!i) return function () {};
      !(function (e, t) {
        var r = e.mutationCb,
          n = e.mousemoveCb,
          i = e.mouseInteractionCb,
          o = e.scrollCb,
          a = e.viewportResizeCb,
          s = e.inputCb,
          l = e.mediaInteractionCb,
          c = e.styleSheetRuleCb,
          d = e.styleDeclarationCb,
          f = e.canvasMutationCb,
          p = e.fontCb;
        (e.mutationCb = function () {
          for (var e = [], n = 0; n < arguments.length; n++) e[n] = arguments[n];
          t.mutation && t.mutation.apply(t, u(e)), r.apply(void 0, u(e));
        }),
          (e.mousemoveCb = function () {
            for (var e = [], r = 0; r < arguments.length; r++) e[r] = arguments[r];
            t.mousemove && t.mousemove.apply(t, u(e)), n.apply(void 0, u(e));
          }),
          (e.mouseInteractionCb = function () {
            for (var e = [], r = 0; r < arguments.length; r++) e[r] = arguments[r];
            t.mouseInteraction && t.mouseInteraction.apply(t, u(e)), i.apply(void 0, u(e));
          }),
          (e.scrollCb = function () {
            for (var e = [], r = 0; r < arguments.length; r++) e[r] = arguments[r];
            t.scroll && t.scroll.apply(t, u(e)), o.apply(void 0, u(e));
          }),
          (e.viewportResizeCb = function () {
            for (var e = [], r = 0; r < arguments.length; r++) e[r] = arguments[r];
            t.viewportResize && t.viewportResize.apply(t, u(e)), a.apply(void 0, u(e));
          }),
          (e.inputCb = function () {
            for (var e = [], r = 0; r < arguments.length; r++) e[r] = arguments[r];
            t.input && t.input.apply(t, u(e)), s.apply(void 0, u(e));
          }),
          (e.mediaInteractionCb = function () {
            for (var e = [], r = 0; r < arguments.length; r++) e[r] = arguments[r];
            t.mediaInteaction && t.mediaInteaction.apply(t, u(e)), l.apply(void 0, u(e));
          }),
          (e.styleSheetRuleCb = function () {
            for (var e = [], r = 0; r < arguments.length; r++) e[r] = arguments[r];
            t.styleSheetRule && t.styleSheetRule.apply(t, u(e)), c.apply(void 0, u(e));
          }),
          (e.styleDeclarationCb = function () {
            for (var e = [], r = 0; r < arguments.length; r++) e[r] = arguments[r];
            t.styleDeclaration && t.styleDeclaration.apply(t, u(e)), d.apply(void 0, u(e));
          }),
          (e.canvasMutationCb = function () {
            for (var e = [], r = 0; r < arguments.length; r++) e[r] = arguments[r];
            t.canvasMutation && t.canvasMutation.apply(t, u(e)), f.apply(void 0, u(e));
          }),
          (e.fontCb = function () {
            for (var e = [], r = 0; r < arguments.length; r++) e[r] = arguments[r];
            t.font && t.font.apply(t, u(e)), p.apply(void 0, u(e));
          });
      })(e, t);
      var o = Ae(e, e.doc),
        c = (function (e) {
          var t = e.mousemoveCb,
            r = e.sampling,
            n = e.doc,
            i = e.mirror;
          if (!1 === r.mousemove) return function () {};
          var o,
            a = "number" == typeof r.mousemove ? r.mousemove : 50,
            s = "number" == typeof r.mousemoveCallback ? r.mousemoveCallback : 500,
            l = [],
            u = Z(function (e) {
              var r = Date.now() - o;
              t(
                l.map(function (e) {
                  return (e.timeOffset -= r), e;
                }),
                e,
              ),
                (l = []),
                (o = null);
            }, s),
            c = Z(
              function (e) {
                var t = Me(e),
                  r = se(e) ? e.changedTouches[0] : e,
                  n = r.clientX,
                  a = r.clientY;
                o || (o = Date.now()),
                  l.push({ x: n, y: a, id: i.getId(t), timeOffset: Date.now() - o }),
                  u("undefined" != typeof DragEvent && e instanceof DragEvent ? B.Drag : e instanceof MouseEvent ? B.MouseMove : B.TouchMove);
              },
              a,
              { trailing: !1 },
            ),
            d = [Y("mousemove", c, n), Y("touchmove", c, n), Y("drag", c, n)];
          return function () {
            d.forEach(function (e) {
              return e();
            });
          };
        })(e),
        d = Oe(e),
        p = _e(e),
        h = (function (e) {
          var t = e.viewportResizeCb,
            r = -1,
            n = -1;
          return Y(
            "resize",
            Z(function () {
              var e = re(),
                i = ne();
              (r === e && n === i) || (t({ width: Number(i), height: Number(e) }), (r = e), (n = i));
            }, 200),
            window,
          );
        })(e),
        m = (function (e) {
          var t = e.inputCb,
            r = e.doc,
            n = e.mirror,
            i = e.blockClass,
            o = e.ignoreClass,
            s = e.maskInputOptions,
            l = e.maskInputFn,
            c = e.sampling,
            d = e.userTriggeredOnInput;
          function p(e) {
            var t = Me(e),
              n = e.isTrusted;
            if ((t && "OPTION" === t.tagName && (t = t.parentElement), t && t.tagName && !(De.indexOf(t.tagName) < 0) && !ie(t, i))) {
              var a = t.type;
              if (!t.classList.contains(o)) {
                var u = t.value,
                  c = !1;
                "radio" === a || "checkbox" === a ? (c = t.checked) : (s[t.tagName.toLowerCase()] || s[a]) && (u = f({ maskInputOptions: s, tagName: t.tagName, type: a, value: u, maskInputFn: l })),
                  h(t, Ne({ text: u, isChecked: c, userTriggered: n }, d));
                var p = t.name;
                "radio" === a &&
                  p &&
                  c &&
                  r.querySelectorAll('input[type="radio"][name="' + p + '"]').forEach(function (e) {
                    e !== t && h(e, Ne({ text: e.value, isChecked: !c, userTriggered: !1 }, d));
                  });
              }
            }
          }
          function h(e, r) {
            var i = Le.get(e);
            if (!i || i.text !== r.text || i.isChecked !== r.isChecked) {
              Le.set(e, r);
              var o = n.getId(e);
              t(a(a({}, r), { id: o }));
            }
          }
          var m = ("last" === c.input ? ["change"] : ["input", "change"]).map(function (e) {
              return Y(e, p, r);
            }),
            v = Object.getOwnPropertyDescriptor(HTMLInputElement.prototype, "value"),
            g = [
              [HTMLInputElement.prototype, "value"],
              [HTMLInputElement.prototype, "checked"],
              [HTMLSelectElement.prototype, "value"],
              [HTMLTextAreaElement.prototype, "value"],
              [HTMLSelectElement.prototype, "selectedIndex"],
              [HTMLOptionElement.prototype, "selected"],
            ];
          return (
            v &&
              v.set &&
              m.push.apply(
                m,
                u(
                  g.map(function (e) {
                    return ee(e[0], e[1], {
                      set: function () {
                        p({ target: this });
                      },
                    });
                  }),
                ),
              ),
            function () {
              m.forEach(function (e) {
                return e();
              });
            }
          );
        })(e),
        v = (function (e) {
          var t = e.mediaInteractionCb,
            r = e.blockClass,
            n = e.mirror,
            i = e.sampling,
            o = function (e) {
              return Z(function (i) {
                var o = Me(i);
                if (o && !ie(o, r)) {
                  var a = o,
                    s = a.currentTime,
                    l = a.volume,
                    u = a.muted;
                  t({ type: e, id: n.getId(o), currentTime: s, volume: l, muted: u });
                }
              }, i.media || 500);
            },
            a = [Y("play", o(0)), Y("pause", o(1)), Y("seeked", o(2)), Y("volumechange", o(3))];
          return function () {
            a.forEach(function (e) {
              return e();
            });
          };
        })(e),
        g = (function (e, t) {
          var r = e.styleSheetRuleCb,
            n = e.mirror,
            i = t.win,
            o = i.CSSStyleSheet.prototype.insertRule;
          i.CSSStyleSheet.prototype.insertRule = function (e, t) {
            var i = n.getId(this.ownerNode);
            return -1 !== i && r({ id: i, adds: [{ rule: e, index: t }] }), o.apply(this, arguments);
          };
          var a = i.CSSStyleSheet.prototype.deleteRule;
          i.CSSStyleSheet.prototype.deleteRule = function (e) {
            var t = n.getId(this.ownerNode);
            return -1 !== t && r({ id: t, removes: [{ index: e }] }), a.apply(this, arguments);
          };
          var s = {};
          Ce ? (s.CSSGroupingRule = i.CSSGroupingRule) : (Ee && (s.CSSMediaRule = i.CSSMediaRule), ke && (s.CSSConditionRule = i.CSSConditionRule), Ie && (s.CSSSupportsRule = i.CSSSupportsRule));
          var c = {};
          return (
            Object.entries(s).forEach(function (e) {
              var t = l(e, 2),
                i = t[0],
                o = t[1];
              (c[i] = { insertRule: o.prototype.insertRule, deleteRule: o.prototype.deleteRule }),
                (o.prototype.insertRule = function (e, t) {
                  var o = n.getId(this.parentStyleSheet.ownerNode);
                  return -1 !== o && r({ id: o, adds: [{ rule: e, index: u(Re(this), [t || 0]) }] }), c[i].insertRule.apply(this, arguments);
                }),
                (o.prototype.deleteRule = function (e) {
                  var t = n.getId(this.parentStyleSheet.ownerNode);
                  return -1 !== t && r({ id: t, removes: [{ index: u(Re(this), [e]) }] }), c[i].deleteRule.apply(this, arguments);
                });
            }),
            function () {
              (i.CSSStyleSheet.prototype.insertRule = o),
                (i.CSSStyleSheet.prototype.deleteRule = a),
                Object.entries(s).forEach(function (e) {
                  var t = l(e, 2),
                    r = t[0],
                    n = t[1];
                  (n.prototype.insertRule = c[r].insertRule), (n.prototype.deleteRule = c[r].deleteRule);
                });
            }
          );
        })(e, { win: i }),
        y = (function (e, t) {
          var r = e.styleDeclarationCb,
            n = e.mirror,
            i = t.win,
            o = i.CSSStyleDeclaration.prototype.setProperty;
          i.CSSStyleDeclaration.prototype.setProperty = function (e, t, i) {
            var a,
              s,
              l = n.getId(null === (s = null === (a = this.parentRule) || void 0 === a ? void 0 : a.parentStyleSheet) || void 0 === s ? void 0 : s.ownerNode);
            return -1 !== l && r({ id: l, set: { property: e, value: t, priority: i }, index: Re(this.parentRule) }), o.apply(this, arguments);
          };
          var a = i.CSSStyleDeclaration.prototype.removeProperty;
          return (
            (i.CSSStyleDeclaration.prototype.removeProperty = function (e) {
              var t,
                i,
                o = n.getId(null === (i = null === (t = this.parentRule) || void 0 === t ? void 0 : t.parentStyleSheet) || void 0 === i ? void 0 : i.ownerNode);
              return -1 !== o && r({ id: o, remove: { property: e }, index: Re(this.parentRule) }), a.apply(this, arguments);
            }),
            function () {
              (i.CSSStyleDeclaration.prototype.setProperty = o), (i.CSSStyleDeclaration.prototype.removeProperty = a);
            }
          );
        })(e, { win: i }),
        S = e.collectFonts
          ? (function (e) {
              var t = e.fontCb,
                r = e.doc,
                n = r.defaultView;
              if (!n) return function () {};
              var i = [],
                o = new WeakMap(),
                a = n.FontFace;
              n.FontFace = function (e, t, r) {
                var n = new a(e, t, r);
                return o.set(n, { family: e, buffer: "string" != typeof t, descriptors: r, fontSource: "string" == typeof t ? t : JSON.stringify(Array.from(new Uint8Array(t))) }), n;
              };
              var s = te(r.fonts, "add", function (e) {
                return function (r) {
                  return (
                    setTimeout(function () {
                      var e = o.get(r);
                      e && (t(e), o.delete(r));
                    }, 0),
                    e.apply(this, [r])
                  );
                };
              });
              return (
                i.push(function () {
                  n.FontFace = a;
                }),
                i.push(s),
                function () {
                  i.forEach(function (e) {
                    return e();
                  });
                }
              );
            })(e)
          : function () {},
        b = [];
      try {
        for (var w = s(e.plugins), x = w.next(); !x.done; x = w.next()) {
          var T = x.value;
          b.push(T.observer(T.callback, i, T.options));
        }
      } catch (e) {
        r = { error: e };
      } finally {
        try {
          x && !x.done && (n = w.return) && n.call(w);
        } finally {
          if (r) throw r.error;
        }
      }
      return function () {
        Te.forEach(function (e) {
          return e.reset();
        }),
          o.disconnect(),
          c(),
          d(),
          p(),
          h(),
          m(),
          v(),
          g(),
          y(),
          S(),
          b.forEach(function (e) {
            return e();
          });
      };
    }
    var Be = (function () {
        function e(e) {
          (this.iframes = new WeakMap()), (this.mutationCb = e.mutationCb);
        }
        return (
          (e.prototype.addIframe = function (e) {
            this.iframes.set(e, !0);
          }),
          (e.prototype.addLoadListener = function (e) {
            this.loadListener = e;
          }),
          (e.prototype.attachIframe = function (e, t) {
            var r;
            this.mutationCb({ adds: [{ parentId: e.__sn.id, nextId: null, node: t }], removes: [], texts: [], attributes: [], isAttachIframe: !0 }),
              null === (r = this.loadListener) || void 0 === r || r.call(this, e);
          }),
          e
        );
      })(),
      Fe = (function () {
        function e(e) {
          (this.mutationCb = e.mutationCb), (this.scrollCb = e.scrollCb), (this.bypassOptions = e.bypassOptions), (this.mirror = e.mirror);
        }
        return (
          (e.prototype.addShadowRoot = function (e, t) {
            Ae(a(a({}, this.bypassOptions), { doc: t, mutationCb: this.mutationCb, mirror: this.mirror, shadowDomManager: this }), e),
              _e(a(a({}, this.bypassOptions), { scrollCb: this.scrollCb, doc: e, mirror: this.mirror }));
          }),
          e
        );
      })();
    var Ue = function (e, t, r, n) {
      var i,
        o,
        a = [],
        l = Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype),
        c = function (n) {
          try {
            if ("function" != typeof t.CanvasRenderingContext2D.prototype[n]) return "continue";
            var i = te(t.CanvasRenderingContext2D.prototype, n, function (t) {
              return function () {
                for (var i = this, o = [], a = 0; a < arguments.length; a++) o[a] = arguments[a];
                return (
                  ie(this.canvas, r) ||
                    setTimeout(function () {
                      var t = u(o);
                      if ("drawImage" === n && t[0] && t[0] instanceof HTMLCanvasElement) {
                        var r = t[0],
                          a = r.getContext("2d"),
                          s = null == a ? void 0 : a.getImageData(0, 0, r.width, r.height),
                          l = null == s ? void 0 : s.data;
                        t[0] = JSON.stringify(l);
                      }
                      e(i.canvas, { type: U["2D"], property: n, args: t });
                    }, 0),
                  t.apply(this, o)
                );
              };
            });
            a.push(i);
          } catch (r) {
            var o = ee(t.CanvasRenderingContext2D.prototype, n, {
              set: function (t) {
                e(this.canvas, { type: U["2D"], property: n, args: [t], setter: !0 });
              },
            });
            a.push(o);
          }
        };
      try {
        for (var d = s(l), f = d.next(); !f.done; f = d.next()) {
          c(f.value);
        }
      } catch (e) {
        i = { error: e };
      } finally {
        try {
          f && !f.done && (o = d.return) && o.call(d);
        } finally {
          if (i) throw i.error;
        }
      }
      return function () {
        a.forEach(function (e) {
          return e();
        });
      };
    };
    for (
      var We = function (e, t) {
          var r = [];
          try {
            var n = te(e.HTMLCanvasElement.prototype, "getContext", function (e) {
              return function (r) {
                for (var n = [], i = 1; i < arguments.length; i++) n[i - 1] = arguments[i];
                return ie(this, t) || ("__context" in this) || (this.__context = r), e.apply(this, u([r], n));
              };
            });
            r.push(n);
          } catch (e) {
            console.error("failed to patch HTMLCanvasElement.prototype.getContext");
          }
          return function () {
            r.forEach(function (e) {
              return e();
            });
          };
        },
        Ve = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
        Ge = "undefined" == typeof Uint8Array ? [] : new Uint8Array(256),
        je = 0;
      je < Ve.length;
      je++
    )
      Ge[Ve.charCodeAt(je)] = je;
    var He = new Map();
    var ze = function (e, t, r) {
      if (e && (Ke(e, t) || "object" == typeof e)) {
        var n = (function (e, t) {
            var r = He.get(e);
            return r || ((r = new Map()), He.set(e, r)), r.has(t) || r.set(t, []), r.get(t);
          })(r, e.constructor.name),
          i = n.indexOf(e);
        return -1 === i && ((i = n.length), n.push(e)), i;
      }
    };
    function Xe(e, t, r) {
      return e instanceof Array
        ? e.map(function (e) {
            return Xe(e, t, r);
          })
        : null === e
        ? e
        : e instanceof Float32Array ||
          e instanceof Float64Array ||
          e instanceof Int32Array ||
          e instanceof Uint32Array ||
          e instanceof Uint8Array ||
          e instanceof Uint16Array ||
          e instanceof Int16Array ||
          e instanceof Int8Array ||
          e instanceof Uint8ClampedArray
        ? { rr_type: e.constructor.name, args: [Object.values(e)] }
        : e instanceof ArrayBuffer
        ? {
            rr_type: e.constructor.name,
            base64: (function (e) {
              var t,
                r = new Uint8Array(e),
                n = r.length,
                i = "";
              for (t = 0; t < n; t += 3) (i += Ve[r[t] >> 2]), (i += Ve[((3 & r[t]) << 4) | (r[t + 1] >> 4)]), (i += Ve[((15 & r[t + 1]) << 2) | (r[t + 2] >> 6)]), (i += Ve[63 & r[t + 2]]);
              return n % 3 == 2 ? (i = i.substring(0, i.length - 1) + "=") : n % 3 == 1 && (i = i.substring(0, i.length - 2) + "=="), i;
            })(e),
          }
        : e instanceof DataView
        ? { rr_type: e.constructor.name, args: [Xe(e.buffer, t, r), e.byteOffset, e.byteLength] }
        : e instanceof HTMLImageElement
        ? { rr_type: e.constructor.name, src: e.src }
        : e instanceof ImageData
        ? { rr_type: e.constructor.name, args: [Xe(e.data, t, r), e.width, e.height] }
        : Ke(e, t) || "object" == typeof e
        ? { rr_type: e.constructor.name, index: ze(e, t, r) }
        : e;
    }
    var Je = function (e, t, r) {
        return u(e).map(function (e) {
          return Xe(e, t, r);
        });
      },
      Ke = function (e, t) {
        var r = [
          "WebGLActiveInfo",
          "WebGLBuffer",
          "WebGLFramebuffer",
          "WebGLProgram",
          "WebGLRenderbuffer",
          "WebGLShader",
          "WebGLShaderPrecisionFormat",
          "WebGLTexture",
          "WebGLUniformLocation",
          "WebGLVertexArrayObject",
          "WebGLVertexArrayObjectOES",
        ].filter(function (e) {
          return "function" == typeof t[e];
        });
        return Boolean(
          r.find(function (r) {
            return e instanceof t[r];
          }),
        );
      };
    function Ye(e, t, r, n, i, o) {
      var a,
        l,
        c = [],
        d = Object.getOwnPropertyNames(e),
        f = function (a) {
          try {
            if ("function" != typeof e[a]) return "continue";
            var s = te(e, a, function (s) {
              return function () {
                for (var l = [], c = 0; c < arguments.length; c++) l[c] = arguments[c];
                var d = s.apply(this, l);
                if ((ze(d, o, e), !ie(this.canvas, n))) {
                  i.getId(this.canvas);
                  var f = Je(u(l), o, e),
                    p = { type: t, property: a, args: f };
                  r(this.canvas, p);
                }
                return d;
              };
            });
            c.push(s);
          } catch (n) {
            var l = ee(e, a, {
              set: function (e) {
                r(this.canvas, { type: t, property: a, args: [e], setter: !0 });
              },
            });
            c.push(l);
          }
        };
      try {
        for (var p = s(d), h = p.next(); !h.done; h = p.next()) {
          f(h.value);
        }
      } catch (e) {
        a = { error: e };
      } finally {
        try {
          h && !h.done && (l = p.return) && l.call(p);
        } finally {
          if (a) throw a.error;
        }
      }
      return c;
    }
    var qe,
      $e,
      Qe = function (e, t, r, n) {
        var i = [];
        return (
          i.push.apply(i, u(Ye(t.WebGLRenderingContext.prototype, U.WebGL, e, r, n, t))),
          void 0 !== t.WebGL2RenderingContext && i.push.apply(i, u(Ye(t.WebGL2RenderingContext.prototype, U.WebGL2, e, r, n, t))),
          function () {
            i.forEach(function (e) {
              return e();
            });
          }
        );
      },
      Ze = (function () {
        function e(e) {
          (this.pendingCanvasMutations = new Map()),
            (this.rafStamps = { latestId: 0, invokeId: null }),
            (this.frozen = !1),
            (this.locked = !1),
            (this.processMutation = function (e, t) {
              (!(this.rafStamps.invokeId && this.rafStamps.latestId !== this.rafStamps.invokeId) && this.rafStamps.invokeId) || (this.rafStamps.invokeId = this.rafStamps.latestId),
                this.pendingCanvasMutations.has(e) || this.pendingCanvasMutations.set(e, []),
                this.pendingCanvasMutations.get(e).push(t);
            }),
            (this.mutationCb = e.mutationCb),
            (this.mirror = e.mirror),
            !0 === e.recordCanvas && this.initCanvasMutationObserver(e.win, e.blockClass);
        }
        return (
          (e.prototype.reset = function () {
            this.pendingCanvasMutations.clear(), this.resetObservers && this.resetObservers();
          }),
          (e.prototype.freeze = function () {
            this.frozen = !0;
          }),
          (e.prototype.unfreeze = function () {
            this.frozen = !1;
          }),
          (e.prototype.lock = function () {
            this.locked = !0;
          }),
          (e.prototype.unlock = function () {
            this.locked = !1;
          }),
          (e.prototype.initCanvasMutationObserver = function (e, t) {
            this.startRAFTimestamping(), this.startPendingCanvasMutationFlusher();
            var r = We(e, t),
              n = Ue(this.processMutation.bind(this), e, t, this.mirror),
              i = Qe(this.processMutation.bind(this), e, t, this.mirror);
            this.resetObservers = function () {
              r(), n(), i();
            };
          }),
          (e.prototype.startPendingCanvasMutationFlusher = function () {
            var e = this;
            requestAnimationFrame(function () {
              return e.flushPendingCanvasMutations();
            });
          }),
          (e.prototype.startRAFTimestamping = function () {
            var e = this,
              t = function (r) {
                (e.rafStamps.latestId = r), requestAnimationFrame(t);
              };
            requestAnimationFrame(t);
          }),
          (e.prototype.flushPendingCanvasMutations = function () {
            var e = this;
            this.pendingCanvasMutations.forEach(function (t, r) {
              var n = e.mirror.getId(r);
              e.flushPendingCanvasMutationFor(r, n);
            }),
              requestAnimationFrame(function () {
                return e.flushPendingCanvasMutations();
              });
          }),
          (e.prototype.flushPendingCanvasMutationFor = function (e, t) {
            if (!this.frozen && !this.locked) {
              var r = this.pendingCanvasMutations.get(e);
              if (r && -1 !== t) {
                var n = r.map(function (e) {
                    return (
                      e.type,
                      (function (e, t) {
                        var r = {};
                        for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (r[n] = e[n]);
                        if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
                          var i = 0;
                          for (n = Object.getOwnPropertySymbols(e); i < n.length; i++) t.indexOf(n[i]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[i]) && (r[n[i]] = e[n[i]]);
                        }
                        return r;
                      })(e, ["type"])
                    );
                  }),
                  i = r[0].type;
                this.mutationCb({ id: t, type: i, commands: n }), this.pendingCanvasMutations.delete(e);
              }
            }
          }),
          e
        );
      })();
    function et(e) {
      return a(a({}, e), { timestamp: Date.now() });
    }
    var tt = {
      map: {},
      getId: function (e) {
        return e && e.__sn ? e.__sn.id : -1;
      },
      getNode: function (e) {
        return this.map[e] || null;
      },
      removeNodeFromMap: function (e) {
        var t = this,
          r = e.__sn && e.__sn.id;
        delete this.map[r],
          e.childNodes &&
            e.childNodes.forEach(function (e) {
              return t.removeNodeFromMap(e);
            });
      },
      has: function (e) {
        return this.map.hasOwnProperty(e);
      },
      reset: function () {
        this.map = {};
      },
    };
    function rt(e) {
      void 0 === e && (e = {});
      var t = e.emit,
        r = e.checkoutEveryNms,
        n = e.checkoutEveryNth,
        i = e.blockClass,
        o = void 0 === i ? "rr-block" : i,
        u = e.blockSelector,
        c = void 0 === u ? null : u,
        d = e.ignoreClass,
        f = void 0 === d ? "rr-ignore" : d,
        p = e.maskTextClass,
        h = void 0 === p ? "rr-mask" : p,
        m = e.maskTextSelector,
        v = void 0 === m ? null : m,
        g = e.inlineStylesheet,
        y = void 0 === g || g,
        S = e.maskAllInputs,
        b = e.maskInputOptions,
        w = e.slimDOMOptions,
        x = e.maskInputFn,
        T = e.maskTextFn,
        C = e.hooks,
        E = e.packFn,
        I = e.sampling,
        k = void 0 === I ? {} : I,
        M = e.mousemoveWait,
        A = e.recordCanvas,
        O = void 0 !== A && A,
        N = e.userTriggeredOnInput,
        D = void 0 !== N && N,
        L = e.collectFonts,
        R = void 0 !== L && L,
        F = e.inlineImages,
        U = void 0 !== F && F,
        W = e.plugins,
        V = e.keepIframeSrcFn,
        G =
          void 0 === V
            ? function () {
                return !1;
              }
            : V;
      if (!t) throw new Error("emit function is required");
      void 0 !== M && void 0 === k.mousemove && (k.mousemove = M);
      var j,
        H =
          !0 === S
            ? {
                color: !0,
                date: !0,
                "datetime-local": !0,
                email: !0,
                month: !0,
                number: !0,
                range: !0,
                search: !0,
                tel: !0,
                text: !0,
                time: !0,
                url: !0,
                week: !0,
                textarea: !0,
                select: !0,
                password: !0,
              }
            : void 0 !== b
            ? b
            : { password: !0 },
        z =
          !0 === w || "all" === w
            ? {
                script: !0,
                comment: !0,
                headFavicon: !0,
                headWhitespace: !0,
                headMetaSocial: !0,
                headMetaRobots: !0,
                headMetaHttpEquiv: !0,
                headMetaVerification: !0,
                headMetaAuthorship: "all" === w,
                headMetaDescKeywords: "all" === w,
              }
            : w || {};
      le();
      var X = 0;
      qe = function (e, i) {
        var o;
        if (
          (!(null === (o = Te[0]) || void 0 === o ? void 0 : o.isFrozen()) ||
            e.type === P.FullSnapshot ||
            (e.type === P.IncrementalSnapshot && e.data.source === B.Mutation) ||
            Te.forEach(function (e) {
              return e.unfreeze();
            }),
          t(
            (function (e) {
              var t, r;
              try {
                for (var n = s(W || []), i = n.next(); !i.done; i = n.next()) {
                  var o = i.value;
                  o.eventProcessor && (e = o.eventProcessor(e));
                }
              } catch (e) {
                t = { error: e };
              } finally {
                try {
                  i && !i.done && (r = n.return) && r.call(n);
                } finally {
                  if (t) throw t.error;
                }
              }
              return E && (e = E(e)), e;
            })(e),
            i,
          ),
          e.type === P.FullSnapshot)
        )
          (j = e), (X = 0);
        else if (e.type === P.IncrementalSnapshot) {
          if (e.data.source === B.Mutation && e.data.isAttachIframe) return;
          X++;
          var a = n && X >= n,
            l = r && e.timestamp - j.timestamp > r;
          (a || l) && $e(!0);
        }
      };
      var J = function (e) {
          qe(et({ type: P.IncrementalSnapshot, data: a({ source: B.Mutation }, e) }));
        },
        K = function (e) {
          return qe(et({ type: P.IncrementalSnapshot, data: a({ source: B.Scroll }, e) }));
        },
        q = function (e) {
          return qe(et({ type: P.IncrementalSnapshot, data: a({ source: B.CanvasMutation }, e) }));
        },
        $ = new Be({ mutationCb: J }),
        Q = new Ze({ recordCanvas: O, mutationCb: q, win: window, blockClass: o, mirror: tt }),
        Z = new Fe({
          mutationCb: J,
          scrollCb: K,
          bypassOptions: {
            blockClass: o,
            blockSelector: c,
            maskTextClass: h,
            maskTextSelector: v,
            inlineStylesheet: y,
            maskInputOptions: H,
            maskTextFn: T,
            maskInputFn: x,
            recordCanvas: O,
            inlineImages: U,
            sampling: k,
            slimDOMOptions: z,
            iframeManager: $,
            canvasManager: Q,
          },
          mirror: tt,
        });
      $e = function (e) {
        var t, r, n, i;
        void 0 === e && (e = !1),
          qe(et({ type: P.Meta, data: { href: window.location.href, width: ne(), height: re() } }), e),
          Te.forEach(function (e) {
            return e.lock();
          });
        var a = l(
            (function (e, t) {
              var r = t || {},
                n = r.blockClass,
                i = void 0 === n ? "rr-block" : n,
                o = r.blockSelector,
                a = void 0 === o ? null : o,
                s = r.maskTextClass,
                l = void 0 === s ? "rr-mask" : s,
                u = r.maskTextSelector,
                c = void 0 === u ? null : u,
                d = r.inlineStylesheet,
                f = void 0 === d || d,
                p = r.inlineImages,
                h = void 0 !== p && p,
                m = r.recordCanvas,
                v = void 0 !== m && m,
                g = r.maskAllInputs,
                y = void 0 !== g && g,
                S = r.maskTextFn,
                b = r.maskInputFn,
                w = r.slimDOM,
                x = void 0 !== w && w,
                T = r.dataURLOptions,
                C = r.preserveWhiteSpace,
                E = r.onSerialize,
                I = r.onIframeLoad,
                k = r.iframeLoadTimeout,
                M = r.keepIframeSrcFn,
                A = {};
              return [
                _(e, {
                  doc: e,
                  map: A,
                  blockClass: i,
                  blockSelector: a,
                  maskTextClass: l,
                  maskTextSelector: c,
                  skipChild: !1,
                  inlineStylesheet: f,
                  maskInputOptions:
                    !0 === y
                      ? {
                          color: !0,
                          date: !0,
                          "datetime-local": !0,
                          email: !0,
                          month: !0,
                          number: !0,
                          range: !0,
                          search: !0,
                          tel: !0,
                          text: !0,
                          time: !0,
                          url: !0,
                          week: !0,
                          textarea: !0,
                          select: !0,
                          password: !0,
                        }
                      : !1 === y
                      ? { password: !0 }
                      : y,
                  maskTextFn: S,
                  maskInputFn: b,
                  slimDOMOptions:
                    !0 === x || "all" === x
                      ? {
                          script: !0,
                          comment: !0,
                          headFavicon: !0,
                          headWhitespace: !0,
                          headMetaDescKeywords: "all" === x,
                          headMetaSocial: !0,
                          headMetaRobots: !0,
                          headMetaHttpEquiv: !0,
                          headMetaAuthorship: !0,
                          headMetaVerification: !0,
                        }
                      : !1 === x
                      ? {}
                      : x,
                  dataURLOptions: T,
                  inlineImages: h,
                  recordCanvas: v,
                  preserveWhiteSpace: C,
                  onSerialize: E,
                  onIframeLoad: I,
                  iframeLoadTimeout: k,
                  keepIframeSrcFn:
                    void 0 === M
                      ? function () {
                          return !1;
                        }
                      : M,
                }),
                A,
              ];
            })(document, {
              blockClass: o,
              blockSelector: c,
              maskTextClass: h,
              maskTextSelector: v,
              inlineStylesheet: y,
              maskAllInputs: H,
              maskTextFn: T,
              slimDOM: z,
              recordCanvas: O,
              inlineImages: U,
              onSerialize: function (e) {
                fe(e) && $.addIframe(e), he(e) && Z.addShadowRoot(e.shadowRoot, document);
              },
              onIframeLoad: function (e, t) {
                $.attachIframe(e, t);
              },
              keepIframeSrcFn: G,
            }),
            2,
          ),
          s = a[0],
          u = a[1];
        if (!s) return console.warn("Failed to snapshot the document");
        (tt.map = u),
          qe(
            et({
              type: P.FullSnapshot,
              data: {
                node: s,
                initialOffset: {
                  left:
                    void 0 !== window.pageXOffset
                      ? window.pageXOffset
                      : (null === document || void 0 === document ? void 0 : document.documentElement.scrollLeft) ||
                        (null === (r = null === (t = null === document || void 0 === document ? void 0 : document.body) || void 0 === t ? void 0 : t.parentElement) || void 0 === r
                          ? void 0
                          : r.scrollLeft) ||
                        (null === document || void 0 === document ? void 0 : document.body.scrollLeft) ||
                        0,
                  top:
                    void 0 !== window.pageYOffset
                      ? window.pageYOffset
                      : (null === document || void 0 === document ? void 0 : document.documentElement.scrollTop) ||
                        (null === (i = null === (n = null === document || void 0 === document ? void 0 : document.body) || void 0 === n ? void 0 : n.parentElement) || void 0 === i
                          ? void 0
                          : i.scrollTop) ||
                        (null === document || void 0 === document ? void 0 : document.body.scrollTop) ||
                        0,
                },
              },
            }),
          ),
          Te.forEach(function (e) {
            return e.unlock();
          });
      };
      try {
        var ee = [];
        ee.push(
          Y("DOMContentLoaded", function () {
            qe(et({ type: P.DomContentLoaded, data: {} }));
          }),
        );
        var te = function (e) {
          var t;
          return Pe(
            {
              mutationCb: J,
              mousemoveCb: function (e, t) {
                return qe(et({ type: P.IncrementalSnapshot, data: { source: t, positions: e } }));
              },
              mouseInteractionCb: function (e) {
                return qe(et({ type: P.IncrementalSnapshot, data: a({ source: B.MouseInteraction }, e) }));
              },
              scrollCb: K,
              viewportResizeCb: function (e) {
                return qe(et({ type: P.IncrementalSnapshot, data: a({ source: B.ViewportResize }, e) }));
              },
              inputCb: function (e) {
                return qe(et({ type: P.IncrementalSnapshot, data: a({ source: B.Input }, e) }));
              },
              mediaInteractionCb: function (e) {
                return qe(et({ type: P.IncrementalSnapshot, data: a({ source: B.MediaInteraction }, e) }));
              },
              styleSheetRuleCb: function (e) {
                return qe(et({ type: P.IncrementalSnapshot, data: a({ source: B.StyleSheetRule }, e) }));
              },
              styleDeclarationCb: function (e) {
                return qe(et({ type: P.IncrementalSnapshot, data: a({ source: B.StyleDeclaration }, e) }));
              },
              canvasMutationCb: q,
              fontCb: function (e) {
                return qe(et({ type: P.IncrementalSnapshot, data: a({ source: B.Font }, e) }));
              },
              blockClass: o,
              ignoreClass: f,
              maskTextClass: h,
              maskTextSelector: v,
              maskInputOptions: H,
              inlineStylesheet: y,
              sampling: k,
              recordCanvas: O,
              inlineImages: U,
              userTriggeredOnInput: D,
              collectFonts: R,
              doc: e,
              maskInputFn: x,
              maskTextFn: T,
              blockSelector: c,
              slimDOMOptions: z,
              mirror: tt,
              iframeManager: $,
              shadowDomManager: Z,
              canvasManager: Q,
              plugins:
                (null ===
                  (t =
                    null == W
                      ? void 0
                      : W.filter(function (e) {
                          return e.observer;
                        })) || void 0 === t
                  ? void 0
                  : t.map(function (e) {
                      return {
                        observer: e.observer,
                        options: e.options,
                        callback: function (t) {
                          return qe(et({ type: P.Plugin, data: { plugin: e.name, payload: t } }));
                        },
                      };
                    })) || [],
            },
            C,
          );
        };
        $.addLoadListener(function (e) {
          ee.push(te(e.contentDocument));
        });
        var ie = function () {
          $e(), ee.push(te(document));
        };
        return (
          "interactive" === document.readyState || "complete" === document.readyState
            ? ie()
            : ee.push(
                Y(
                  "load",
                  function () {
                    qe(et({ type: P.Load, data: {} })), ie();
                  },
                  window,
                ),
              ),
          function () {
            ee.forEach(function (e) {
              return e();
            });
          }
        );
      } catch (e) {
        console.warn(e);
      }
    }
    (rt.addCustomEvent = function (e, t) {
      if (!qe) throw new Error("please add custom event after start recording");
      qe(et({ type: P.Custom, data: { tag: e, payload: t } }));
    }),
      (rt.freezePage = function () {
        Te.forEach(function (e) {
          return e.freeze();
        });
      }),
      (rt.takeFullSnapshot = function (e) {
        if (!$e) throw new Error("please take full snapshot after start recording");
        $e(e);
      }),
      (rt.mirror = tt);
    var nt = rt,
      it = nt.addCustomEvent,
      ot = nt.freezePage,
      at = Uint8Array,
      st = Uint16Array,
      lt = Uint32Array,
      ut = new at([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 0, 0, 0]),
      ct = new at([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, 0, 0]),
      dt = new at([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]),
      ft = function (e, t) {
        for (var r = new st(31), n = 0; n < 31; ++n) r[n] = t += 1 << e[n - 1];
        var i = new lt(r[30]);
        for (n = 1; n < 30; ++n) for (var o = r[n]; o < r[n + 1]; ++o) i[o] = ((o - r[n]) << 5) | n;
        return [r, i];
      },
      pt = ft(ut, 2),
      ht = pt[0],
      mt = pt[1];
    (ht[28] = 258), (mt[258] = 28);
    for (var vt = ft(ct, 0), gt = vt[0], yt = vt[1], St = new st(32768), bt = 0; bt < 32768; ++bt) {
      var wt = ((43690 & bt) >>> 1) | ((21845 & bt) << 1);
      (wt = ((61680 & (wt = ((52428 & wt) >>> 2) | ((13107 & wt) << 2))) >>> 4) | ((3855 & wt) << 4)), (St[bt] = (((65280 & wt) >>> 8) | ((255 & wt) << 8)) >>> 1);
    }
    var xt = function (e, t, r) {
        for (var n = e.length, i = 0, o = new st(t); i < n; ++i) ++o[e[i] - 1];
        var a,
          s = new st(t);
        for (i = 0; i < t; ++i) s[i] = (s[i - 1] + o[i - 1]) << 1;
        if (r) {
          a = new st(1 << t);
          var l = 15 - t;
          for (i = 0; i < n; ++i) if (e[i]) for (var u = (i << 4) | e[i], c = t - e[i], d = s[e[i] - 1]++ << c, f = d | ((1 << c) - 1); d <= f; ++d) a[St[d] >>> l] = u;
        } else for (a = new st(n), i = 0; i < n; ++i) a[i] = St[s[e[i] - 1]++] >>> (15 - e[i]);
        return a;
      },
      Tt = new at(288);
    for (bt = 0; bt < 144; ++bt) Tt[bt] = 8;
    for (bt = 144; bt < 256; ++bt) Tt[bt] = 9;
    for (bt = 256; bt < 280; ++bt) Tt[bt] = 7;
    for (bt = 280; bt < 288; ++bt) Tt[bt] = 8;
    var Ct = new at(32);
    for (bt = 0; bt < 32; ++bt) Ct[bt] = 5;
    var Et = xt(Tt, 9, 0),
      It = xt(Tt, 9, 1),
      kt = xt(Ct, 5, 0),
      Mt = xt(Ct, 5, 1),
      At = function (e) {
        for (var t = e[0], r = 1; r < e.length; ++r) e[r] > t && (t = e[r]);
        return t;
      },
      Ot = function (e, t, r) {
        var n = (t / 8) >> 0;
        return ((e[n] | (e[n + 1] << 8)) >>> (7 & t)) & r;
      },
      _t = function (e, t) {
        var r = (t / 8) >> 0;
        return (e[r] | (e[r + 1] << 8) | (e[r + 2] << 16)) >>> (7 & t);
      },
      Nt = function (e) {
        return ((e / 8) >> 0) + (7 & e && 1);
      },
      Dt = function (e, t, r) {
        (null == t || t < 0) && (t = 0), (null == r || r > e.length) && (r = e.length);
        var n = new (e instanceof st ? st : e instanceof lt ? lt : at)(r - t);
        return n.set(e.subarray(t, r)), n;
      },
      Lt = function (e, t, r) {
        r <<= 7 & t;
        var n = (t / 8) >> 0;
        (e[n] |= r), (e[n + 1] |= r >>> 8);
      },
      Rt = function (e, t, r) {
        r <<= 7 & t;
        var n = (t / 8) >> 0;
        (e[n] |= r), (e[n + 1] |= r >>> 8), (e[n + 2] |= r >>> 16);
      },
      Pt = function (e, t) {
        for (var r = [], n = 0; n < e.length; ++n) e[n] && r.push({ s: n, f: e[n] });
        var i = r.length,
          o = r.slice();
        if (!i) return [new at(0), 0];
        if (1 == i) {
          var a = new at(r[0].s + 1);
          return (a[r[0].s] = 1), [a, 1];
        }
        r.sort(function (e, t) {
          return e.f - t.f;
        }),
          r.push({ s: -1, f: 25001 });
        var s = r[0],
          l = r[1],
          u = 0,
          c = 1,
          d = 2;
        for (r[0] = { s: -1, f: s.f + l.f, l: s, r: l }; c != i - 1; )
          (s = r[r[u].f < r[d].f ? u++ : d++]), (l = r[u != c && r[u].f < r[d].f ? u++ : d++]), (r[c++] = { s: -1, f: s.f + l.f, l: s, r: l });
        var f = o[0].s;
        for (n = 1; n < i; ++n) o[n].s > f && (f = o[n].s);
        var p = new st(f + 1),
          h = Bt(r[c - 1], p, 0);
        if (h > t) {
          n = 0;
          var m = 0,
            v = h - t,
            g = 1 << v;
          for (
            o.sort(function (e, t) {
              return p[t.s] - p[e.s] || e.f - t.f;
            });
            n < i;
            ++n
          ) {
            var y = o[n].s;
            if (!(p[y] > t)) break;
            (m += g - (1 << (h - p[y]))), (p[y] = t);
          }
          for (m >>>= v; m > 0; ) {
            var S = o[n].s;
            p[S] < t ? (m -= 1 << (t - p[S]++ - 1)) : ++n;
          }
          for (; n >= 0 && m; --n) {
            var b = o[n].s;
            p[b] == t && (--p[b], ++m);
          }
          h = t;
        }
        return [new at(p), h];
      },
      Bt = function (e, t, r) {
        return -1 == e.s ? Math.max(Bt(e.l, t, r + 1), Bt(e.r, t, r + 1)) : (t[e.s] = r);
      },
      Ft = function (e) {
        for (var t = e.length; t && !e[--t]; );
        for (
          var r = new st(++t),
            n = 0,
            i = e[0],
            o = 1,
            a = function (e) {
              r[n++] = e;
            },
            s = 1;
          s <= t;
          ++s
        )
          if (e[s] == i && s != t) ++o;
          else {
            if (!i && o > 2) {
              for (; o > 138; o -= 138) a(32754);
              o > 2 && (a(o > 10 ? ((o - 11) << 5) | 28690 : ((o - 3) << 5) | 12305), (o = 0));
            } else if (o > 3) {
              for (a(i), --o; o > 6; o -= 6) a(8304);
              o > 2 && (a(((o - 3) << 5) | 8208), (o = 0));
            }
            for (; o--; ) a(i);
            (o = 1), (i = e[s]);
          }
        return [r.subarray(0, n), t];
      },
      Ut = function (e, t) {
        for (var r = 0, n = 0; n < t.length; ++n) r += e[n] * t[n];
        return r;
      },
      Wt = function (e, t, r) {
        var n = r.length,
          i = Nt(t + 2);
        (e[i] = 255 & n), (e[i + 1] = n >>> 8), (e[i + 2] = 255 ^ e[i]), (e[i + 3] = 255 ^ e[i + 1]);
        for (var o = 0; o < n; ++o) e[i + o + 4] = r[o];
        return 8 * (i + 4 + n);
      },
      Vt = function (e, t, r, n, i, o, a, s, l, u, c) {
        Lt(t, c++, r), ++i[256];
        for (var d = Pt(i, 15), f = d[0], p = d[1], h = Pt(o, 15), m = h[0], v = h[1], g = Ft(f), y = g[0], S = g[1], b = Ft(m), w = b[0], x = b[1], T = new st(19), C = 0; C < y.length; ++C)
          T[31 & y[C]]++;
        for (C = 0; C < w.length; ++C) T[31 & w[C]]++;
        for (var E = Pt(T, 7), I = E[0], k = E[1], M = 19; M > 4 && !I[dt[M - 1]]; --M);
        var A,
          O,
          _,
          N,
          D = (u + 5) << 3,
          L = Ut(i, Tt) + Ut(o, Ct) + a,
          R = Ut(i, f) + Ut(o, m) + a + 14 + 3 * M + Ut(T, I) + (2 * T[16] + 3 * T[17] + 7 * T[18]);
        if (D <= L && D <= R) return Wt(t, c, e.subarray(l, l + u));
        if ((Lt(t, c, 1 + (R < L)), (c += 2), R < L)) {
          (A = xt(f, p, 0)), (O = f), (_ = xt(m, v, 0)), (N = m);
          var P = xt(I, k, 0);
          Lt(t, c, S - 257), Lt(t, c + 5, x - 1), Lt(t, c + 10, M - 4), (c += 14);
          for (C = 0; C < M; ++C) Lt(t, c + 3 * C, I[dt[C]]);
          c += 3 * M;
          for (var B = [y, w], F = 0; F < 2; ++F) {
            var U = B[F];
            for (C = 0; C < U.length; ++C) {
              var W = 31 & U[C];
              Lt(t, c, P[W]), (c += I[W]), W > 15 && (Lt(t, c, (U[C] >>> 5) & 127), (c += U[C] >>> 12));
            }
          }
        } else (A = Et), (O = Tt), (_ = kt), (N = Ct);
        for (C = 0; C < s; ++C)
          if (n[C] > 255) {
            W = (n[C] >>> 18) & 31;
            Rt(t, c, A[W + 257]), (c += O[W + 257]), W > 7 && (Lt(t, c, (n[C] >>> 23) & 31), (c += ut[W]));
            var V = 31 & n[C];
            Rt(t, c, _[V]), (c += N[V]), V > 3 && (Rt(t, c, (n[C] >>> 5) & 8191), (c += ct[V]));
          } else Rt(t, c, A[n[C]]), (c += O[n[C]]);
        return Rt(t, c, A[256]), c + O[256];
      },
      Gt = new lt([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]),
      jt = new at(0),
      Ht = function (e, t, r, n, i) {
        return (function (e, t, r, n, i, o) {
          var a = e.length,
            s = new at(n + a + 5 * (1 + Math.floor(a / 7e3)) + i),
            l = s.subarray(n, s.length - i),
            u = 0;
          if (!t || a < 8)
            for (var c = 0; c <= a; c += 65535) {
              var d = c + 65535;
              d < a ? (u = Wt(l, u, e.subarray(c, d))) : ((l[c] = o), (u = Wt(l, u, e.subarray(c, a))));
            }
          else {
            for (
              var f = Gt[t - 1],
                p = f >>> 13,
                h = 8191 & f,
                m = (1 << r) - 1,
                v = new st(32768),
                g = new st(m + 1),
                y = Math.ceil(r / 3),
                S = 2 * y,
                b = function (t) {
                  return (e[t] ^ (e[t + 1] << y) ^ (e[t + 2] << S)) & m;
                },
                w = new lt(25e3),
                x = new st(288),
                T = new st(32),
                C = 0,
                E = 0,
                I = ((c = 0), 0),
                k = 0,
                M = 0;
              c < a;
              ++c
            ) {
              var A = b(c),
                O = 32767 & c,
                _ = g[A];
              if (((v[O] = _), (g[A] = O), k <= c)) {
                var N = a - c;
                if ((C > 7e3 || I > 24576) && N > 423) {
                  (u = Vt(e, l, 0, w, x, T, E, I, M, c - M, u)), (I = C = E = 0), (M = c);
                  for (var D = 0; D < 286; ++D) x[D] = 0;
                  for (D = 0; D < 30; ++D) T[D] = 0;
                }
                var L = 2,
                  R = 0,
                  P = h,
                  B = (O - _) & 32767;
                if (N > 2 && A == b(c - B))
                  for (var F = Math.min(p, N) - 1, U = Math.min(32767, c), W = Math.min(258, N); B <= U && --P && O != _; ) {
                    if (e[c + L] == e[c + L - B]) {
                      for (var V = 0; V < W && e[c + V] == e[c + V - B]; ++V);
                      if (V > L) {
                        if (((L = V), (R = B), V > F)) break;
                        var G = Math.min(B, V - 2),
                          j = 0;
                        for (D = 0; D < G; ++D) {
                          var H = (c - B + D + 32768) & 32767,
                            z = (H - v[H] + 32768) & 32767;
                          z > j && ((j = z), (_ = H));
                        }
                      }
                    }
                    B += ((O = _) - (_ = v[O]) + 32768) & 32767;
                  }
                if (R) {
                  w[I++] = 268435456 | (mt[L] << 18) | yt[R];
                  var X = 31 & mt[L],
                    J = 31 & yt[R];
                  (E += ut[X] + ct[J]), ++x[257 + X], ++T[J], (k = c + L), ++C;
                } else (w[I++] = e[c]), ++x[e[c]];
              }
            }
            (u = Vt(e, l, o, w, x, T, E, I, M, c - M, u)), o || (u = Wt(l, u, jt));
          }
          return Dt(s, 0, n + Nt(u) + i);
        })(e, null == t.level ? 6 : t.level, null == t.mem ? Math.ceil(1.5 * Math.max(8, Math.min(13, Math.log(e.length)))) : 12 + t.mem, r, n, !i);
      };
    function zt(e, t) {
      void 0 === t && (t = {});
      var r = (function () {
        var e = 1,
          t = 0;
        return {
          p: function (r) {
            for (var n = e, i = t, o = r.length, a = 0; a != o; ) {
              for (var s = Math.min(a + 5552, o); a < s; ++a) i += n += r[a];
              (n %= 65521), (i %= 65521);
            }
            (e = n), (t = i);
          },
          d: function () {
            return (((e >>> 8) << 16) | ((255 & t) << 8) | (t >>> 8)) + 2 * ((255 & e) << 23);
          },
        };
      })();
      r.p(e);
      var n = Ht(e, t, 2, 4);
      return (
        (function (e, t) {
          var r = t.level,
            n = 0 == r ? 0 : r < 6 ? 1 : 9 == r ? 3 : 2;
          (e[0] = 120), (e[1] = (n << 6) | (n ? 32 - 2 * n : 1));
        })(n, t),
        (function (e, t, r) {
          for (; r; ++t) (e[t] = r), (r >>>= 8);
        })(n, n.length - 4, r.d()),
        n
      );
    }
    function Xt(e, t) {
      return (function (e, t, r) {
        var n = e.length,
          i = !t || r,
          o = !r || r.i;
        r || (r = {}), t || (t = new at(3 * n));
        var a = function (e) {
            var r = t.length;
            if (e > r) {
              var n = new at(Math.max(2 * r, e));
              n.set(t), (t = n);
            }
          },
          s = r.f || 0,
          l = r.p || 0,
          u = r.b || 0,
          c = r.l,
          d = r.d,
          f = r.m,
          p = r.n,
          h = 8 * n;
        do {
          if (!c) {
            r.f = s = Ot(e, l, 1);
            var m = Ot(e, l + 1, 3);
            if (((l += 3), !m)) {
              var v = e[(k = Nt(l) + 4) - 4] | (e[k - 3] << 8),
                g = k + v;
              if (g > n) {
                if (o) throw "unexpected EOF";
                break;
              }
              i && a(u + v), t.set(e.subarray(k, g), u), (r.b = u += v), (r.p = l = 8 * g);
              continue;
            }
            if (1 == m) (c = It), (d = Mt), (f = 9), (p = 5);
            else {
              if (2 != m) throw "invalid block type";
              var y = Ot(e, l, 31) + 257,
                S = Ot(e, l + 10, 15) + 4,
                b = y + Ot(e, l + 5, 31) + 1;
              l += 14;
              for (var w = new at(b), x = new at(19), T = 0; T < S; ++T) x[dt[T]] = Ot(e, l + 3 * T, 7);
              l += 3 * S;
              var C = At(x),
                E = (1 << C) - 1;
              if (!o && l + b * (C + 7) > h) break;
              var I = xt(x, C, 1);
              for (T = 0; T < b; ) {
                var k,
                  M = I[Ot(e, l, E)];
                if (((l += 15 & M), (k = M >>> 4) < 16)) w[T++] = k;
                else {
                  var A = 0,
                    O = 0;
                  for (16 == k ? ((O = 3 + Ot(e, l, 3)), (l += 2), (A = w[T - 1])) : 17 == k ? ((O = 3 + Ot(e, l, 7)), (l += 3)) : 18 == k && ((O = 11 + Ot(e, l, 127)), (l += 7)); O--; ) w[T++] = A;
                }
              }
              var _ = w.subarray(0, y),
                N = w.subarray(y);
              (f = At(_)), (p = At(N)), (c = xt(_, f, 1)), (d = xt(N, p, 1));
            }
            if (l > h) throw "unexpected EOF";
          }
          i && a(u + 131072);
          for (var D = (1 << f) - 1, L = (1 << p) - 1, R = f + p + 18; o || l + R < h; ) {
            var P = (A = c[_t(e, l) & D]) >>> 4;
            if ((l += 15 & A) > h) throw "unexpected EOF";
            if (!A) throw "invalid length/literal";
            if (P < 256) t[u++] = P;
            else {
              if (256 == P) {
                c = null;
                break;
              }
              var B = P - 254;
              if (P > 264) {
                var F = ut[(T = P - 257)];
                (B = Ot(e, l, (1 << F) - 1) + ht[T]), (l += F);
              }
              var U = d[_t(e, l) & L],
                W = U >>> 4;
              if (!U) throw "invalid distance";
              l += 15 & U;
              N = gt[W];
              if (W > 3) {
                F = ct[W];
                (N += _t(e, l) & ((1 << F) - 1)), (l += F);
              }
              if (l > h) throw "unexpected EOF";
              i && a(u + 131072);
              for (var V = u + B; u < V; u += 4) (t[u] = t[u - N]), (t[u + 1] = t[u + 1 - N]), (t[u + 2] = t[u + 2 - N]), (t[u + 3] = t[u + 3 - N]);
              u = V;
            }
          }
          (r.l = c), (r.p = l), (r.b = u), c && ((s = 1), (r.m = f), (r.d = d), (r.n = p));
        } while (!s);
        return u == t.length ? t : Dt(t, 0, u);
      })(
        ((function (e) {
          if (8 != (15 & e[0]) || e[0] >>> 4 > 7 || ((e[0] << 8) | e[1]) % 31) throw "invalid zlib data";
          if (32 & e[1]) throw "invalid zlib data: preset dictionaries not supported";
        })(e),
        e.subarray(2, -4)),
        t,
      );
    }
    function Jt(e, t) {
      var r = e.length;
      if (!t && "undefined" != typeof TextEncoder) return new TextEncoder().encode(e);
      for (
        var n = new at(e.length + (e.length >>> 1)),
          i = 0,
          o = function (e) {
            n[i++] = e;
          },
          a = 0;
        a < r;
        ++a
      ) {
        if (i + 5 > n.length) {
          var s = new at(i + 8 + ((r - a) << 1));
          s.set(n), (n = s);
        }
        var l = e.charCodeAt(a);
        l < 128 || t
          ? o(l)
          : l < 2048
          ? (o(192 | (l >>> 6)), o(128 | (63 & l)))
          : l > 55295 && l < 57344
          ? (o(240 | ((l = (65536 + (1047552 & l)) | (1023 & e.charCodeAt(++a))) >>> 18)), o(128 | ((l >>> 12) & 63)), o(128 | ((l >>> 6) & 63)), o(128 | (63 & l)))
          : (o(224 | (l >>> 12)), o(128 | ((l >>> 6) & 63)), o(128 | (63 & l)));
      }
      return Dt(n, 0, i);
    }
    function Kt(e, t) {
      var r = "";
      if (!t && "undefined" != typeof TextDecoder) return new TextDecoder().decode(e);
      for (var n = 0; n < e.length; ) {
        var i = e[n++];
        i < 128 || t
          ? (r += String.fromCharCode(i))
          : i < 224
          ? (r += String.fromCharCode(((31 & i) << 6) | (63 & e[n++])))
          : i < 240
          ? (r += String.fromCharCode(((15 & i) << 12) | ((63 & e[n++]) << 6) | (63 & e[n++])))
          : ((i = (((15 & i) << 18) | ((63 & e[n++]) << 12) | ((63 & e[n++]) << 6) | (63 & e[n++])) - 65536), (r += String.fromCharCode(55296 | (i >> 10), 56320 | (1023 & i))));
      }
      return r;
    }
    var Yt = function (e) {
        var t = a(a({}, e), { v: "v1" });
        return Kt(zt(Jt(JSON.stringify(t))), !0);
      },
      qt = function (e) {
        if ("string" != typeof e) return e;
        try {
          if ((t = JSON.parse(e)).timestamp) return t;
        } catch (e) {}
        try {
          var t;
          if ("v1" === (t = JSON.parse(Kt(Xt(Jt(e, !0))))).v) return t;
          throw new Error("These events were packed with packer " + t.v + " which is incompatible with current packer v1.");
        } catch (e) {
          throw (console.error(e), new Error("Unknown data format."));
        }
      },
      $t = (function () {
        function e(e) {
          (this.fileName = e.fileName || ""), (this.functionName = e.functionName || ""), (this.lineNumber = e.lineNumber), (this.columnNumber = e.columnNumber);
        }
        return (
          (e.prototype.toString = function () {
            var e = this.lineNumber || "",
              t = this.columnNumber || "";
            return this.functionName ? this.functionName + " (" + this.fileName + ":" + e + ":" + t + ")" : this.fileName + ":" + e + ":" + t;
          }),
          e
        );
      })(),
      Qt = /(^|@)\S+:\d+/,
      Zt = /^\s*at .*(\S+:\d+|\(native\))/m,
      er = /^(eval@)?(\[native code])?$/,
      tr = {
        parse: function (e) {
          if (!e) return [];
          if (void 0 !== e.stacktrace || void 0 !== e["opera#sourceloc"]) return this.parseOpera(e);
          if (e.stack && e.stack.match(Zt)) return this.parseV8OrIE(e);
          if (e.stack) return this.parseFFOrSafari(e);
          throw new Error("Cannot parse given Error object");
        },
        extractLocation: function (e) {
          if (-1 === e.indexOf(":")) return [e];
          var t = /(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g, ""));
          if (!t) throw new Error("Cannot parse given url: " + e);
          return [t[1], t[2] || void 0, t[3] || void 0];
        },
        parseV8OrIE: function (e) {
          return e.stack
            .split("\n")
            .filter(function (e) {
              return !!e.match(Zt);
            }, this)
            .map(function (e) {
              e.indexOf("(eval ") > -1 && (e = e.replace(/eval code/g, "eval").replace(/(\(eval at [^()]*)|(\),.*$)/g, ""));
              var t = e.replace(/^\s+/, "").replace(/\(eval code/g, "("),
                r = t.match(/ (\((.+):(\d+):(\d+)\)$)/),
                n = (t = r ? t.replace(r[0], "") : t).split(/\s+/).slice(1),
                i = this.extractLocation(r ? r[1] : n.pop()),
                o = n.join(" ") || void 0,
                a = ["eval", "<anonymous>"].indexOf(i[0]) > -1 ? void 0 : i[0];
              return new $t({ functionName: o, fileName: a, lineNumber: i[1], columnNumber: i[2] });
            }, this);
        },
        parseFFOrSafari: function (e) {
          return e.stack
            .split("\n")
            .filter(function (e) {
              return !e.match(er);
            }, this)
            .map(function (e) {
              if ((e.indexOf(" > eval") > -1 && (e = e.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g, ":$1")), -1 === e.indexOf("@") && -1 === e.indexOf(":")))
                return new $t({ functionName: e });
              var t = /((.*".+"[^@]*)?[^@]*)(?:@)/,
                r = e.match(t),
                n = r && r[1] ? r[1] : void 0,
                i = this.extractLocation(e.replace(t, ""));
              return new $t({ functionName: n, fileName: i[0], lineNumber: i[1], columnNumber: i[2] });
            }, this);
        },
        parseOpera: function (e) {
          return !e.stacktrace || (e.message.indexOf("\n") > -1 && e.message.split("\n").length > e.stacktrace.split("\n").length)
            ? this.parseOpera9(e)
            : e.stack
            ? this.parseOpera11(e)
            : this.parseOpera10(e);
        },
        parseOpera9: function (e) {
          for (var t = /Line (\d+).*script (?:in )?(\S+)/i, r = e.message.split("\n"), n = [], i = 2, o = r.length; i < o; i += 2) {
            var a = t.exec(r[i]);
            a && n.push(new $t({ fileName: a[2], lineNumber: parseFloat(a[1]) }));
          }
          return n;
        },
        parseOpera10: function (e) {
          for (var t = /Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i, r = e.stacktrace.split("\n"), n = [], i = 0, o = r.length; i < o; i += 2) {
            var a = t.exec(r[i]);
            a && n.push(new $t({ functionName: a[3] || void 0, fileName: a[2], lineNumber: parseFloat(a[1]) }));
          }
          return n;
        },
        parseOpera11: function (e) {
          return e.stack
            .split("\n")
            .filter(function (e) {
              return !!e.match(Qt) && !e.match(/^Error created at/);
            }, this)
            .map(function (e) {
              var t = e.split("@"),
                r = this.extractLocation(t.pop()),
                n = (t.shift() || "").replace(/<anonymous function(: (\w+))?>/, "$2").replace(/\([^)]*\)/g, "") || void 0;
              return new $t({ functionName: n, fileName: r[0], lineNumber: r[1], columnNumber: r[2] });
            }, this);
        },
      };
    function rr(e) {
      if (!e || !e.outerHTML) return "";
      for (var t = ""; e.parentElement; ) {
        var r = e.localName;
        if (!r) break;
        r = r.toLowerCase();
        var n = e.parentElement,
          i = [];
        if (n.children && n.children.length > 0)
          for (var o = 0; o < n.children.length; o++) {
            var a = n.children[o];
            a.localName && a.localName.toLowerCase && a.localName.toLowerCase() === r && i.push(a);
          }
        i.length > 1 && (r += ":eq(" + i.indexOf(e) + ")"), (t = r + (t ? ">" + t : "")), (e = n);
      }
      return t;
    }
    function nr(e) {
      return "[object Object]" === Object.prototype.toString.call(e);
    }
    function ir(e, t) {
      var r = { numOfKeysLimit: 50, depthOfLimit: 4 };
      Object.assign(r, t);
      var n = [],
        i = [];
      return JSON.stringify(e, function (e, t) {
        if (n.length > 0) {
          var o = n.indexOf(this);
          ~o ? n.splice(o + 1) : n.push(this), ~o ? i.splice(o, 1 / 0, e) : i.push(e), ~n.indexOf(t) && (t = n[0] === t ? "[Circular ~]" : "[Circular ~." + i.slice(0, n.indexOf(t)).join(".") + "]");
        } else n.push(t);
        if (null == t) return t;
        if (
          (function (e) {
            if (nr(e) && Object.keys(e).length > r.numOfKeysLimit) return !0;
            if ("function" == typeof e) return !0;
            if (
              nr(e) &&
              (function e(t, r) {
                var n, i;
                if (0 === r) return !0;
                var o = Object.keys(t);
                try {
                  for (var a = s(o), l = a.next(); !l.done; l = a.next()) {
                    var u = l.value;
                    if (nr(t[u]) && e(t[u], r - 1)) return !0;
                  }
                } catch (e) {
                  n = { error: e };
                } finally {
                  try {
                    l && !l.done && (i = a.return) && i.call(a);
                  } finally {
                    if (n) throw n.error;
                  }
                }
                return !1;
              })(e, r.depthOfLimit)
            )
              return !0;
            return !1;
          })(t)
        )
          return (function (e) {
            var t = e.toString();
            r.stringLengthLimit && t.length > r.stringLengthLimit && (t = t.slice(0, r.stringLengthLimit) + "...");
            return t;
          })(t);
        if (t instanceof Event) {
          var a = {};
          for (var l in t) {
            var u = t[l];
            Array.isArray(u) ? (a[l] = rr(u.length ? u[0] : null)) : (a[l] = u);
          }
          return a;
        }
        return t instanceof Node
          ? t instanceof HTMLElement
            ? t
              ? t.outerHTML
              : ""
            : t.nodeName
          : t instanceof Error
          ? t.stack
            ? t.stack + "\nEnd of stack for Error object"
            : t.name + ": " + t.message
          : t;
      });
    }
    var or = {
      level: [
        "assert",
        "clear",
        "count",
        "countReset",
        "debug",
        "dir",
        "dirxml",
        "error",
        "group",
        "groupCollapsed",
        "groupEnd",
        "info",
        "log",
        "table",
        "time",
        "timeEnd",
        "timeLog",
        "trace",
        "warn",
      ],
      lengthThreshold: 1e3,
      logger: "console",
    };
    function ar(e, t, r) {
      var n,
        i,
        o,
        a = r.logger;
      if (!a) return function () {};
      o = "string" == typeof a ? t[a] : a;
      var l = 0,
        c = [];
      if (r.level.includes("error") && window) {
        var d = function (t) {
          var n = t.message,
            i = t.error,
            o = tr.parse(i).map(function (e) {
              return e.toString();
            }),
            a = [ir(n, r.stringifyOptions)];
          e({ level: "error", trace: o, payload: a });
        };
        window.addEventListener("error", d),
          c.push(function () {
            window && window.removeEventListener("error", d);
          });
      }
      try {
        for (var f = s(r.level), p = f.next(); !p.done; p = f.next()) {
          var h = p.value;
          c.push(m(o, h));
        }
      } catch (e) {
        n = { error: e };
      } finally {
        try {
          p && !p.done && (i = f.return) && i.call(f);
        } finally {
          if (n) throw n.error;
        }
      }
      return function () {
        c.forEach(function (e) {
          return e();
        });
      };
      function m(t, n) {
        var i = this;
        return t[n]
          ? te(t, n, function (t) {
              return function () {
                for (var o = [], a = 0; a < arguments.length; a++) o[a] = arguments[a];
                t.apply(i, o);
                try {
                  var s = tr
                      .parse(new Error())
                      .map(function (e) {
                        return e.toString();
                      })
                      .splice(1),
                    c = o.map(function (e) {
                      return ir(e, r.stringifyOptions);
                    });
                  ++l < r.lengthThreshold
                    ? e({ level: n, trace: s, payload: c })
                    : l === r.lengthThreshold && e({ level: "warn", trace: [], payload: [ir("The number of log records reached the threshold.")] });
                } catch (e) {
                  t.apply(void 0, u(["rrweb logger error:", e], o));
                }
              };
            })
          : function () {};
      }
    }
    var sr = "rrweb/console@1",
      lr = function (e) {
        return { name: sr, observer: ar, options: e ? Object.assign({}, or, e) : or };
      },
      ur = {
        level: [
          "assert",
          "clear",
          "count",
          "countReset",
          "debug",
          "dir",
          "dirxml",
          "error",
          "group",
          "groupCollapsed",
          "groupEnd",
          "info",
          "log",
          "table",
          "time",
          "timeEnd",
          "timeLog",
          "trace",
          "warn",
        ],
        replayLogger: void 0,
      },
      cr = (function () {
        function e(e) {
          this.config = Object.assign(ur, e);
        }
        return (
          (e.prototype.getConsoleLogger = function () {
            var e,
              t,
              r = this,
              n = {},
              i = function (e) {
                n[e] =
                  "trace" === e
                    ? function (e) {
                        (console.log.__rrweb_original__ ? console.log.__rrweb_original__ : console.log).apply(
                          void 0,
                          u(
                            e.payload.map(function (e) {
                              return JSON.parse(e);
                            }),
                            [r.formatMessage(e)],
                          ),
                        );
                      }
                    : function (t) {
                        (console[e].__rrweb_original__ ? console[e].__rrweb_original__ : console[e]).apply(
                          void 0,
                          u(
                            t.payload.map(function (e) {
                              return JSON.parse(e);
                            }),
                            [r.formatMessage(t)],
                          ),
                        );
                      };
              };
            try {
              for (var o = s(this.config.level), a = o.next(); !a.done; a = o.next()) {
                i(a.value);
              }
            } catch (t) {
              e = { error: t };
            } finally {
              try {
                a && !a.done && (t = o.return) && t.call(o);
              } finally {
                if (e) throw e.error;
              }
            }
            return n;
          }),
          (e.prototype.formatMessage = function (e) {
            if (0 === e.trace.length) return "";
            var t = "\n\tat ";
            return (t += e.trace.join("\n\tat "));
          }),
          e
        );
      })(),
      dr = function (e) {
        var t = (null == e ? void 0 : e.replayLogger) || new cr(e).getConsoleLogger();
        return {
          handler: function (e, r, n) {
            var i = null;
            if ((e.type === P.IncrementalSnapshot && e.data.source === B.Log ? (i = e.data) : e.type === P.Plugin && e.data.plugin === sr && (i = e.data.payload), i))
              try {
                "function" == typeof t[i.level] && t[i.level](i);
              } catch (e) {
                n.replayer.config.showWarning && console.warn(e);
              }
          },
        };
      };
    var fr = function (e) {
      return (
        (e = e || Object.create(null)),
        {
          on: function (t, r) {
            (e[t] || (e[t] = [])).push(r);
          },
          off: function (t, r) {
            e[t] && e[t].splice(e[t].indexOf(r) >>> 0, 1);
          },
          emit: function (t, r) {
            (e[t] || []).slice().map(function (e) {
              e(r);
            }),
              (e["*"] || []).slice().map(function (e) {
                e(t, r);
              });
          },
        }
      );
    };
    function pr(e, t) {
      if ((void 0 === e && (e = window), void 0 === t && (t = document), !("scrollBehavior" in t.documentElement.style) || !0 === e.__forceSmoothScrollPolyfill__)) {
        var r,
          n = e.HTMLElement || e.Element,
          i = { scroll: e.scroll || e.scrollTo, scrollBy: e.scrollBy, elementScroll: n.prototype.scroll || s, scrollIntoView: n.prototype.scrollIntoView },
          o = e.performance && e.performance.now ? e.performance.now.bind(e.performance) : Date.now,
          a = ((r = e.navigator.userAgent), new RegExp(["MSIE ", "Trident/", "Edge/"].join("|")).test(r) ? 1 : 0);
        (e.scroll = e.scrollTo =
          function () {
            void 0 !== arguments[0] &&
              (!0 !== l(arguments[0])
                ? h.call(e, t.body, void 0 !== arguments[0].left ? ~~arguments[0].left : e.scrollX || e.pageXOffset, void 0 !== arguments[0].top ? ~~arguments[0].top : e.scrollY || e.pageYOffset)
                : i.scroll.call(
                    e,
                    void 0 !== arguments[0].left ? arguments[0].left : "object" != typeof arguments[0] ? arguments[0] : e.scrollX || e.pageXOffset,
                    void 0 !== arguments[0].top ? arguments[0].top : void 0 !== arguments[1] ? arguments[1] : e.scrollY || e.pageYOffset,
                  ));
          }),
          (e.scrollBy = function () {
            void 0 !== arguments[0] &&
              (l(arguments[0])
                ? i.scrollBy.call(
                    e,
                    void 0 !== arguments[0].left ? arguments[0].left : "object" != typeof arguments[0] ? arguments[0] : 0,
                    void 0 !== arguments[0].top ? arguments[0].top : void 0 !== arguments[1] ? arguments[1] : 0,
                  )
                : h.call(e, t.body, ~~arguments[0].left + (e.scrollX || e.pageXOffset), ~~arguments[0].top + (e.scrollY || e.pageYOffset)));
          }),
          (n.prototype.scroll = n.prototype.scrollTo =
            function () {
              if (void 0 !== arguments[0])
                if (!0 !== l(arguments[0])) {
                  var e = arguments[0].left,
                    t = arguments[0].top;
                  h.call(this, this, void 0 === e ? this.scrollLeft : ~~e, void 0 === t ? this.scrollTop : ~~t);
                } else {
                  if ("number" == typeof arguments[0] && void 0 === arguments[1]) throw new SyntaxError("Value could not be converted");
                  i.elementScroll.call(
                    this,
                    void 0 !== arguments[0].left ? ~~arguments[0].left : "object" != typeof arguments[0] ? ~~arguments[0] : this.scrollLeft,
                    void 0 !== arguments[0].top ? ~~arguments[0].top : void 0 !== arguments[1] ? ~~arguments[1] : this.scrollTop,
                  );
                }
            }),
          (n.prototype.scrollBy = function () {
            void 0 !== arguments[0] &&
              (!0 !== l(arguments[0])
                ? this.scroll({ left: ~~arguments[0].left + this.scrollLeft, top: ~~arguments[0].top + this.scrollTop, behavior: arguments[0].behavior })
                : i.elementScroll.call(
                    this,
                    void 0 !== arguments[0].left ? ~~arguments[0].left + this.scrollLeft : ~~arguments[0] + this.scrollLeft,
                    void 0 !== arguments[0].top ? ~~arguments[0].top + this.scrollTop : ~~arguments[1] + this.scrollTop,
                  ));
          }),
          (n.prototype.scrollIntoView = function () {
            if (!0 !== l(arguments[0])) {
              var r = f(this),
                n = r.getBoundingClientRect(),
                o = this.getBoundingClientRect();
              r !== t.body
                ? (h.call(this, r, r.scrollLeft + o.left - n.left, r.scrollTop + o.top - n.top),
                  "fixed" !== e.getComputedStyle(r).position && e.scrollBy({ left: n.left, top: n.top, behavior: "smooth" }))
                : e.scrollBy({ left: o.left, top: o.top, behavior: "smooth" });
            } else i.scrollIntoView.call(this, void 0 === arguments[0] || arguments[0]);
          });
      }
      function s(e, t) {
        (this.scrollLeft = e), (this.scrollTop = t);
      }
      function l(e) {
        if (null === e || "object" != typeof e || void 0 === e.behavior || "auto" === e.behavior || "instant" === e.behavior) return !0;
        if ("object" == typeof e && "smooth" === e.behavior) return !1;
        throw new TypeError("behavior member of ScrollOptions " + e.behavior + " is not a valid value for enumeration ScrollBehavior.");
      }
      function u(e, t) {
        return "Y" === t ? e.clientHeight + a < e.scrollHeight : "X" === t ? e.clientWidth + a < e.scrollWidth : void 0;
      }
      function c(t, r) {
        var n = e.getComputedStyle(t, null)["overflow" + r];
        return "auto" === n || "scroll" === n;
      }
      function d(e) {
        var t = u(e, "Y") && c(e, "Y"),
          r = u(e, "X") && c(e, "X");
        return t || r;
      }
      function f(e) {
        for (; e !== t.body && !1 === d(e); ) e = e.parentNode || e.host;
        return e;
      }
      function p(t) {
        var r,
          n,
          i,
          a,
          s = (o() - t.startTime) / 468;
        (a = s = s > 1 ? 1 : s),
          (r = 0.5 * (1 - Math.cos(Math.PI * a))),
          (n = t.startX + (t.x - t.startX) * r),
          (i = t.startY + (t.y - t.startY) * r),
          t.method.call(t.scrollable, n, i),
          (n === t.x && i === t.y) || e.requestAnimationFrame(p.bind(e, t));
      }
      function h(r, n, a) {
        var l,
          u,
          c,
          d,
          f = o();
        r === t.body ? ((l = e), (u = e.scrollX || e.pageXOffset), (c = e.scrollY || e.pageYOffset), (d = i.scroll)) : ((l = r), (u = r.scrollLeft), (c = r.scrollTop), (d = s)),
          p({ scrollable: l, method: d, startTime: f, startX: u, startY: c, x: n, y: a });
      }
    }
    var hr,
      mr = (function () {
        function e(e, t) {
          void 0 === e && (e = []), (this.timeOffset = 0), (this.raf = null), (this.actions = e), (this.speed = t);
        }
        return (
          (e.prototype.addAction = function (e) {
            var t = this.findActionIndex(e);
            this.actions.splice(t, 0, e);
          }),
          (e.prototype.addActions = function (e) {
            this.actions = this.actions.concat(e);
          }),
          (e.prototype.start = function () {
            this.timeOffset = 0;
            var e = performance.now(),
              t = this.actions,
              r = this;
            this.raf = requestAnimationFrame(function n() {
              var i = performance.now();
              for (r.timeOffset += (i - e) * r.speed, e = i; t.length; ) {
                var o = t[0];
                if (!(r.timeOffset >= o.delay)) break;
                t.shift(), o.doAction();
              }
              (t.length > 0 || r.liveMode) && (r.raf = requestAnimationFrame(n));
            });
          }),
          (e.prototype.clear = function () {
            this.raf && (cancelAnimationFrame(this.raf), (this.raf = null)), (this.actions.length = 0);
          }),
          (e.prototype.setSpeed = function (e) {
            this.speed = e;
          }),
          (e.prototype.toggleLiveMode = function (e) {
            this.liveMode = e;
          }),
          (e.prototype.isActive = function () {
            return null !== this.raf;
          }),
          (e.prototype.findActionIndex = function (e) {
            for (var t = 0, r = this.actions.length - 1; t <= r; ) {
              var n = Math.floor((t + r) / 2);
              if (this.actions[n].delay < e.delay) t = n + 1;
              else {
                if (!(this.actions[n].delay > e.delay)) return n + 1;
                r = n - 1;
              }
            }
            return t;
          }),
          e
        );
      })();
    function vr(e, t) {
      if (e.type === P.IncrementalSnapshot && e.data.source === B.MouseMove) {
        var r = e.data.positions[0].timeOffset,
          n = e.timestamp + r;
        return (e.delay = n - t), n - t;
      }
      return (e.delay = e.timestamp - t), e.delay;
    }
    /*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */ function gr(e, t) {
      var r = "function" == typeof Symbol && e[Symbol.iterator];
      if (!r) return e;
      var n,
        i,
        o = r.call(e),
        a = [];
      try {
        for (; (void 0 === t || t-- > 0) && !(n = o.next()).done; ) a.push(n.value);
      } catch (e) {
        i = { error: e };
      } finally {
        try {
          n && !n.done && (r = o.return) && r.call(o);
        } finally {
          if (i) throw i.error;
        }
      }
      return a;
    }
    !(function (e) {
      (e[(e.NotStarted = 0)] = "NotStarted"), (e[(e.Running = 1)] = "Running"), (e[(e.Stopped = 2)] = "Stopped");
    })(hr || (hr = {}));
    var yr = { type: "xstate.init" };
    function Sr(e) {
      return void 0 === e ? [] : [].concat(e);
    }
    function br(e) {
      return { type: "xstate.assign", assignment: e };
    }
    function wr(e, t) {
      return "string" == typeof (e = "string" == typeof e && t && t[e] ? t[e] : e) ? { type: e } : "function" == typeof e ? { type: e.name, exec: e } : e;
    }
    function xr(e) {
      return function (t) {
        return e === t;
      };
    }
    function Tr(e) {
      return "string" == typeof e ? { type: e } : e;
    }
    function Cr(e, t) {
      return { value: e, context: t, actions: [], changed: !1, matches: xr(e) };
    }
    function Er(e, t, r) {
      var n = t,
        i = !1;
      return [
        e.filter(function (e) {
          if ("xstate.assign" === e.type) {
            i = !0;
            var t = Object.assign({}, n);
            return (
              "function" == typeof e.assignment
                ? (t = e.assignment(n, r))
                : Object.keys(e.assignment).forEach(function (i) {
                    t[i] = "function" == typeof e.assignment[i] ? e.assignment[i](n, r) : e.assignment[i];
                  }),
              (n = t),
              !1
            );
          }
          return !0;
        }),
        n,
        i,
      ];
    }
    function Ir(e, t) {
      void 0 === t && (t = {});
      var r = gr(
          Er(
            Sr(e.states[e.initial].entry).map(function (e) {
              return wr(e, t.actions);
            }),
            e.context,
            yr,
          ),
          2,
        ),
        n = r[0],
        i = r[1],
        o = {
          config: e,
          _options: t,
          initialState: { value: e.initial, actions: n, context: i, matches: xr(e.initial) },
          transition: function (t, r) {
            var n,
              i,
              a = "string" == typeof t ? { value: t, context: e.context } : t,
              s = a.value,
              l = a.context,
              u = Tr(r),
              c = e.states[s];
            if (c.on) {
              var d = Sr(c.on[u.type]);
              try {
                for (
                  var f = (function (e) {
                      var t = "function" == typeof Symbol && Symbol.iterator,
                        r = t && e[t],
                        n = 0;
                      if (r) return r.call(e);
                      if (e && "number" == typeof e.length)
                        return {
                          next: function () {
                            return e && n >= e.length && (e = void 0), { value: e && e[n++], done: !e };
                          },
                        };
                      throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
                    })(d),
                    p = f.next();
                  !p.done;
                  p = f.next()
                ) {
                  var h = p.value;
                  if (void 0 === h) return Cr(s, l);
                  var m = "string" == typeof h ? { target: h } : h,
                    v = m.target,
                    g = m.actions,
                    y = void 0 === g ? [] : g,
                    S = m.cond,
                    b =
                      void 0 === S
                        ? function () {
                            return !0;
                          }
                        : S,
                    w = void 0 === v,
                    x = null != v ? v : s,
                    T = e.states[x];
                  if (b(l, u)) {
                    var C = gr(
                        Er(
                          (w
                            ? Sr(y)
                            : [].concat(c.exit, y, T.entry).filter(function (e) {
                                return e;
                              })
                          ).map(function (e) {
                            return wr(e, o._options.actions);
                          }),
                          l,
                          u,
                        ),
                        3,
                      ),
                      E = C[0],
                      I = C[1],
                      k = C[2],
                      M = null != v ? v : s;
                    return { value: M, context: I, actions: E, changed: v !== s || E.length > 0 || k, matches: xr(M) };
                  }
                }
              } catch (e) {
                n = { error: e };
              } finally {
                try {
                  p && !p.done && (i = f.return) && i.call(f);
                } finally {
                  if (n) throw n.error;
                }
              }
            }
            return Cr(s, l);
          },
        };
      return o;
    }
    var kr = function (e, t) {
      return e.actions.forEach(function (r) {
        var n = r.exec;
        return n && n(e.context, t);
      });
    };
    function Mr(e) {
      var t = e.initialState,
        r = hr.NotStarted,
        n = new Set(),
        i = {
          _machine: e,
          send: function (i) {
            r === hr.Running &&
              ((t = e.transition(t, i)),
              kr(t, Tr(i)),
              n.forEach(function (e) {
                return e(t);
              }));
          },
          subscribe: function (e) {
            return (
              n.add(e),
              e(t),
              {
                unsubscribe: function () {
                  return n.delete(e);
                },
              }
            );
          },
          start: function (n) {
            if (n) {
              var o = "object" == typeof n ? n : { context: e.config.context, value: n };
              t = { value: o.value, actions: [], context: o.context, matches: xr(o.value) };
            }
            return (r = hr.Running), kr(t, yr), i;
          },
          stop: function () {
            return (r = hr.Stopped), n.clear(), i;
          },
          get state() {
            return t;
          },
          get status() {
            return r;
          },
        };
      return i;
    }
    function Ar(e, t) {
      var r = t.getCastFn,
        n = t.applyEventsSynchronously,
        i = t.emitter;
      return Mr(
        Ir(
          {
            id: "player",
            context: e,
            initial: "paused",
            states: {
              playing: {
                on: {
                  PAUSE: { target: "paused", actions: ["pause"] },
                  CAST_EVENT: { target: "playing", actions: "castEvent" },
                  END: { target: "paused", actions: ["resetLastPlayedEvent", "pause"] },
                  ADD_EVENT: { target: "playing", actions: ["addEvent"] },
                },
              },
              paused: {
                on: {
                  PLAY: { target: "playing", actions: ["recordTimeOffset", "play"] },
                  CAST_EVENT: { target: "paused", actions: "castEvent" },
                  TO_LIVE: { target: "live", actions: ["startLive"] },
                  ADD_EVENT: { target: "paused", actions: ["addEvent"] },
                },
              },
              live: { on: { ADD_EVENT: { target: "live", actions: ["addEvent"] }, CAST_EVENT: { target: "live", actions: ["castEvent"] } } },
            },
          },
          {
            actions: {
              castEvent: br({
                lastPlayedEvent: function (e, t) {
                  return "CAST_EVENT" === t.type ? t.payload.event : e.lastPlayedEvent;
                },
              }),
              recordTimeOffset: br(function (e, t) {
                var r = e.timeOffset;
                return "payload" in t && "timeOffset" in t.payload && (r = t.payload.timeOffset), a(a({}, e), { timeOffset: r, baselineTime: e.events[0].timestamp + r });
              }),
              play: function (e) {
                var t,
                  o,
                  a,
                  l,
                  u,
                  c = e.timer,
                  d = e.events,
                  f = e.baselineTime,
                  p = e.lastPlayedEvent;
                c.clear();
                try {
                  for (var h = s(d), m = h.next(); !m.done; m = h.next()) {
                    vr(m.value, f);
                  }
                } catch (e) {
                  t = { error: e };
                } finally {
                  try {
                    m && !m.done && (o = h.return) && o.call(h);
                  } finally {
                    if (t) throw t.error;
                  }
                }
                var v = (function (e, t) {
                    for (var r = e.length - 1; r >= 0; r--) {
                      var n = e[r];
                      if (n.type === P.Meta && n.timestamp <= t) return e.slice(r);
                    }
                    return e;
                  })(d, f),
                  g = null == p ? void 0 : p.timestamp;
                (null == p ? void 0 : p.type) === P.IncrementalSnapshot &&
                  p.data.source === B.MouseMove &&
                  (g = p.timestamp + (null === (u = p.data.positions[0]) || void 0 === u ? void 0 : u.timeOffset)),
                  f < (g || 0) && i.emit(V.PlayBack);
                var y = new Array(),
                  S = new Array(),
                  b = function (e) {
                    if (g && g < f && (e.timestamp <= g || e === p)) return "continue";
                    if (e.timestamp < f) y.push(e);
                    else {
                      var t = r(e, !1);
                      S.push({
                        doAction: function () {
                          t();
                        },
                        delay: e.delay,
                      });
                    }
                  };
                try {
                  for (var w = s(v), x = w.next(); !x.done; x = w.next()) {
                    b(x.value);
                  }
                } catch (e) {
                  a = { error: e };
                } finally {
                  try {
                    x && !x.done && (l = w.return) && l.call(w);
                  } finally {
                    if (a) throw a.error;
                  }
                }
                n(y), i.emit(V.Flush), c.addActions(S), c.start();
              },
              pause: function (e) {
                e.timer.clear();
              },
              resetLastPlayedEvent: br(function (e) {
                return a(a({}, e), { lastPlayedEvent: null });
              }),
              startLive: br({
                baselineTime: function (e, t) {
                  return e.timer.toggleLiveMode(!0), e.timer.start(), "TO_LIVE" === t.type && t.payload.baselineTime ? t.payload.baselineTime : Date.now();
                },
              }),
              addEvent: br(function (e, t) {
                var n = e.baselineTime,
                  i = e.timer,
                  o = e.events;
                if ("ADD_EVENT" === t.type) {
                  var s = t.payload.event;
                  vr(s, n);
                  var l = o.length - 1;
                  if (!o[l] || o[l].timestamp <= s.timestamp) o.push(s);
                  else {
                    for (var u = -1, c = 0; c <= l; ) {
                      var d = Math.floor((c + l) / 2);
                      o[d].timestamp <= s.timestamp ? (c = d + 1) : (l = d - 1);
                    }
                    -1 === u && (u = c), o.splice(u, 0, s);
                  }
                  var f = s.timestamp < n,
                    p = r(s, f);
                  f
                    ? p()
                    : i.isActive() &&
                      i.addAction({
                        doAction: function () {
                          p();
                        },
                        delay: s.delay,
                      });
                }
                return a(a({}, e), { events: o });
              }),
            },
          },
        ),
      );
    }
    var Or,
      _r = function (e) {
        return ["." + e + " { background: currentColor }", "noscript { display: none !important; }"];
      };
    function Nr(e, t) {
      var r = e[t[0]];
      return 1 === t.length ? r : Nr(r.cssRules[t[1]].cssRules, t.slice(2));
    }
    function Dr(e) {
      var t = u(e),
        r = t.pop();
      return { positions: t, index: r };
    }
    function Lr(e, t) {
      var r = t.sheet;
      r &&
        e.forEach(function (e) {
          if (e.type === Or.Insert)
            try {
              if (Array.isArray(e.index)) {
                var n = Dr(e.index),
                  i = n.positions,
                  o = n.index;
                Nr(r.cssRules, i).insertRule(e.cssText, o);
              } else r.insertRule(e.cssText, e.index);
            } catch (e) {}
          else if (e.type === Or.Remove)
            try {
              if (Array.isArray(e.index)) {
                var a = Dr(e.index);
                (i = a.positions), (o = a.index);
                Nr(r.cssRules, i).deleteRule(o || 0);
              } else r.deleteRule(e.index);
            } catch (e) {}
          else if (e.type === Or.Snapshot)
            !(function (e, t) {
              var r;
              try {
                var n = Array.from((null === (r = t.sheet) || void 0 === r ? void 0 : r.cssRules) || []).map(function (e) {
                    return e.cssText;
                  }),
                  i = Object.entries(n).reverse(),
                  o = n.length;
                i.forEach(function (r) {
                  var n,
                    i = l(r, 2),
                    a = i[0],
                    s = i[1],
                    u = e.indexOf(s);
                  if (-1 === u || u > o)
                    try {
                      null === (n = t.sheet) || void 0 === n || n.deleteRule(Number(a));
                    } catch (e) {}
                  o = u;
                }),
                  e.forEach(function (e, r) {
                    var n, i, o;
                    try {
                      (null === (i = null === (n = t.sheet) || void 0 === n ? void 0 : n.cssRules[r]) || void 0 === i ? void 0 : i.cssText) !== e &&
                        (null === (o = t.sheet) || void 0 === o || o.insertRule(e, r));
                    } catch (e) {}
                  });
              } catch (e) {}
            })(e.cssTexts, t);
          else if (e.type === Or.SetProperty) {
            Nr(r.cssRules, e.index).style.setProperty(e.property, e.value, e.priority);
          } else if (e.type === Or.RemoveProperty) {
            Nr(r.cssRules, e.index).style.removeProperty(e.property);
          }
        });
    }
    !(function (e) {
      (e[(e.Insert = 0)] = "Insert"), (e[(e.Remove = 1)] = "Remove"), (e[(e.Snapshot = 2)] = "Snapshot"), (e[(e.SetProperty = 3)] = "SetProperty"), (e[(e.RemoveProperty = 4)] = "RemoveProperty");
    })(Or || (Or = {}));
    var Rr = new Map();
    function Pr(e, t) {
      var r = Rr.get(e);
      return r || ((r = new Map()), Rr.set(e, r)), r.has(t) || r.set(t, []), r.get(t);
    }
    var Br = [
      "WebGLActiveInfo",
      "WebGLBuffer",
      "WebGLFramebuffer",
      "WebGLProgram",
      "WebGLRenderbuffer",
      "WebGLShader",
      "WebGLShaderPrecisionFormat",
      "WebGLTexture",
      "WebGLUniformLocation",
      "WebGLVertexArrayObject",
    ];
    function Fr(e, t) {
      return function (r) {
        if (r && "object" == typeof r && "rr_type" in r) {
          if ("index" in r) {
            var n = r.rr_type,
              i = r.index;
            return Pr(t, n)[i];
          }
          if ("args" in r) {
            var o = r.rr_type,
              a = r.args,
              s = window[o];
            return new (s.bind.apply(s, u([void 0], a.map(Fr(e, t)))))();
          }
          if ("base64" in r)
            return (function (e) {
              var t,
                r,
                n,
                i,
                o,
                a = 0.75 * e.length,
                s = e.length,
                l = 0;
              "=" === e[e.length - 1] && (a--, "=" === e[e.length - 2] && a--);
              var u = new ArrayBuffer(a),
                c = new Uint8Array(u);
              for (t = 0; t < s; t += 4)
                (r = Ge[e.charCodeAt(t)]),
                  (n = Ge[e.charCodeAt(t + 1)]),
                  (i = Ge[e.charCodeAt(t + 2)]),
                  (o = Ge[e.charCodeAt(t + 3)]),
                  (c[l++] = (r << 2) | (n >> 4)),
                  (c[l++] = ((15 & n) << 4) | (i >> 2)),
                  (c[l++] = ((3 & i) << 6) | (63 & o));
              return u;
            })(r.base64);
          if ("src" in r) {
            var l = e.get(r.src);
            if (l) return l;
            var c = new Image();
            return (c.src = r.src), e.set(r.src, c), c;
          }
        } else if (Array.isArray(r)) return r.map(Fr(e, t));
        return r;
      };
    }
    var Ur = function (e) {
      var t = e.mutation,
        r = e.target,
        n = e.type,
        i = e.imageMap,
        o = e.errorHandler;
      try {
        var a = (function (e, t) {
          try {
            return t === U.WebGL ? e.getContext("webgl") || e.getContext("experimental-webgl") : e.getContext("webgl2");
          } catch (e) {
            return null;
          }
        })(r, n);
        if (!a) return;
        if (t.setter) return void (a[t.property] = t.args[0]);
        var s = a[t.property],
          l = t.args.map(Fr(i, a));
        !(function (e, t) {
          if (null == t ? void 0 : t.constructor) {
            var r = t.constructor.name;
            if (Br.includes(r)) {
              var n = Pr(e, r);
              n.includes(t) || n.push(t);
            }
          }
        })(a, s.apply(a, l));
      } catch (e) {
        o(t, e);
      }
    };
    var Wr = function (e) {
      var t = e.event,
        r = e.mutation,
        n = e.target,
        i = e.imageMap,
        o = e.errorHandler;
      try {
        var a = n.getContext("2d");
        if (r.setter) return void (a[r.property] = r.args[0]);
        var s = a[r.property];
        if ("drawImage" === r.property && "string" == typeof r.args[0]) {
          var l = i.get(t);
          (r.args[0] = l), s.apply(a, r.args);
        } else s.apply(a, r.args);
      } catch (e) {
        o(r, e);
      }
    };
    var Vr = function (e) {
        var t = e.event,
          r = e.mutation,
          n = e.target,
          i = e.imageMap,
          o = e.errorHandler;
        try {
          var a = "commands" in r ? r.commands : [r];
          return [U.WebGL, U.WebGL2].includes(r.type)
            ? a.forEach(function (e) {
                Ur({ mutation: e, type: r.type, target: n, imageMap: i, errorHandler: o });
              })
            : a.forEach(function (e) {
                Wr({ event: t, mutation: e, target: n, imageMap: i, errorHandler: o });
              });
        } catch (e) {
          o(r, e);
        }
      },
      Gr = fr || i,
      jr = { duration: 500, lineCap: "round", lineWidth: 3, strokeStyle: "red" };
    function Hr(e) {
      return e.type == P.IncrementalSnapshot && (e.data.source == B.TouchMove || (e.data.source == B.MouseInteraction && e.data.type == F.TouchStart));
    }
    var zr = (function () {
      function e(e, t) {
        var r = this;
        if (
          ((this.mouseTail = null),
          (this.tailPositions = []),
          (this.emitter = Gr()),
          (this.legacy_missingNodeRetryMap = {}),
          (this.cache = z()),
          (this.imageMap = new Map()),
          (this.mirror = {
            map: {},
            getId: function (e) {
              return e && e.__sn ? e.__sn.id : -1;
            },
            getNode: function (e) {
              return this.map[e] || null;
            },
            removeNodeFromMap: function (e) {
              var t = this,
                r = e.__sn && e.__sn.id;
              delete this.map[r],
                e.childNodes &&
                  e.childNodes.forEach(function (e) {
                    return t.removeNodeFromMap(e);
                  });
            },
            has: function (e) {
              return this.map.hasOwnProperty(e);
            },
            reset: function () {
              this.map = {};
            },
          }),
          (this.firstFullSnapshot = null),
          (this.newDocumentQueue = []),
          (this.mousePos = null),
          (this.touchActive = null),
          !(null == t ? void 0 : t.liveMode) && e.length < 2)
        )
          throw new Error("Replayer need at least 2 events.");
        var n = {
          speed: 1,
          maxSpeed: 360,
          root: document.body,
          loadTimeout: 0,
          skipInactive: !1,
          showWarning: !0,
          showDebug: !1,
          blockClass: "rr-block",
          liveMode: !1,
          insertStyleRules: [],
          triggerFocus: !0,
          UNSAFE_replayCanvas: !1,
          pauseAnimation: !0,
          mouseTail: jr,
        };
        (this.config = Object.assign({}, n, t)),
          (this.handleResize = this.handleResize.bind(this)),
          (this.getCastFn = this.getCastFn.bind(this)),
          (this.applyEventsSynchronously = this.applyEventsSynchronously.bind(this)),
          this.emitter.on(V.Resize, this.handleResize),
          this.setupDom(),
          (this.treeIndex = new ue()),
          (this.fragmentParentMap = new Map()),
          (this.elementStateMap = new Map()),
          (this.virtualStyleRulesMap = new Map()),
          this.emitter.on(V.Flush, function () {
            var e,
              t,
              n,
              i,
              o,
              a,
              l = r.treeIndex.flush(),
              u = l.scrollMap,
              c = l.inputMap;
            r.fragmentParentMap.forEach(function (e, t) {
              return r.restoreRealParent(t, e);
            });
            try {
              for (var d = s(r.virtualStyleRulesMap.keys()), f = d.next(); !f.done; f = d.next()) {
                var p = f.value;
                r.restoreNodeSheet(p);
              }
            } catch (t) {
              e = { error: t };
            } finally {
              try {
                f && !f.done && (t = d.return) && t.call(d);
              } finally {
                if (e) throw e.error;
              }
            }
            r.fragmentParentMap.clear(), r.elementStateMap.clear(), r.virtualStyleRulesMap.clear();
            try {
              for (var h = s(u.values()), m = h.next(); !m.done; m = h.next()) {
                var v = m.value;
                r.applyScroll(v, !0);
              }
            } catch (e) {
              n = { error: e };
            } finally {
              try {
                m && !m.done && (i = h.return) && i.call(h);
              } finally {
                if (n) throw n.error;
              }
            }
            try {
              for (var g = s(c.values()), y = g.next(); !y.done; y = g.next()) {
                v = y.value;
                r.applyInput(v);
              }
            } catch (e) {
              o = { error: e };
            } finally {
              try {
                y && !y.done && (a = g.return) && a.call(g);
              } finally {
                if (o) throw o.error;
              }
            }
          }),
          this.emitter.on(V.PlayBack, function () {
            (r.firstFullSnapshot = null), r.mirror.reset();
          });
        var i = new mr([], (null == t ? void 0 : t.speed) || n.speed);
        (this.service = Ar(
          {
            events: e
              .map(function (e) {
                return t && t.unpackFn ? t.unpackFn(e) : e;
              })
              .sort(function (e, t) {
                return e.timestamp - t.timestamp;
              }),
            timer: i,
            timeOffset: 0,
            baselineTime: 0,
            lastPlayedEvent: null,
          },
          { getCastFn: this.getCastFn, applyEventsSynchronously: this.applyEventsSynchronously, emitter: this.emitter },
        )),
          this.service.start(),
          this.service.subscribe(function (e) {
            r.emitter.emit(V.StateChange, { player: e });
          }),
          (this.speedService = Mr(
            Ir(
              {
                id: "speed",
                context: { normalSpeed: -1, timer: i },
                initial: "normal",
                states: {
                  normal: { on: { FAST_FORWARD: { target: "skipping", actions: ["recordSpeed", "setSpeed"] }, SET_SPEED: { target: "normal", actions: ["setSpeed"] } } },
                  skipping: { on: { BACK_TO_NORMAL: { target: "normal", actions: ["restoreSpeed"] }, SET_SPEED: { target: "normal", actions: ["setSpeed"] } } },
                },
              },
              {
                actions: {
                  setSpeed: function (e, t) {
                    "payload" in t && e.timer.setSpeed(t.payload.speed);
                  },
                  recordSpeed: br({
                    normalSpeed: function (e) {
                      return e.timer.speed;
                    },
                  }),
                  restoreSpeed: function (e) {
                    e.timer.setSpeed(e.normalSpeed);
                  },
                },
              },
            ),
          )),
          this.speedService.start(),
          this.speedService.subscribe(function (e) {
            r.emitter.emit(V.StateChange, { speed: e });
          });
        var o = this.service.state.context.events.find(function (e) {
            return e.type === P.Meta;
          }),
          a = this.service.state.context.events.find(function (e) {
            return e.type === P.FullSnapshot;
          });
        if (o) {
          var l = o.data,
            u = l.width,
            c = l.height;
          setTimeout(function () {
            r.emitter.emit(V.Resize, { width: u, height: c });
          }, 0);
        }
        a &&
          setTimeout(function () {
            r.firstFullSnapshot || ((r.firstFullSnapshot = a), r.rebuildFullSnapshot(a), r.iframe.contentWindow.scrollTo(a.data.initialOffset));
          }, 1),
          this.service.state.context.events.find(Hr) && this.mouse.classList.add("touch-device");
      }
      return (
        Object.defineProperty(e.prototype, "timer", {
          get: function () {
            return this.service.state.context.timer;
          },
          enumerable: !1,
          configurable: !0,
        }),
        (e.prototype.on = function (e, t) {
          return this.emitter.on(e, t), this;
        }),
        (e.prototype.off = function (e, t) {
          return this.emitter.off(e, t), this;
        }),
        (e.prototype.setConfig = function (e) {
          var t = this;
          Object.keys(e).forEach(function (r) {
            t.config[r] = e[r];
          }),
            this.config.skipInactive || this.backToNormal(),
            void 0 !== e.speed && this.speedService.send({ type: "SET_SPEED", payload: { speed: e.speed } }),
            void 0 !== e.mouseTail &&
              (!1 === e.mouseTail
                ? this.mouseTail && (this.mouseTail.style.display = "none")
                : (this.mouseTail ||
                    ((this.mouseTail = document.createElement("canvas")),
                    (this.mouseTail.width = Number.parseFloat(this.iframe.width)),
                    (this.mouseTail.height = Number.parseFloat(this.iframe.height)),
                    this.mouseTail.classList.add("replayer-mouse-tail"),
                    this.wrapper.insertBefore(this.mouseTail, this.iframe)),
                  (this.mouseTail.style.display = "inherit")));
        }),
        (e.prototype.getMetaData = function () {
          var e = this.service.state.context.events[0],
            t = this.service.state.context.events[this.service.state.context.events.length - 1];
          return { startTime: e.timestamp, endTime: t.timestamp, totalTime: t.timestamp - e.timestamp };
        }),
        (e.prototype.getCurrentTime = function () {
          return this.timer.timeOffset + this.getTimeOffset();
        }),
        (e.prototype.getTimeOffset = function () {
          var e = this.service.state.context;
          return e.baselineTime - e.events[0].timestamp;
        }),
        (e.prototype.getMirror = function () {
          return this.mirror;
        }),
        (e.prototype.play = function (e) {
          var t;
          void 0 === e && (e = 0),
            this.service.state.matches("paused") || this.service.send({ type: "PAUSE" }),
            this.service.send({ type: "PLAY", payload: { timeOffset: e } }),
            null === (t = this.iframe.contentDocument) || void 0 === t || t.getElementsByTagName("html")[0].classList.remove("rrweb-paused"),
            this.emitter.emit(V.Start);
        }),
        (e.prototype.pause = function (e) {
          var t;
          void 0 === e && this.service.state.matches("playing") && this.service.send({ type: "PAUSE" }),
            "number" == typeof e && (this.play(e), this.service.send({ type: "PAUSE" })),
            null === (t = this.iframe.contentDocument) || void 0 === t || t.getElementsByTagName("html")[0].classList.add("rrweb-paused"),
            this.emitter.emit(V.Pause);
        }),
        (e.prototype.resume = function (e) {
          void 0 === e && (e = 0), console.warn("The 'resume' will be departed in 1.0. Please use 'play' method which has the same interface."), this.play(e), this.emitter.emit(V.Resume);
        }),
        (e.prototype.startLive = function (e) {
          this.service.send({ type: "TO_LIVE", payload: { baselineTime: e } });
        }),
        (e.prototype.addEvent = function (e) {
          var t = this,
            r = this.config.unpackFn ? this.config.unpackFn(e) : e;
          Hr(r) && this.mouse.classList.add("touch-device"),
            Promise.resolve().then(function () {
              return t.service.send({ type: "ADD_EVENT", payload: { event: r } });
            });
        }),
        (e.prototype.enableInteract = function () {
          this.iframe.setAttribute("scrolling", "auto"), (this.iframe.style.pointerEvents = "auto");
        }),
        (e.prototype.disableInteract = function () {
          this.iframe.setAttribute("scrolling", "no"), (this.iframe.style.pointerEvents = "none");
        }),
        (e.prototype.resetCache = function () {
          this.cache = z();
        }),
        (e.prototype.setupDom = function () {
          (this.wrapper = document.createElement("div")),
            this.wrapper.classList.add("replayer-wrapper"),
            this.config.root.appendChild(this.wrapper),
            (this.mouse = document.createElement("div")),
            this.mouse.classList.add("replayer-mouse"),
            this.wrapper.appendChild(this.mouse),
            !1 !== this.config.mouseTail &&
              ((this.mouseTail = document.createElement("canvas")),
              this.mouseTail.classList.add("replayer-mouse-tail"),
              (this.mouseTail.style.display = "inherit"),
              this.wrapper.appendChild(this.mouseTail)),
            (this.iframe = document.createElement("iframe"));
          var e = ["allow-same-origin"];
          this.config.UNSAFE_replayCanvas && e.push("allow-scripts"),
            (this.iframe.style.display = "none"),
            this.iframe.setAttribute("sandbox", e.join(" ")),
            this.disableInteract(),
            this.wrapper.appendChild(this.iframe),
            this.iframe.contentWindow && this.iframe.contentDocument && (pr(this.iframe.contentWindow, this.iframe.contentDocument), le(this.iframe.contentWindow));
        }),
        (e.prototype.handleResize = function (e) {
          var t, r;
          this.iframe.style.display = "inherit";
          try {
            for (var n = s([this.mouseTail, this.iframe]), i = n.next(); !i.done; i = n.next()) {
              var o = i.value;
              o && (o.setAttribute("width", String(e.width)), o.setAttribute("height", String(e.height)));
            }
          } catch (e) {
            t = { error: e };
          } finally {
            try {
              i && !i.done && (r = n.return) && r.call(n);
            } finally {
              if (t) throw t.error;
            }
          }
        }),
        (e.prototype.applyEventsSynchronously = function (e) {
          var t, r;
          try {
            for (var n = s(e), i = n.next(); !i.done; i = n.next()) {
              var o = i.value;
              switch (o.type) {
                case P.DomContentLoaded:
                case P.Load:
                case P.Custom:
                  continue;
                case P.FullSnapshot:
                case P.Meta:
                case P.Plugin:
                  break;
                case P.IncrementalSnapshot:
                  switch (o.data.source) {
                    case B.MediaInteraction:
                      continue;
                  }
              }
              this.getCastFn(o, !0)();
            }
          } catch (e) {
            t = { error: e };
          } finally {
            try {
              i && !i.done && (r = n.return) && r.call(n);
            } finally {
              if (t) throw t.error;
            }
          }
          this.mousePos && this.moveAndHover(this.mousePos.x, this.mousePos.y, this.mousePos.id, !0, this.mousePos.debugData),
            (this.mousePos = null),
            !0 === this.touchActive ? this.mouse.classList.add("touch-active") : !1 === this.touchActive && this.mouse.classList.remove("touch-active"),
            (this.touchActive = null);
        }),
        (e.prototype.getCastFn = function (e, t) {
          var r,
            n = this;
          switch ((void 0 === t && (t = !1), e.type)) {
            case P.DomContentLoaded:
            case P.Load:
              break;
            case P.Custom:
              r = function () {
                n.emitter.emit(V.CustomEvent, e);
              };
              break;
            case P.Meta:
              r = function () {
                return n.emitter.emit(V.Resize, { width: e.data.width, height: e.data.height });
              };
              break;
            case P.FullSnapshot:
              r = function () {
                if (n.firstFullSnapshot) {
                  if (n.firstFullSnapshot === e) return void (n.firstFullSnapshot = !0);
                } else n.firstFullSnapshot = !0;
                n.rebuildFullSnapshot(e, t), n.iframe.contentWindow.scrollTo(e.data.initialOffset);
              };
              break;
            case P.IncrementalSnapshot:
              r = function () {
                var r, i;
                if (
                  (n.applyIncremental(e, t), !t && (e === n.nextUserInteractionEvent && ((n.nextUserInteractionEvent = null), n.backToNormal()), n.config.skipInactive && !n.nextUserInteractionEvent))
                ) {
                  try {
                    for (var o = s(n.service.state.context.events), a = o.next(); !a.done; a = o.next()) {
                      var l = a.value;
                      if (!(l.timestamp <= e.timestamp) && n.isUserInteraction(l)) {
                        l.delay - e.delay > 1e4 * n.speedService.state.context.timer.speed && (n.nextUserInteractionEvent = l);
                        break;
                      }
                    }
                  } catch (e) {
                    r = { error: e };
                  } finally {
                    try {
                      a && !a.done && (i = o.return) && i.call(o);
                    } finally {
                      if (r) throw r.error;
                    }
                  }
                  if (n.nextUserInteractionEvent) {
                    var u = n.nextUserInteractionEvent.delay - e.delay,
                      c = { speed: Math.min(Math.round(u / 5e3), n.config.maxSpeed) };
                    n.speedService.send({ type: "FAST_FORWARD", payload: c }), n.emitter.emit(V.SkipStart, c);
                  }
                }
              };
          }
          return function () {
            var i, o;
            r && r();
            try {
              for (var a = s(n.config.plugins || []), l = a.next(); !l.done; l = a.next()) {
                l.value.handler(e, t, { replayer: n });
              }
            } catch (e) {
              i = { error: e };
            } finally {
              try {
                l && !l.done && (o = a.return) && o.call(a);
              } finally {
                if (i) throw i.error;
              }
            }
            n.service.send({ type: "CAST_EVENT", payload: { event: e } });
            var u = n.service.state.context.events.length - 1;
            if (e === n.service.state.context.events[u]) {
              var c = function () {
                u < n.service.state.context.events.length - 1 || (n.backToNormal(), n.service.send("END"), n.emitter.emit(V.Finish));
              };
              e.type === P.IncrementalSnapshot && e.data.source === B.MouseMove && e.data.positions.length
                ? setTimeout(function () {
                    c();
                  }, Math.max(0, 50 - e.data.positions[0].timeOffset))
                : c();
            }
            n.emitter.emit(V.EventCast, e);
          };
        }),
        (e.prototype.rebuildFullSnapshot = function (e, t) {
          var r,
            n,
            i = this;
          if ((void 0 === t && (t = !1), !this.iframe.contentDocument)) return console.warn("Looks like your replayer has been destroyed.");
          Object.keys(this.legacy_missingNodeRetryMap).length && console.warn("Found unresolved missing node map", this.legacy_missingNodeRetryMap), (this.legacy_missingNodeRetryMap = {});
          var o = [];
          this.mirror.map = K(e.data.node, {
            doc: this.iframe.contentDocument,
            afterAppend: function (e) {
              i.collectIframeAndAttachDocument(o, e);
            },
            cache: this.cache,
          })[1];
          var a = function (e, t) {
              l.attachDocumentToIframe(e, t),
                (l.newDocumentQueue = l.newDocumentQueue.filter(function (t) {
                  return t !== e;
                }));
            },
            l = this;
          try {
            for (var u = s(o), c = u.next(); !c.done; c = u.next()) {
              var d = c.value;
              a(d.mutationInQueue, d.builtNode);
            }
          } catch (e) {
            r = { error: e };
          } finally {
            try {
              c && !c.done && (n = u.return) && n.call(u);
            } finally {
              if (r) throw r.error;
            }
          }
          var f = this.iframe.contentDocument,
            p = f.documentElement,
            h = f.head;
          this.insertStyleRules(p, h),
            this.service.state.matches("playing") || this.iframe.contentDocument.getElementsByTagName("html")[0].classList.add("rrweb-paused"),
            this.emitter.emit(V.FullsnapshotRebuilded, e),
            t || this.waitForStylesheetLoad(),
            this.config.UNSAFE_replayCanvas && this.preloadAllImages();
        }),
        (e.prototype.insertStyleRules = function (e, t) {
          var r = document.createElement("style");
          e.insertBefore(r, t);
          var n = _r(this.config.blockClass).concat(this.config.insertStyleRules);
          this.config.pauseAnimation && n.push("html.rrweb-paused *, html.rrweb-paused *:before, html.rrweb-paused *:after { animation-play-state: paused !important; }");
          for (var i = 0; i < n.length; i++) r.sheet.insertRule(n[i], i);
        }),
        (e.prototype.attachDocumentToIframe = function (e, t) {
          var r,
            n,
            i = this,
            a = [];
          if (!t.contentDocument)
            for (var l = t.parentNode; l; ) {
              if (this.fragmentParentMap.has(l)) {
                var u = l,
                  c = this.fragmentParentMap.get(u);
                this.restoreRealParent(u, c);
                break;
              }
              l = l.parentNode;
            }
          J(e.node, {
            doc: t.contentDocument,
            map: this.mirror.map,
            hackCss: !0,
            skipChild: !1,
            afterAppend: function (e) {
              if ((i.collectIframeAndAttachDocument(a, e), e.__sn.type === o.Element && "HTML" === e.__sn.tagName.toUpperCase())) {
                var r = t.contentDocument,
                  n = r.documentElement,
                  s = r.head;
                i.insertStyleRules(n, s);
              }
            },
            cache: this.cache,
          });
          var d = function (e, t) {
              f.attachDocumentToIframe(e, t),
                (f.newDocumentQueue = f.newDocumentQueue.filter(function (t) {
                  return t !== e;
                }));
            },
            f = this;
          try {
            for (var p = s(a), h = p.next(); !h.done; h = p.next()) {
              var m = h.value;
              d(m.mutationInQueue, m.builtNode);
            }
          } catch (e) {
            r = { error: e };
          } finally {
            try {
              h && !h.done && (n = p.return) && n.call(p);
            } finally {
              if (r) throw r.error;
            }
          }
        }),
        (e.prototype.collectIframeAndAttachDocument = function (e, t) {
          if (fe(t)) {
            var r = this.newDocumentQueue.find(function (e) {
              return e.parentId === t.__sn.id;
            });
            r && e.push({ mutationInQueue: r, builtNode: t });
          }
        }),
        (e.prototype.waitForStylesheetLoad = function () {
          var e,
            t = this,
            r = null === (e = this.iframe.contentDocument) || void 0 === e ? void 0 : e.head;
          if (r) {
            var n,
              i = new Set(),
              o = this.service.state,
              a = function () {
                o = t.service.state;
              };
            this.emitter.on(V.Start, a), this.emitter.on(V.Pause, a);
            var s = function () {
              t.emitter.off(V.Start, a), t.emitter.off(V.Pause, a);
            };
            r.querySelectorAll('link[rel="stylesheet"]').forEach(function (e) {
              e.sheet ||
                (i.add(e),
                e.addEventListener("load", function () {
                  i.delete(e), 0 === i.size && -1 !== n && (o.matches("playing") && t.play(t.getCurrentTime()), t.emitter.emit(V.LoadStylesheetEnd), n && clearTimeout(n), s());
                }));
            }),
              i.size > 0 &&
                (this.service.send({ type: "PAUSE" }),
                this.emitter.emit(V.LoadStylesheetStart),
                (n = setTimeout(function () {
                  o.matches("playing") && t.play(t.getCurrentTime()), (n = -1), s();
                }, this.config.loadTimeout)));
          }
        }),
        (e.prototype.hasImageArg = function (e) {
          var t, r;
          try {
            for (var n = s(e), i = n.next(); !i.done; i = n.next()) {
              var o = i.value;
              if (o && "object" == typeof o)
                if ("rr_type" in o && "args" in o) {
                  if (this.hasImageArg(o.args)) return !0;
                } else {
                  if ("rr_type" in o && "HTMLImageElement" === o.rr_type) return !0;
                  if (o instanceof Array && this.hasImageArg(o)) return !0;
                }
              else;
            }
          } catch (e) {
            t = { error: e };
          } finally {
            try {
              i && !i.done && (r = n.return) && r.call(n);
            } finally {
              if (t) throw t.error;
            }
          }
          return !1;
        }),
        (e.prototype.getImageArgs = function (e) {
          var t,
            r,
            n = [];
          try {
            for (var i = s(e), o = i.next(); !o.done; o = i.next()) {
              var a = o.value;
              a &&
                "object" == typeof a &&
                ("rr_type" in a && "args" in a
                  ? n.push.apply(n, u(this.getImageArgs(a.args)))
                  : "rr_type" in a && "HTMLImageElement" === a.rr_type
                  ? n.push(a.src)
                  : a instanceof Array && n.push.apply(n, u(this.getImageArgs(a))));
            }
          } catch (e) {
            t = { error: e };
          } finally {
            try {
              o && !o.done && (r = i.return) && r.call(i);
            } finally {
              if (t) throw t.error;
            }
          }
          return n;
        }),
        (e.prototype.preloadAllImages = function () {
          var e,
            t,
            r = this;
          this.service.state;
          var n = function () {
            r.service.state;
          };
          this.emitter.on(V.Start, n), this.emitter.on(V.Pause, n);
          var i = function (e) {
              e.type === P.IncrementalSnapshot &&
                e.data.source === B.CanvasMutation &&
                ("commands" in e.data
                  ? e.data.commands.forEach(function (t) {
                      return r.preloadImages(t, e);
                    })
                  : o.preloadImages(e.data, e));
            },
            o = this;
          try {
            for (var a = s(this.service.state.context.events), l = a.next(); !l.done; l = a.next()) {
              i(l.value);
            }
          } catch (t) {
            e = { error: t };
          } finally {
            try {
              l && !l.done && (t = a.return) && t.call(a);
            } finally {
              if (e) throw e.error;
            }
          }
        }),
        (e.prototype.preloadImages = function (e, t) {
          var r = this;
          if ("drawImage" !== e.property || "string" != typeof e.args[0] || this.imageMap.has(t))
            this.hasImageArg(e.args) &&
              this.getImageArgs(e.args).forEach(function (e) {
                var t = new Image();
                (t.src = e), r.imageMap.set(e, t);
              });
          else {
            var n = document.createElement("canvas"),
              i = n.getContext("2d"),
              o = null == i ? void 0 : i.createImageData(n.width, n.height);
            null == o || o.data, JSON.parse(e.args[0]), null == i || i.putImageData(o, 0, 0);
          }
        }),
        (e.prototype.applyIncremental = function (e, t) {
          var r,
            n,
            i = this,
            o = e.data;
          switch (o.source) {
            case B.Mutation:
              t &&
                (o.adds.forEach(function (e) {
                  return i.treeIndex.add(e);
                }),
                o.texts.forEach(function (e) {
                  return i.treeIndex.text(e);
                }),
                o.attributes.forEach(function (e) {
                  return i.treeIndex.attribute(e);
                }),
                o.removes.forEach(function (e) {
                  return i.treeIndex.remove(e, i.mirror);
                }));
              try {
                this.applyMutation(o, t);
              } catch (e) {
                this.warn("Exception in mutation " + (e.message || e), o);
              }
              break;
            case B.Drag:
            case B.TouchMove:
            case B.MouseMove:
              if (t) {
                var s = o.positions[o.positions.length - 1];
                this.mousePos = { x: s.x, y: s.y, id: s.id, debugData: o };
              } else
                o.positions.forEach(function (r) {
                  var n = {
                    doAction: function () {
                      i.moveAndHover(r.x, r.y, r.id, t, o);
                    },
                    delay: r.timeOffset + e.timestamp - i.service.state.context.baselineTime,
                  };
                  i.timer.addAction(n);
                }),
                  this.timer.addAction({ doAction: function () {}, delay: e.delay - (null === (r = o.positions[0]) || void 0 === r ? void 0 : r.timeOffset) });
              break;
            case B.MouseInteraction:
              if (-1 === o.id) break;
              var l = new Event(F[o.type].toLowerCase());
              if (!(S = this.mirror.getNode(o.id))) return this.debugNodeNotFound(o, o.id);
              this.emitter.emit(V.MouseInteraction, { type: o.type, target: S });
              var u = this.config.triggerFocus;
              switch (o.type) {
                case F.Blur:
                  "blur" in S && S.blur();
                  break;
                case F.Focus:
                  u && S.focus && S.focus({ preventScroll: !0 });
                  break;
                case F.Click:
                case F.TouchStart:
                case F.TouchEnd:
                  t
                    ? (o.type === F.TouchStart ? (this.touchActive = !0) : o.type === F.TouchEnd && (this.touchActive = !1), (this.mousePos = { x: o.x, y: o.y, id: o.id, debugData: o }))
                    : (o.type === F.TouchStart && (this.tailPositions.length = 0),
                      this.moveAndHover(o.x, o.y, o.id, t, o),
                      o.type === F.Click
                        ? (this.mouse.classList.remove("active"), this.mouse.offsetWidth, this.mouse.classList.add("active"))
                        : o.type === F.TouchStart
                        ? (this.mouse.offsetWidth, this.mouse.classList.add("touch-active"))
                        : o.type === F.TouchEnd && this.mouse.classList.remove("touch-active"));
                  break;
                case F.TouchCancel:
                  t ? (this.touchActive = !1) : this.mouse.classList.remove("touch-active");
                  break;
                default:
                  S.dispatchEvent(l);
              }
              break;
            case B.Scroll:
              if (-1 === o.id) break;
              if (t) {
                this.treeIndex.scroll(o);
                break;
              }
              this.applyScroll(o, !1);
              break;
            case B.ViewportResize:
              this.emitter.emit(V.Resize, { width: o.width, height: o.height });
              break;
            case B.Input:
              if (-1 === o.id) break;
              if (t) {
                this.treeIndex.input(o);
                break;
              }
              this.applyInput(o);
              break;
            case B.MediaInteraction:
              if (!(S = this.mirror.getNode(o.id))) return this.debugNodeNotFound(o, o.id);
              var c = S;
              try {
                o.currentTime && (c.currentTime = o.currentTime), o.volume && (c.volume = o.volume), o.muted && (c.muted = o.muted), 1 === o.type && c.pause(), 0 === o.type && c.play();
              } catch (e) {
                this.config.showWarning && console.warn("Failed to replay media interactions: " + (e.message || e));
              }
              break;
            case B.StyleSheetRule:
              if (!(S = this.mirror.getNode(o.id))) return this.debugNodeNotFound(o, o.id);
              var d,
                f = S,
                p = S.parentNode,
                h = this.fragmentParentMap.has(p),
                m = h ? null : f.sheet;
              m || (this.virtualStyleRulesMap.has(S) ? (d = this.virtualStyleRulesMap.get(S)) : ((d = []), this.virtualStyleRulesMap.set(S, d))),
                o.adds &&
                  o.adds.forEach(function (e) {
                    var t = e.rule,
                      r = e.index;
                    if (m)
                      try {
                        if (Array.isArray(r)) {
                          var n = Dr(r),
                            i = n.positions,
                            o = n.index;
                          Nr(m.cssRules, i).insertRule(t, o);
                        } else {
                          o = void 0 === r ? void 0 : Math.min(r, m.cssRules.length);
                          m.insertRule(t, o);
                        }
                      } catch (e) {}
                    else null == d || d.push({ cssText: t, index: r, type: Or.Insert });
                  }),
                o.removes &&
                  o.removes.forEach(function (e) {
                    var t = e.index;
                    if (h) null == d || d.push({ index: t, type: Or.Remove });
                    else
                      try {
                        if (Array.isArray(t)) {
                          var r = Dr(t),
                            n = r.positions,
                            i = r.index;
                          Nr(m.cssRules, n).deleteRule(i || 0);
                        } else null == m || m.deleteRule(t);
                      } catch (e) {}
                  });
              break;
            case B.StyleDeclaration:
              if (!(S = this.mirror.getNode(o.id))) return this.debugNodeNotFound(o, o.id);
              f = S;
              var v = S.parentNode,
                g = this.fragmentParentMap.has(v) ? null : f.sheet,
                y = [];
              if ((g || (this.virtualStyleRulesMap.has(S) ? (y = this.virtualStyleRulesMap.get(S)) : ((y = []), this.virtualStyleRulesMap.set(S, y))), o.set))
                if (g) Nr(g.rules, o.index).style.setProperty(o.set.property, o.set.value, o.set.priority);
                else y.push(a({ type: Or.SetProperty, index: o.index }, o.set));
              if (o.remove)
                if (g) Nr(g.rules, o.index).style.removeProperty(o.remove.property);
                else y.push(a({ type: Or.RemoveProperty, index: o.index }, o.remove));
              break;
            case B.CanvasMutation:
              if (!this.config.UNSAFE_replayCanvas) return;
              var S;
              if (!(S = this.mirror.getNode(o.id))) return this.debugNodeNotFound(o, o.id);
              Vr({ event: e, mutation: o, target: S, imageMap: this.imageMap, errorHandler: this.warnCanvasMutationFailed.bind(this) });
              break;
            case B.Font:
              try {
                var b = new FontFace(o.family, o.buffer ? new Uint8Array(JSON.parse(o.fontSource)) : o.fontSource, o.descriptors);
                null === (n = this.iframe.contentDocument) || void 0 === n || n.fonts.add(b);
              } catch (e) {
                this.config.showWarning && console.warn(e);
              }
          }
        }),
        (e.prototype.applyMutation = function (e, t) {
          var r,
            n,
            i = this;
          e.removes.forEach(function (t) {
            var r = i.mirror.getNode(t.id);
            if (!r) {
              if (
                e.removes.find(function (e) {
                  return e.id === t.parentId;
                })
              )
                return;
              return i.warnNodeNotFound(e, t.id);
            }
            i.virtualStyleRulesMap.has(r) && i.virtualStyleRulesMap.delete(r);
            var n = i.mirror.getNode(t.parentId);
            if (!n) return i.warnNodeNotFound(e, t.parentId);
            if ((t.isShadow && he(n) && (n = n.shadowRoot), i.mirror.removeNodeFromMap(r), n)) {
              var o = null,
                a = "__sn" in n ? i.fragmentParentMap.get(n) : void 0;
              a && a.contains(r) ? (n = a) : i.fragmentParentMap.has(r) && ((o = i.fragmentParentMap.get(r)), i.fragmentParentMap.delete(r), (r = o));
              try {
                n.removeChild(r);
              } catch (t) {
                if (!(t instanceof DOMException)) throw t;
                i.warn("parent could not remove child in mutation", n, a, r, o, e);
              }
            }
          });
          var l = a({}, this.legacy_missingNodeRetryMap),
            u = [],
            c = function (e) {
              var r, n, a, c;
              if (!i.iframe.contentDocument) return console.warn("Looks like your replayer has been destroyed.");
              var d = i.mirror.getNode(e.parentId);
              if (!d) return e.node.type === o.Document ? i.newDocumentQueue.push(e) : u.push(e);
              var f = null;
              i.iframe.contentDocument.contains ? (f = i.iframe.contentDocument.contains(d)) : i.iframe.contentDocument.body.contains && (f = i.iframe.contentDocument.body.contains(d));
              var p = (null === (c = (a = d).getElementsByTagName) || void 0 === c ? void 0 : c.call(a, "iframe").length) > 0;
              if (t && f && !fe(d) && !p) {
                var h = document.createDocumentFragment();
                for (i.mirror.map[e.parentId] = h, i.fragmentParentMap.set(h, d), i.storeState(d); d.firstChild; ) h.appendChild(d.firstChild);
                d = h;
              }
              e.node.isShadow && he(d) && (d = d.shadowRoot);
              var m = null,
                v = null;
              if (
                (e.previousId && (m = i.mirror.getNode(e.previousId)),
                e.nextId && (v = i.mirror.getNode(e.nextId)),
                (function (e) {
                  var t = null;
                  return e.nextId && (t = i.mirror.getNode(e.nextId)), null !== e.nextId && void 0 !== e.nextId && -1 !== e.nextId && !t;
                })(e))
              )
                return u.push(e);
              if (!e.node.rootId || i.mirror.getNode(e.node.rootId)) {
                var g = e.node.rootId ? i.mirror.getNode(e.node.rootId) : i.iframe.contentDocument;
                if (fe(d)) i.attachDocumentToIframe(e, d);
                else {
                  var y = J(e.node, { doc: g, map: i.mirror.map, skipChild: !0, hackCss: !0, cache: i.cache });
                  if (-1 !== e.previousId && -1 !== e.nextId) {
                    if ("__sn" in d && d.__sn.type === o.Element && "textarea" === d.__sn.tagName && e.node.type === o.Text)
                      try {
                        for (var S = s(Array.from(d.childNodes)), b = S.next(); !b.done; b = S.next()) {
                          var w = b.value;
                          w.nodeType === d.TEXT_NODE && d.removeChild(w);
                        }
                      } catch (e) {
                        r = { error: e };
                      } finally {
                        try {
                          b && !b.done && (n = S.return) && n.call(S);
                        } finally {
                          if (r) throw r.error;
                        }
                      }
                    if (m && m.nextSibling && m.nextSibling.parentNode) d.insertBefore(y, m.nextSibling);
                    else if (v && v.parentNode) d.contains(v) ? d.insertBefore(y, v) : d.insertBefore(y, null);
                    else {
                      if (d === g) for (; g.firstChild; ) g.removeChild(g.firstChild);
                      d.appendChild(y);
                    }
                    if (fe(y)) {
                      var x = i.newDocumentQueue.find(function (e) {
                        return e.parentId === y.__sn.id;
                      });
                      x &&
                        (i.attachDocumentToIframe(x, y),
                        (i.newDocumentQueue = i.newDocumentQueue.filter(function (e) {
                          return e !== x;
                        })));
                    }
                    (e.previousId || e.nextId) && i.legacy_resolveMissingNode(l, d, y, e);
                  } else l[e.node.id] = { node: y, mutation: e };
                }
              }
            };
          e.adds.forEach(function (e) {
            c(e);
          });
          for (var d = Date.now(); u.length; ) {
            var f = ce(u);
            if (((u.length = 0), Date.now() - d > 500)) {
              this.warn("Timeout in the loop, please check the resolve tree data:", f);
              break;
            }
            try {
              for (var p = ((r = void 0), s(f)), h = p.next(); !h.done; h = p.next()) {
                var m = h.value;
                this.mirror.getNode(m.value.parentId)
                  ? de(m, function (e) {
                      c(e);
                    })
                  : this.debug("Drop resolve tree since there is no parent for the root node.", m);
              }
            } catch (e) {
              r = { error: e };
            } finally {
              try {
                h && !h.done && (n = p.return) && n.call(p);
              } finally {
                if (r) throw r.error;
              }
            }
          }
          Object.keys(l).length && Object.assign(this.legacy_missingNodeRetryMap, l),
            e.texts.forEach(function (t) {
              var r = i.mirror.getNode(t.id);
              if (!r) {
                if (
                  e.removes.find(function (e) {
                    return e.id === t.id;
                  })
                )
                  return;
                return i.warnNodeNotFound(e, t.id);
              }
              i.fragmentParentMap.has(r) && (r = i.fragmentParentMap.get(r)), (r.textContent = t.value);
            }),
            e.attributes.forEach(function (t) {
              var r = i.mirror.getNode(t.id);
              if (!r) {
                if (
                  e.removes.find(function (e) {
                    return e.id === t.id;
                  })
                )
                  return;
                return i.warnNodeNotFound(e, t.id);
              }
              for (var n in (i.fragmentParentMap.has(r) && (r = i.fragmentParentMap.get(r)), t.attributes))
                if ("string" == typeof n) {
                  var o = t.attributes[n];
                  if (null === o) r.removeAttribute(n);
                  else if ("string" == typeof o)
                    try {
                      r.setAttribute(n, o);
                    } catch (e) {
                      i.config.showWarning && console.warn("An error occurred may due to the checkout feature.", e);
                    }
                  else if ("style" === n) {
                    var a = o,
                      s = r;
                    for (var l in a)
                      if (!1 === a[l]) s.style.removeProperty(l);
                      else if (a[l] instanceof Array) {
                        var u = a[l];
                        s.style.setProperty(l, u[0], u[1]);
                      } else {
                        var c = a[l];
                        s.style.setProperty(l, c);
                      }
                  }
                }
            });
        }),
        (e.prototype.applyScroll = function (e, t) {
          var r = this.mirror.getNode(e.id);
          if (!r) return this.debugNodeNotFound(e, e.id);
          if (r === this.iframe.contentDocument) this.iframe.contentWindow.scrollTo({ top: e.y, left: e.x, behavior: t ? "auto" : "smooth" });
          else if (r.__sn.type === o.Document) r.defaultView.scrollTo({ top: e.y, left: e.x, behavior: t ? "auto" : "smooth" });
          else
            try {
              (r.scrollTop = e.y), (r.scrollLeft = e.x);
            } catch (e) {}
        }),
        (e.prototype.applyInput = function (e) {
          var t = this.mirror.getNode(e.id);
          if (!t) return this.debugNodeNotFound(e, e.id);
          try {
            (t.checked = e.isChecked), (t.value = e.text);
          } catch (e) {}
        }),
        (e.prototype.legacy_resolveMissingNode = function (e, t, r, n) {
          var i = n.previousId,
            o = n.nextId,
            a = i && e[i],
            s = o && e[o];
          if (a) {
            var l = a,
              u = l.node,
              c = l.mutation;
            t.insertBefore(u, r), delete e[c.node.id], delete this.legacy_missingNodeRetryMap[c.node.id], (c.previousId || c.nextId) && this.legacy_resolveMissingNode(e, t, u, c);
          }
          if (s) {
            var d = s;
            (u = d.node), (c = d.mutation);
            t.insertBefore(u, r.nextSibling), delete e[c.node.id], delete this.legacy_missingNodeRetryMap[c.node.id], (c.previousId || c.nextId) && this.legacy_resolveMissingNode(e, t, u, c);
          }
        }),
        (e.prototype.moveAndHover = function (e, t, r, n, i) {
          var o = this.mirror.getNode(r);
          if (!o) return this.debugNodeNotFound(i, r);
          var a = pe(o, this.iframe),
            s = e * a.absoluteScale + a.x,
            l = t * a.absoluteScale + a.y;
          (this.mouse.style.left = s + "px"), (this.mouse.style.top = l + "px"), n || this.drawMouseTail({ x: s, y: l }), this.hoverElements(o);
        }),
        (e.prototype.drawMouseTail = function (e) {
          var t = this;
          if (this.mouseTail) {
            var r = !0 === this.config.mouseTail ? jr : Object.assign({}, jr, this.config.mouseTail),
              n = r.lineCap,
              i = r.lineWidth,
              o = r.strokeStyle,
              a = r.duration,
              s = function () {
                if (t.mouseTail) {
                  var e = t.mouseTail.getContext("2d");
                  e &&
                    t.tailPositions.length &&
                    (e.clearRect(0, 0, t.mouseTail.width, t.mouseTail.height),
                    e.beginPath(),
                    (e.lineWidth = i),
                    (e.lineCap = n),
                    (e.strokeStyle = o),
                    e.moveTo(t.tailPositions[0].x, t.tailPositions[0].y),
                    t.tailPositions.forEach(function (t) {
                      return e.lineTo(t.x, t.y);
                    }),
                    e.stroke());
                }
              };
            this.tailPositions.push(e),
              s(),
              setTimeout(function () {
                (t.tailPositions = t.tailPositions.filter(function (t) {
                  return t !== e;
                })),
                  s();
              }, a / this.speedService.state.context.timer.speed);
          }
        }),
        (e.prototype.hoverElements = function (e) {
          var t;
          null === (t = this.iframe.contentDocument) ||
            void 0 === t ||
            t.querySelectorAll(".\\:hover").forEach(function (e) {
              e.classList.remove(":hover");
            });
          for (var r = e; r; ) r.classList && r.classList.add(":hover"), (r = r.parentElement);
        }),
        (e.prototype.isUserInteraction = function (e) {
          return e.type === P.IncrementalSnapshot && e.data.source > B.Mutation && e.data.source <= B.Input;
        }),
        (e.prototype.backToNormal = function () {
          (this.nextUserInteractionEvent = null),
            this.speedService.state.matches("normal") || (this.speedService.send({ type: "BACK_TO_NORMAL" }), this.emitter.emit(V.SkipEnd, { speed: this.speedService.state.context.normalSpeed }));
        }),
        (e.prototype.restoreRealParent = function (e, t) {
          (this.mirror.map[t.__sn.id] = t), t.__sn.type === o.Element && "textarea" === t.__sn.tagName && e.textContent && (t.value = e.textContent), t.appendChild(e), this.restoreState(t);
        }),
        (e.prototype.storeState = function (e) {
          var t, r;
          if (e && e.nodeType === e.ELEMENT_NODE) {
            var n = e;
            (n.scrollLeft || n.scrollTop) && this.elementStateMap.set(e, { scroll: [n.scrollLeft, n.scrollTop] }),
              "STYLE" === n.tagName &&
                (function (e, t) {
                  var r;
                  try {
                    var n = Array.from((null === (r = e.sheet) || void 0 === r ? void 0 : r.cssRules) || []).map(function (e) {
                      return e.cssText;
                    });
                    t.set(e, [{ type: Or.Snapshot, cssTexts: n }]);
                  } catch (e) {}
                })(n, this.virtualStyleRulesMap);
            var i = n.children;
            try {
              for (var o = s(Array.from(i)), a = o.next(); !a.done; a = o.next()) {
                var l = a.value;
                this.storeState(l);
              }
            } catch (e) {
              t = { error: e };
            } finally {
              try {
                a && !a.done && (r = o.return) && r.call(o);
              } finally {
                if (t) throw t.error;
              }
            }
          }
        }),
        (e.prototype.restoreState = function (e) {
          var t, r;
          if (e.nodeType === e.ELEMENT_NODE) {
            var n = e;
            if (this.elementStateMap.has(e)) {
              var i = this.elementStateMap.get(e);
              i.scroll && ((n.scrollLeft = i.scroll[0]), (n.scrollTop = i.scroll[1])), this.elementStateMap.delete(e);
            }
            var o = n.children;
            try {
              for (var a = s(Array.from(o)), l = a.next(); !l.done; l = a.next()) {
                var u = l.value;
                this.restoreState(u);
              }
            } catch (e) {
              t = { error: e };
            } finally {
              try {
                l && !l.done && (r = a.return) && r.call(a);
              } finally {
                if (t) throw t.error;
              }
            }
          }
        }),
        (e.prototype.restoreNodeSheet = function (e) {
          var t = this.virtualStyleRulesMap.get(e);
          "STYLE" === e.nodeName && t && Lr(t, e);
        }),
        (e.prototype.warnNodeNotFound = function (e, t) {
          this.treeIndex.idRemoved(t) ? this.warn("Node with id '" + t + "' was previously removed. ", e) : this.warn("Node with id '" + t + "' not found. ", e);
        }),
        (e.prototype.warnCanvasMutationFailed = function (e, t) {
          this.warn("Has error on canvas update", t, "canvas mutation:", e);
        }),
        (e.prototype.debugNodeNotFound = function (e, t) {
          this.treeIndex.idRemoved(t) ? this.debug("[replayer]", "Node with id '" + t + "' was previously removed. ", e) : this.debug("[replayer]", "Node with id '" + t + "' not found. ", e);
        }),
        (e.prototype.warn = function () {
          for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
          this.config.showWarning && console.warn.apply(console, u(["[replayer]"], e));
        }),
        (e.prototype.debug = function () {
          for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
          this.config.showDebug && console.log.apply(console, u(["[replayer]"], e));
        }),
        e
      );
    })();
  },
]);
